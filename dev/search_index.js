var documenterSearchIndex = {"docs":
[{"location":"dipoles/dipole_theory/#Electromagnetic-Fields-of-Elementary-Dipoles","page":"Theory","title":"Electromagnetic Fields of Elementary Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/#Radiated-Fields","page":"Theory","title":"Radiated Fields","text":"","category":"section"},{"location":"dipoles/dipole_theory/#General-Current-Distribution","page":"Theory","title":"General Current Distribution","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"For a general source, consisting of an electric volume current distribution bmJ(bmr) and a magnetic current distribution bmM(bmr), the radiated electric and magnetic fields can be described by ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmE(bmr)=\niiint limits_V_textsrc\nleft\nbmmathcalG_JE\n(bmrbmr)\ncdot\nbmJ(bmr)\n+\nbmmathcalG_ME\n(bmrbmr)\ncdot\nbmM(bmr)\nright mathrmdv ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmH(bmr)=\niiint limits_V_textsrc\nleft\nbmmathcalG_JH\n(bmrbmr)\ncdot\nbmJ(bmr)\n+\nbmmathcalG_MH\n(bmrbmr)\ncdot\nbmM(bmr)\nright mathrmdv  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmmathcalG_JE=\n-mathrmj k_0 Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmmathcalG_ME=\n-nabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmmathcalG_JH=\nnabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmmathcalG_MH=\n-mathrmj dfrack_0Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"are the dyadic Green's functions derived from the scalar greens function","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":" g_0(bmrbmr)\n=\ndfracmathrme^-mathrmjk_0 bmr-bmr4pi bmr-bmr ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The involved dyadic operators have the explicit expressions","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"left(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\n=\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r bme_r \n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nmathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"nabla g_0(bmrbmr) times mathbfI\n=\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times mathbfI ","category":"page"},{"location":"dipoles/dipole_theory/#Hertzian-Dipole","page":"Theory","title":"Hertzian Dipole","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"A Hertzian dipole is a model for an elementary electric dipole. Formally, it can be regardes as a special electric current distribution of the form","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmJ_textHertz(bmr)\n=\nIbmell\n\ndelta(bmr-bmr) ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where I has the unit Ampère and denotes the excitation of the dipole, bmell denotes the oriented dipole length and delta(bmr-bmr) is the Dirac-Delta distribution. In the idealized model, bmell tends to zero, while I increases such that the product Ibmell remains constant. Using the dyadic Green's functions from above, the fields of a Hertzian dipole can be calculated as","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmE_textHertz(bmr)\n=\n-mathrmj k_0 Z_mathrmF I\nleft\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r left(bme_r cdot bmellright)\n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nbmell\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"and ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmH_textHertz(bmr)\n=I\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times bmell ","category":"page"},{"location":"dipoles/dipole_theory/#Fitzgerald-Dipole","page":"Theory","title":"Fitzgerald Dipole","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"A Fitzgerald dipole is a model for an elementary magnetic dipole. Formally, it can be regardes as a special magnetic current distribution of the form","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmM_textFitzgerald(bmr)\n=\nI_mathrmmbmell\n\ndelta(bmr-bmr) ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where I_m has the unit Volt and denotes the excitation of the dipole, bmell denotes the oriented dipole length and delta(bmr-bmr) is the Dirac-Delta distribution. In the idealized model, bmell tends to zero, while I_mathrmm increases such that the product I_mathrmmbmell remains constant. Using the dyadic Green's functions from above, the fields of a Fitzgerald dipole can be calculated as","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmE_textFitzgerald(bmr)\n=-I_mathrmm\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times bmell","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmH_textFitzgerald(bmr)\n=\n-mathrmj dfrack_0Z_mathrmF I_mathrmm\nleft\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r left(bme_r cdot bmellright)\n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nbmell\nright ","category":"page"},{"location":"dipoles/dipole_theory/#Far-Fields-of-Dipoles","page":"Theory","title":"Far Fields of Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Often, we are interested in the radiated electric field of a dipole or a collection of dipoles at observation locations bmr which are far away from the coordinate origin compared to the location bmr of the dipoles, i.e., r=bmrgg bmr=r. In these cases, the term R=bmr-bmr can be approximated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"lim limits_rrightarrow infty bmr-bmr = r -bme_r cdot bmr  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where bme_r=bmrr denotes the unit vector into the direction of the far-field observation location bmr. The dyadic Green's functions for the electric field take the form  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"lim limits_rrightarrow infty\nbmmathcalG_JE(bmrbmr)\n=\n-mathrmj k_0 Z_mathrmF  dfracmathrme^-mathrmjk_0 r4pi r \nleft(\n    mathbfI -bme_rbme_r\nright)\nmathrme^mathrmjk_0 bme_rcdot bmr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"lim limits_rrightarrow infty\nbmmathcalG_ME(bmrbmr)\n=\nmathrmj k_0  dfracmathrme^-mathrmjk_0 r4pi r \nleft(\n    bme_r times mathbfI\nright)\nmathrme^mathrmjk_0 bme_rcdot bmr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The radiated fields asymptotically far away from the sources have no components on radial direction and depend on the radial variable r only by the term dfracmathrme^-mathrmjk_0 rr. We have","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"lim limits_rrightarrow infty \nbmE(rvartheta varphi)\n=\nbmF(varthetavarphi)\ndfracmathrme^-mathrmjk_0 rr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where bmF(varthetavarphi) denotes the electric far-field pattern (unit: V). ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Obviously, the far-field pattern of a Hertzian dipole can be calculated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmF_textHertz(varthetavarphi)\n=\nI dfrac-mathrmj k_0 Z_mathrmF4pi\nmathrme^mathrmjk_0 bme_r(varthetavarphi)cdot bmr \nleft(\n    mathbfI -bme_r(varthetavarphi)bme_r(varthetavarphi)\nright)cdot ell\n ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where I is the excitation of the dipole, bmell is the oriented dipole length and bmr is the dipole location. The dyadic operator left(     mathbfI -bme_r(varthetavarphi)bme_r(varthetavarphi) right)cdot removes the field component in radial direction.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The far-field pattern of a Fitzgerald dipole can be calculated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"bmF_textFitzgerald(varthetavarphi)\n=\nI_mathrmm dfracmathrmj k_04pi\nmathrme^mathrmjk_0 bme_r(varthetavarphi)cdot bmr \nbme_r(varthetavarphi)times  ell\n ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where I_mathrmm is the excitation of the dipole, bmell is the oriented dipole length and bmr is the dipole location. Due to the cross product with the radial unit vector, the far field has a zero component in radial direction.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The far fields of a Hertzian or a Fitzgerald dipole can be evaluated by calling the function farfield(sourcedipole::AbstractDipole,θ::Number,ϕ::Number,k₀::Flaot64) -> Tuple(Complex64,2)","category":"page"},{"location":"dipoles/dipole_theory/#Received-signal","page":"Theory","title":"Received signal","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"It can be shown that an antenna of which the radiated fields can be expressed via the (normalized) equivalent electric and magnetic current distributions hatbmJ(bmr) and hatbmM(bmr) will receive the signal ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"b=\ndfrac12\niiint limits_V_textsrc\nleft\nbmE(bmr) cdot hatbmJ(bmr)\n-bmH(bmr) cdot hatbmM(bmr)\nright\n mathrmdv","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"when it is illuminated with an external electromagntic field bmE(bmr), bmH(bmr).","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Consequently, a Hertzian dipole which has a (normalized) electric equivalent current distribution of hatbmJ_textHertz(bmr) = Ibmell delta(bmr-bmr) receives the signal b_textHertz=05I bmell cdot bmE(bmr) which is proportional to the parallel component of the incident electric field at the discrete location bmr.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"A Fitzgerald which has a (normalized) magnetic equivalent current distribution of hatbmM_textFitzgerald(bmr) = I_mathrmmbmell delta(bmr-bmr) receives the signal b_textFitzgerald=-05I_mathrmm bmell cdot bmH(bmr) which is proportional to the parallel component of the incident negative magnetic field at the discrete location bmr.","category":"page"},{"location":"dipoles/dipole_theory/#Dipole-to-Dipole-Interactions","page":"Theory","title":"Dipole to Dipole Interactions","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The interaction between two elementary dipoles is modeled by letting one of the dipoles generate an electromagnetic field, which is therafter received by the other dipole.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Since the recieved signal of a Hertzian dipole is directly proportional to the parallel component of the incident electric field at the dipole position, the received signals of Hertzian dipoles can be used to ideally probe the electric field. The interaction between two Hertzian dipoles can be used to represent the radiated electric field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Since the recieved signal of a Fitzgerald dipole is directly proportional to the parallel component of the negative incident magnetic field at the dipole position, the received signals of Fitzgerald  dipoles can be used to ideally probe the magnetic field. The interaction between two Fitzgerald dipoles can be used to represent the radiated magnetic field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The detailed derivation can be found in the \"Theory\" section. The interaction between two dipoles is implemented in the function (TODO: insert correct function) Each elementary dipole is defined by its position bmr, its oriented length bmell and its excitation magnitude I. Hertzian and Fitzgerald dipoles may be constructed using the constructors as in the following example.","category":"page"},{"location":"dipoles/dipole_theory/#Interaction-between-two-Hertzian-Dipoles","page":"Theory","title":"Interaction between two Hertzian Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Hertzian dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"b=\ndfrac-mathrmj2 k_0 Z_mathrmF I_1 I_2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_theory/#Interaction-between-two-Fitzgerald-Dipoles","page":"Theory","title":"Interaction between two Fitzgerald Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Let I_mathrmm1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Fitzgerald dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"b=\ndfrac-mathrmj2 dfrack_0Z_mathrmF I_mathrmm1 I_mathrmm2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_theory/#Interaction-between-Hertzian-and-Fitzgerald-Dipole","page":"Theory","title":"Interaction between Hertzian and Fitzgerald Dipole","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"b= dfrac12\nI_1 I_mathrmm2\nleft(-mathrmjk-dfrac1bmr-bmrright) bmell_2 cdot left( bme_r times bmell_1right)","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Theory","title":"Theory","text":"The role of the transmitting and the receiving dipole may be exchanged without changing the result of the calculation (i.e., the electric field of a Fitzgerald dipole matches the electric field of a Fitzgerald dipole).","category":"page"},{"location":"spherical/spherical_examples/","page":"Examples","title":"Examples","text":"TODO: generate contentS","category":"page"},{"location":"planewaves/planewave_theory/#Plane-Wave-Representations-of-Electromagnetic-Fields","page":"Theory","title":"Plane Wave Representations of Electromagnetic Fields","text":"","category":"section"},{"location":"planewaves/planewave_theory/#Sampling-of-Plane-Wave-Representations-of-Electromagnetic-Fields","page":"Theory","title":"Sampling of Plane Wave Representations of Electromagnetic Fields","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"Far field patterns bmF(vartheta varphi) and plane wave spectra bmP(vartheta varphi) are representated by a discrete set of samples in the vartheta varphi-domain. ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"The samples should be chosen such that","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"integration over the Ewald sphere is fast and accurate\nlocal interpolation is sufficently accurate (local interpolation is necessary for efficiency, e.g., with multipole based methods)\nthe conversion  bmF(hatbmk) rightarrow bmF(-hatbmk) has small computational cost (ideally should not rely on interpolation)\nredundancy in the representation is kept minimal","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"The plane wave representation in this package have an equiangular sampling steps along varphi with 0leq varphi  2pi and distribute the vartheta-samples on a Gauß-Legendre based grid with 0 vartheta  pi, according to ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"vartheta_k=textarccos(-x_k)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"where x_k are the roots of the nth Legendre polynomial. To represent any far-field pattern or plane-ave spectrum up to a spherical mode order of L, the number of vartheta- and varphi-samplesis ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"N_vartheta=L+1","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"N_varphi=2L+2","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"Although the varphi-sampling is slightly redundant (2L+1 samples would suffice) the even number of  varphi-samples ensures that for every sampling point there is another sampling point exactly in the oppsoite direction. This has obvious benefits for the conversion  bmF(hatbmk) rightarrow bmF(-hatbmk) as well as for pattern interpolation, when the interpolation scheme requires samples at either side of the coordinate poles at varthetain 0pi. The figures below illustrate the regular sampling points and the Lagrange sampling points utilized by PlaneWaveRepresentations. ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sampling_regular.svg\" width=\"200\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    This is a regularly sampled sphere.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sampling_lagrange.svg\" width=\"200\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    This sphere is sampled according to a Gauß-Legendre sampling rule.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"planewaves/planewave_theory/#Integration","page":"Theory","title":"Integration","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"The sampling choice naturally leads to an accurate integration rule over the complete Ewald sphere ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"oiint f(hatbmk)  mathrmd^2 hatbmk \n= \nint limits_0^2pi int limits_0^pi  f(vartheta varphi)  sinvartheta mathrmdvartheta\nmathrmd varphi \napprox \nsum limits_i=1^N_varphi sum limits_k=1^N_vartheta dfrac2piN_varphi\nw_k f(vartheta_k varphi_i)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"where w_k are the Gauß-Legendre quadrature weights. The calculation of the Gauß-Legendre quadrature weights w_k and quadrature nodes x_k is efficiently implemented (to compute the N_vartheta-point Gauß quadrature nodes and weights to 16-digit accuracy takes mathcalO(N_vartheta) time [1]) in the Julia package FastGaussQuadrature.jl.","category":"page"},{"location":"planewaves/planewave_theory/#Interpolation","page":"Theory","title":"Interpolation","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"Polynomial interpolation finds a polynom p_n(x) of order n such that ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"p_n(x_i)=f(x_i) qquad i=1ldotsn  ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"The polynomial can b expressed as[2]","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"p_n(x)=sum limits_i=1^n f(x_i) w_i(x)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"with ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"w_i(x) =dfracprod limits_j=1^n (x-x_j)prod limits_j=1 jneq i^n (x_i-x_j) ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"Fairly accurate and efficient local interpolation can be achieved with the barycentric Lagrange interpolation of moderate order applied to periodic extentions of the pattern functions along circles with fixed varphi and vartheta (in particular the Legendre points are known to lead to well-conditioned polynomial interpolations [3], relatively immune against the Runge phenomenon which is commonly observed with equispaced sampling points on limited sampling domains). ","category":"page"},{"location":"planewaves/planewave_theory/#refs","page":"Theory","title":"References","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"[1]: I. Bogaert, Iteration-free computation of Gauss–Legendre quadrature nodes and weights, SIAM J.ournal on Scientific Computing, Vol. 36, No. 3, pp. A1008–A1026, 2014 DOI. 10.1137/140954969","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"[2]: Wikipedia: Polynomial interpolation","category":"page"},{"location":"planewaves/planewave_theory/","page":"Theory","title":"Theory","text":"[3]: J.-P. Berrut, L. N. Trefethen \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517, 2004 DOI. 10.1137/S0036144502417715 ","category":"page"},{"location":"spherical/spherical_fast/#Fast-Evaluation-of-S_{12}-Parameters-in-Spherical-Measurement-Setups","page":"Fast Algorithms","title":"Fast Evaluation of S_12-Parameters in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Very efficient post-processing algorithms exist for measurements of the S_12-parameter between a radiating probe antenna and a rotating receiving antenna under test (AUT). The AUT is rotated around the coordinate origin by the angles vartheta and varphi. The probe antenna remains at a fixed position in the positive z-diretion but may be rotated around the z-axis by the angle chi to  realize different polarizations of the incident field at the AUT. The measurement setup is depicted in the figure below.","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/geom_measure_dark.svg\" width=\"200\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/geom_measure.svg\" width=\"200\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Setup for the antenna field measurement.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"spherical/spherical_fast/#Fast-Evaluation-of-S_{12}-Parameters-in-Spherical-Measurement-Setups-2","page":"Fast Algorithms","title":"Fast Evaluation of S_12-Parameters in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"The  S_12-parameter can be calculated by (cf. [1, eq. (4.40)])","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"S_12(vartheta varphi chi)=sum limits_s=1^2 sum limits_ell=1^L sum limits_m=-ell^ell sum limits_mu=-ell^ell beta_sell m^mathrmautmathrme^-mathrmj m varphi mathrmd_mmu^ell(vartheta) mathrme^-mathrmj mu chialpha_sell mu^(1)mathrmpro","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Here. alpha_sell mu^(1)mathrmpro are the spherical mode coefficients of the incident probe antenna field (normalized to a unit excitation of the probe), beta_sell m^mathrmaut are the spherical receive coefficients of the AUT and mathrmd_mmu^ell(vartheta) is the so-called Wigner-d-matrix which has a finite Fourier-series expansion","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"mathrmd_mmu^ell(vartheta)= mathrmj^m-mu sum limits_m_vartheta=-ell^ell  Delta_m_varthetamu^ell Delta_m_varthetam^ell mathrme^-mathrmj m_vartheta  vartheta ","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"where the deltas","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Delta_m_varthetam^ell= mathrmd_mmu^ell(mathrmpi2)","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"correspond to the calue of the Wigner-d-matrix at vartheta=mathrmpi2.","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Substituting the series expansion into the original equation, one obtains","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"S_12(vartheta varphi chi)=\nsum limits_mu=-L^L \nmathrme^-mathrmj mu chi\nunderbrace\nsum limits_m=-L^L\nmathrme^-mathrmj m varphi\nunderbrace\nsum limits_m_vartheta=-L^L\nmathrme^-mathrmj m_vartheta  vartheta \nunderbrace\nmathrmj^m-mu\nsum limits_ell=max(mm_vartheta1)^L\nDelta_m_varthetamu^ell Delta_m_varthetam^ell\n underbrace\n sum limits_s=1^2 \n alpha_sell mu^(1)mathrmpro\nbeta_sell m^mathrmaut\n_u_mumell\n_tildev_mumm_vartheta\n_v_mum(vartheta)\n_w_mu(varthetavarphi)","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"The form of the above equation gives rise to an efficient algorithm to evaluate the S_12-parameter on a spherical measurement surface by successively calculating  alpha_sell mu^(1)mathrmpro beta_sell m^mathrmaut rightarrow u_mumell rightarrow tildev_mumm_vartheta rightarrow v_mum(vartheta) rightarrow w_mu(varthetavarphi). The occurring Fourier series are evaluated using a fast Fourier transform giving rise to the resulting data available at a regular spherical sampling grid.","category":"page"},{"location":"spherical/spherical_fast/#Radiating-Hertzian-Dipole-Probe-and-Receiving-AUT","page":"Fast Algorithms","title":"Radiating Hertzian Dipole Probe and Receiving AUT","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"If we want to calculate the transmission between a dipole probe and the AUT, we need to know the spherical wave expansion of the probe field at the AUT location.  The incident field at the coordinate origin of a Hertzian dipole, oriented in x- direction with a given dipole moment Iell at a given location bmr= r bme_z on the z-axis, is characterized by the spherical wave coefficients ","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_1ell1^(1)=dfrac-mathrmj4 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi h_ell^(2)(kr)","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_1ell-1^(1)=dfrac-mathrmj4 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi h_ell^(2)(kr)","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_2ell1^(1)=dfrac14 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi dfrac1kr  dfracmathrmdmathrmd kr leftkrh_ell^(2)(kr)right","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_2ell-1^(1)=dfrac-14 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi dfrac1kr  dfracmathrmdmathrmd kr leftkrh_ell^(2)(kr)right","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"where h_ell^(2)(kr) are the spherical Hankel functions of second kind. All incident field coefficients with mneq 1 are equal to zero. ","category":"page"},{"location":"spherical/spherical_fast/#Regularly-Sampled-Far-Field-of-AUT","page":"Fast Algorithms","title":"Regularly Sampled Far Field of AUT","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"The far field pattern of the AUT can be calculated by determining the received signal of a plane wave illumination traveling into the desired propagation directions. To determine the correctly normalized far-field pattern (with unit V), we utilize the spherical expansion of a x-polarized plane wave traveling into negativ z-direction with the coefficients","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_1ell1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_2ell1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_1ell-1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"alpha_2ell-1^(1)= mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2 ","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"All incident field coefficients with mneq 1 are equal to zero.  Using the reciprocity relation beta_sell m^mathrmaut=(-1)^m alpha_sell- m^(4)mathrmaut, we can efficiently calculate the desired far fields for regularly sampled vartheta and varphi.","category":"page"},{"location":"spherical/spherical_fast/#Fast-Reconstruction-of-Expansion-Coefficients-from-S_{12}-Parameters-in-Spherical-Measurement-Setups","page":"Fast Algorithms","title":"Fast Reconstruction of Expansion Coefficients from S_12-Parameters in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"The  S_12-parameter can be calculated by (cf. [1, eq. (4.40)])","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"S_12(vartheta varphi chi)=\nsum limits_mu=pm 1 \nmathrme^-mathrmj mu chi\nunderbrace\nsum limits_m=-L^L\nmathrme^-mathrmj m varphi\nunderbrace \nsum limits_ell=max(mm_vartheta1)^L\nmathrmd_mum^ell(vartheta)\n underbrace\n sum limits_s=1^2 \n alpha_sell mu^(1)mathrmpro\nbeta_sell m^mathrmaut\n_u_mumell\n_v_mum(vartheta)\n_w_mu(varthetavarphi)","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Here, mathrmd_mmu^ell(vartheta) is the so-called Wigner-d-matrix, alpha_sell mu^(1)mathrmpro are the spherical mode coefficients of the incident probe antenna field (normalized to a unit excitation of the probe), and beta_sell m^mathrmaut are the spherical receive coefficients of the AUT which we aim to reconstruct from the measured data. Note, that a first-order probe is assumed here (i.e., all incident modes with muneq pm 1 are zero), reducing the number of summation terms in the mu-summation to two.  ","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"Starting at S_12, we can successively calculate S_12rightarrow w_mu(varthetavarphi) rightarrow v_mum(vartheta) using the orthogonality relations","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"int limits_0^2pi\nmathrme^ mathrmj (m-m) varphi  mathrmd varphi = 2pi  delta_mm","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"and","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"int limits_0^pi\nmathrmd_mm^ell(vartheta)\n\nmathrmd_mm^ell(vartheta)\n\nsin(vartheta) \n mathrmd vartheta = dfrac22ell+1  delta_ellell","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"from where the beta_sell m^mathrmaut can be found by solving a 2times 2 system of linear equations","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"\tbeginbmatrix\n\t\tu_+1mell05em\n\t\tu_-1mell\n\tendbmatrix\n=\nbeginbmatrix\nalpha_1ell +1^(1)mathrmpro \n\nalpha_2ell +1^(1)mathrmpro \n05em\nalpha_1ell -1^(1)mathrmpro \n\nalpha_2ell -1^(1)mathrmpro\t\nendbmatrix\n\n\tbeginbmatrix\n\tbeta_1 ell m ^mathrmaut05em\n\tbeta_2 ell m ^mathrmaut\nendbmatrix ","category":"page"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"","category":"page"},{"location":"spherical/spherical_fast/#refs","page":"Fast Algorithms","title":"References","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Fast Algorithms","title":"Fast Algorithms","text":"[1] J. E. Hansen, ed., Spherical Near-Field Antenna Measurements, The Institution of Engineering and Technology, Michael Faraday House, Six Hills Way, Stevenage SG1 2AY, UK: IET, 1988.","category":"page"},{"location":"operations/interactions/#Transmission-Between-Field-Representations","page":"Transmissions","title":"Transmission Between Field Representations","text":"","category":"section"},{"location":"operations/interactions/","page":"Transmissions","title":"Transmissions","text":"In this chapter we investigate how we can model the interaction (or transmission) between two field representations.","category":"page"},{"location":"operations/interactions/","page":"Transmissions","title":"Transmissions","text":"To be able to evaluate the interaction, at least one of the field representations must be of a radiating type, such that it can meaningfully represent an antenna in transmit mode. By inferring reciprocity, we can calculate which signal such an antenna would receive when illuminated by a given incident field. ","category":"page"},{"location":"operations/interactions/","page":"Transmissions","title":"Transmissions","text":"The second field representation type must be either representing an incident field or a radiating field (in which case an incident field at the receive antenna location can be calculated from the radiating field type). ","category":"page"},{"location":"operations/interactions/","page":"Transmissions","title":"Transmissions","text":"All possible interactions between field types are listed below.","category":"page"},{"location":"operations/interactions/#Dipole-Dipole","page":"Transmissions","title":"Dipole <-> Dipole","text":"","category":"section"},{"location":"operations/interactions/#Dipole-Arbitrary-Spherical-Expansion","page":"Transmissions","title":"Dipole <-> Arbitrary Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Dipole-Arbitrary-Plane-Wave-Representation","page":"Transmissions","title":"Dipole <-> Arbitrary Plane-Wave Representation","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Radiating-Spherical-Expansion","page":"Transmissions","title":"Radiating Spherical Expansion <-> Radiating Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Incident-Spherical-Expansion","page":"Transmissions","title":"Radiating Spherical Expansion <-> Incident Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Far-Field-Pattern","page":"Transmissions","title":"Radiating Spherical Expansion <-> Far-Field Pattern","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Plane-Wave-Spectrum","page":"Transmissions","title":"Radiating Spherical Expansion <-> Plane-Wave Spectrum","text":"","category":"section"},{"location":"operations/interactions/#Far-Field-Pattern-Far-Field-Pattern","page":"Transmissions","title":"Far-Field Pattern <-> Far-Field Pattern","text":"","category":"section"},{"location":"operations/interactions/#Far-Field-Pattern-Plane-Wave-Spectrum","page":"Transmissions","title":"Far-Field Pattern <-> Plane-Wave Spectrum","text":"","category":"section"},{"location":"operations/coordinate_trafos/#Field-Representations-in-Transformed-Coordinate-Systems","page":"Coordinate Transformations","title":"Field Representations in Transformed Coordinate Systems","text":"","category":"section"},{"location":"operations/coordinate_trafos/#Rotated-Coordinate-System","page":"Coordinate Transformations","title":"Rotated Coordinate System","text":"","category":"section"},{"location":"operations/coordinate_trafos/#Translated-Coordinate-System","page":"Coordinate Transformations","title":"Translated Coordinate System","text":"","category":"section"},{"location":"dipoles/dipole_examples/#Dipole-to-Dipole-Interactions","page":"Examples","title":"Dipole to Dipole Interactions","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"The interaction between two elementary dipoles is modeled by letting one of the dipoles generate an electromagnetic field, which is therafter received by the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"Since the recieved signal of a Hertzian dipole is directly proportional to the parallel component of the incident electric field at the dipole position, the received signals of Hertzian dipoles can be used to ideally probe the electric field. The interaction between two Hertzian dipoles can be used to represent the radiated electric field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"Since the recieved signal of a Fitzgerald dipole is directly proportional to the parallel component of the negative incident magnetic field at the dipole position, the received signals of Fitzgerald  dipoles can be used to ideally probe the magnetic field. The interaction between two Fitzgerald dipoles can be used to represent the radiated magnetic field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"The detailed derivation can be found in the \"Theory\" section. The interaction between two dipoles is implemented in the function (TODO: insert correct function) Each elementary dipole is defined by its position bmr, its oriented length bmell and its excitation magnitude I. Hertzian and Fitzgerald dipoles may be constructed using the constructors as in the following example.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-two-Hertzian-Dipoles","page":"Examples","title":"Interaction between two Hertzian Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Hertzian dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"b=\ndfrac-mathrmj2 k_0 Z_mathrmF I_1 I_2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-two-Fitzgerald-Dipoles","page":"Examples","title":"Interaction between two Fitzgerald Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"Let I_mathrmm1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Fitzgerald dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"b=\ndfrac-mathrmj2 dfrack_0Z_mathrmF I_mathrmm1 I_mathrmm2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-Hertzian-and-Fitzgerald-Dipole","page":"Examples","title":"Interaction between Hertzian and Fitzgerald Dipole","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"b= dfrac12\nI_1 I_mathrmm2\nleft(-mathrmjk-dfrac1bmr-bmrright) bmell_2 cdot left( bme_r times bmell_1right)","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Examples","title":"Examples","text":"The role of the transmitting and the receiving dipole may be exchanged without changing the result of the calculation (i.e., the electric field of a Fitzgerald dipole matches the electric field of a Fitzgerald dipole).","category":"page"},{"location":"planewaves/planewave_examples/#TODO:-generate-content","page":"Examples","title":"TODO: generate content","text":"","category":"section"},{"location":"api/#API-Reference","page":"API","title":"API Reference","text":"","category":"section"},{"location":"api/#Public-Types","page":"API","title":"Public Types","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations]\nPrivate = false\nOrder= [:type]","category":"page"},{"location":"api/#AntennaFieldRepresentations.AbsorbedSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.AbsorbedSphericalExpansion","text":"AbsorbedSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of absorbed type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractDipole","page":"API","title":"AntennaFieldRepresentations.AbstractDipole","text":"Abstract type container type for HertzDipole and FitzgeraldDipole\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.AbstractSphericalExpansion","text":"SphericalExpansions can be Radiating, Incident, or Absorbed\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractSurfaceCurrentDensity","page":"API","title":"AntennaFieldRepresentations.AbstractSurfaceCurrentDensity","text":"Abstract type container type for Surface current densities\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.FarfieldPattern","page":"API","title":"AntennaFieldRepresentations.FarfieldPattern","text":"Radiated far-field pattern sampled in angular domain. Sampling points lie on equiangular grid in ϕ and Gauß-Legendre grid in θ. Number and location of sampling points is defined by L. length(θ)=L+1 length(ϕ)=2L+2.\n\nFields:\n\nk₀::Float64 : Wavenumber L::Int64 : Order of the representation Eθ::Array{<:Complex,2} : matrix storing the complex values for the θ-components Eϕ::Array{<:Complex,2} : matrix storing the complex values for the ϕ-components\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.FitzgeraldDipole","page":"API","title":"AntennaFieldRepresentations.FitzgeraldDipole","text":"FitzgeraldDipole{T<:Number} <: AbstractDipole\n\nStore information for a magnetic dipole\n\nFields\n\npos::SArray{Tuple{3},T,1,3} : position (can be real or complex)\ndir::SArray{Tuple{3},T,1,3} : direction (must be complex to enable circular polarization)\nmag::ComplexF64 : magnitude (for scalar excitation)\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.HertzDipole","page":"API","title":"AntennaFieldRepresentations.HertzDipole","text":"HertzDipole{T<:Number} <: AbstractDipole\n\nStore information for an electric dipole\n\nFields\n\npos::SArray{Tuple{3},T,1,3} : position (can be real or complex)\ndir::SArray{Tuple{3},T,1,3} : direction (must be complex to enable circular polarization)\nmag::ComplexF64 : magnitude (for scalar excitation)\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.IncidentSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.IncidentSphericalExpansion","text":"IncidentSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of incident type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.MLFMMInteractionMatrix","page":"API","title":"AntennaFieldRepresentations.MLFMMInteractionMatrix","text":"MLFMMInteractionMatrix{C} <: LinearMaps.LinearMap{C}\n\nRepresent interactions between array of dipole sources and array of dipole probes as abstract matrix\n\nFields\n\nsourcestruct::AntennaFieldRepresentations.MLFMMSource\nreceivestruct::AntennaFieldRepresentations.MLFMMReceive\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.PlaneWave","page":"API","title":"AntennaFieldRepresentations.PlaneWave","text":"Object for a single plane wave\n\nFields:\n\nkvec::Array{<:Number,1} : k-vector determining the propagation direction. If complex valued: Evanescent components pol::Array{<:Number,1} : polarizatiion vector. If complex valued: elliptic polarization mag::Complex : Complex valued excitation amplitude\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.PlaneWaveSpectrum","page":"API","title":"AntennaFieldRepresentations.PlaneWaveSpectrum","text":"Incident plane-wave spectrum sampled in angular domain. Sampling points lie on equiangular grid in ϕ and Gauß-Legendre grid in θ. Number and location of sampling points is defined by L. length(θ)=L+1 length(ϕ)=2L+2.\n\nFields:\n\nk₀::Float64 : Wavenumber L::Int64 : Order of the representation Eθ::Array{Complex{Float64},2} : matrix storing the complex values for the θ-components Eϕ::Array{Complex{Float64},2} : matrix storing the complex values for the ϕ-components \n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.RadiatingSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.RadiatingSphericalExpansion","text":"RadiatingSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of radiating type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#Public-Functions","page":"API","title":"Public Functions","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations]\nPrivate = false\nOrder= [:function]","category":"page"},{"location":"api/#AntennaFieldRepresentations.Wacker-Union{Tuple{C}, Tuple{T}, Tuple{Array{C, 3}, Vector{T}}} where {T<:Complex, C<:Complex}","page":"API","title":"AntennaFieldRepresentations.Wacker","text":"Wacker(S12, αin, [θvec, weightvec])\n\nReturn (receiving) spherical mode coefficients from measured S12 data with regular grid points on sphere. S12 is expected to have dimensions (L+1) × (2L+1) × 2 if no θvec or Jθ, JΦ, Jχ is given\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Wackerforward-Union{Tuple{C}, Tuple{Vector{C}, Vector{C}, Integer, Integer}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.Wackerforward","text":"Wackerforward(α_inc,  β_aut, Jθ, Jϕ[, Jχ])\n\nReturn regularly sampled S12 measurement data on sphere.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Wackerforward_ad-Union{Tuple{C}, Tuple{K}, Tuple{Vector{C}, Array{K, 3}, Integer, Integer, Integer}} where {K<:Complex, C<:Complex}","page":"API","title":"AntennaFieldRepresentations.Wackerforward_ad","text":"Wackerforward_ad(α_inc, S21, Jθ, Jϕ, Jχ)\n\nReturn adjoint operator to Wackerforward(α_inc,  β_aut, Jθ, Jϕ, Jχ).\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.cdist-Tuple{Vector{<:Real}}","page":"API","title":"AntennaFieldRepresentations.cdist","text":"cdist(R::Array{<:Number,1}) -> Number\n\nReturn √(R⋅R) without complex conjugation of R in the dot product. Corresponds to the norm operator for real valued vectors\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.convertrepresentation","page":"API","title":"AntennaFieldRepresentations.convertrepresentation","text":"convertrepresentation(newType<:Type{FieldRepresentation}, fieldobject<: FieldRepresentation, args)\n\nConvert field representation into other type with different datastructure.\n\nField evaluations of the respective old and new field representations should be approximately equal in a common region of convergence.\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.converttype","page":"API","title":"AntennaFieldRepresentations.converttype","text":"converttype(newType<:Type{FieldRepresentation}, fieldobject<: FieldRepresentation)\n\nConvert field representation into other type with same datastructure. Field avaluations of the respective old and new field representations will differ.\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.efield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.efield","text":"efield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Ex;Ey;Ez]\nefield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Ex;Ey;Ez]\n\nReturn the E-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.ehfield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.ehfield","text":"ehfield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Ex;Ey;Ez], [Hx;Hy;Hz]\nehfield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Ex;Ey;Ez], [Hx;Hy;Hz]\n\nReturn the E-field and H-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.elementtype","page":"API","title":"AntennaFieldRepresentations.elementtype","text":"elementtype(fieldobject<:FieldRepresentation)\n\nReturn base type of elements representing the fields in fieldobject. Default is ComplexF64\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.hfield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.hfield","text":"hfield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Hx;Hy;Hz]\nhfield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Hx;Hy;Hz]\n\nReturn the H-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.j_to_sℓm-Tuple{Any}","page":"API","title":"AntennaFieldRepresentations.j_to_sℓm","text":"j_to_sℓm(j)\n\nConvert single index j to multi-index s ℓ m\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.reciprocaltype-Tuple{Type{<:AbstractElectromagneticFieldRepresentation}}","page":"API","title":"AntennaFieldRepresentations.reciprocaltype","text":"reciprocaltype(type::Type{<:AbstractElectromagneticFieldRepresentation}) -> Type{<:AbstractElectromagneticFieldRepresentation}\n\nReturn type of the field representation which is reciprocal to the input type.    \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.resample-Tuple{FarfieldPattern, AntennaFieldRepresentations.AbstractInterpolationStrategy}","page":"API","title":"AntennaFieldRepresentations.resample","text":"resample(pattern::PlaneWaveRepresentation, L::Integer, [orderθ::Integer=12, orderϕ::Integer=12]) -> newpattern::PlaneWaveRepresentation\n\nReturn pattern sampled according to order L using Lagrange interpolation of orders orderθ, orderϕ     \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.revertdirection-Tuple{P} where P<:PlaneWaveRepresentation","page":"API","title":"AntennaFieldRepresentations.revertdirection","text":"revertdirection(pattern::PlaneWaveRepresentation) -> pattern_revert::PlaneWaveRepresentation\n\nReturn PlaneWaveRepresentation with reverted propagation directions. F(k) -> F(-k)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.rot_mat_zyz-Tuple{Number, Number, Number}","page":"API","title":"AntennaFieldRepresentations.rot_mat_zyz","text":"rot_mat_zyz(χ::Number, θ::Number, ϕ::Number)-> R::Matrix{eltype(χ, θ, ϕ)}\n\nReturn rotation matrix for cartesian vector components for a rotation around Euler angles χ, θ, ϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.rotate-Tuple{Any}","page":"API","title":"AntennaFieldRepresentations.rotate","text":"rotate(fieldobject<:FieldRepresentation, χ::Number, θ::Number, ϕ::Number) -> rotatedfieldobject<:Fieldrepresentation\nrotate(fieldobject<:FieldRepresentation; [χ=0.0],  [θ=0.0], [ϕ=0.0]) -> rotatedfieldobject<:Fieldrepresentation\n\nRotate a field representation around the Euler angles χ, θ, ϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.samplingrule-Tuple{Integer}","page":"API","title":"AntennaFieldRepresentations.samplingrule","text":"samplingrule(L::Integer) -> ( w::Array{Float64,1}, θ::Array{Float64,1}, ϕ::Array{Float64,1} )\n\nReturn sampling points for θ, ϕ, and θ-integration weights w for a far field or plane wave spectrum of order L.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.shiftrepresentation","page":"API","title":"AntennaFieldRepresentations.shiftrepresentation","text":"shiftrepresentation(fieldobject<:FieldRepresentation, R, k₀::Number) -> newobject<:Fieldrepresentation\n\nTranslate field representation into field representation of same type in translated coordinate system with new origin at R. \n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.sqrtdot-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations.sqrtdot","text":"sqrtdot(u::Array{<:Number,1}, v::Array{<:Number,1}) -> Number\n\nReturn √(u⋅v) without complex conjugation of u\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.sℓm_to_j-Tuple{Any, Any, Any}","page":"API","title":"AntennaFieldRepresentations.sℓm_to_j","text":"sℓm_to_j(s,ℓ,m)\n\nConvert multi-index s ℓ m to single index j\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.translate","page":"API","title":"AntennaFieldRepresentations.translate","text":"translate(fieldobject<:FieldRepresentation, R, k₀::Number) -> newobject<:Fieldrepresentation\n\nTranslate radiating field representation into incident field representation in translated coordinate system with new origin at R. \n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.transmission-Union{Tuple{T}, Tuple{Any, T, Number}} where T<:AbstractElectromagneticFieldRepresentation","page":"API","title":"AntennaFieldRepresentations.transmission","text":"transmission(sender<:FieldRepresentation, receiver<:FieldRepresentation, k₀::Number) -> val::Complex\n\nReturn interaction between two field representations ( or source representations)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.udot-Tuple{Vector{<:Real}, Vector{<:Real}}","page":"API","title":"AntennaFieldRepresentations.udot","text":"dotu(u::Array{<:Number,1}, v::Array{<:Number,1}) -> Number\n\nReturn u⋅v without complex conjugation of u\n\n\n\n\n\n","category":"method"},{"location":"api/#Private-Functions-and-Types","page":"API","title":"Private Functions and Types","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations, AntennaFieldRepresentations.MLFMMTrees]\nPublic = false","category":"page"},{"location":"api/#AntennaFieldRepresentations.EquiangularFarFieldPattern","page":"API","title":"AntennaFieldRepresentations.EquiangularFarFieldPattern","text":"Far-field pattern sampled in angular domain. Sampling points lie on equiangular grid in ϕ and θ.\n\nFields:\n\nk₀::Float64 Jθ::Integer : defines sampling density in θ: Δθ= 2π/Jθ Jϕ::Integer : defines sampling density in ϕ: Δϕ= 2π/Jϕ Eθ::Array{Complex{Float64},2} : matrix storing the complex values for the corresponding co polar plane wave Eϕ::Array{Complex{Float64},2} : matrix storing the complex values for the corresponding cross polar plane wave\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.UnorthodoxSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.UnorthodoxSphericalExpansion","text":"UnorthodoxSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of absorbed type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_cartesian-NTuple{6, Any}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_cartesian","text":"F_sℓm_cartesian(s,ℓ,m,c,R,k0) -> [Fx;Fy;Fz]\n\nReturn normalized vector spherical wave function at R in cartesian coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_cartesian_array-Union{Tuple{N}, Tuple{Integer, Type{<:AbstractSphericalExpansion}, AbstractArray{N}, Number}} where N<:Number","page":"API","title":"AntennaFieldRepresentations.F_sℓm_cartesian_array","text":"F_sℓm_cartesian_array(s,ℓ,m,c,R,k0) -> [Fx;Fy;Fz]\n\nReturn normalized vector spherical wave function at R in cartesian coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical","text":"F_sℓm_spherical(s,ℓ, m,r,ϑ,φ) -> [Fr;Fϑ;Fφ]\n\nReturn normalized vector spherical wave function at r,ϑ,φ in spherical coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical_array-Tuple{Integer, Type{<:AbstractSphericalExpansion}, Real, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical_array","text":"F_sℓm_spherical_array(Jmaxxc,r,ϑ,φ, k0) -> Fr[1:Jmaxx], Fϑ[1:Jmaxx], Fφ[1:Jmaxx]\n\nReturn all spherical vector wave functions upt to Jmaxx at r, ϑ, φ in spherical coordinates\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical_rzero-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical_rzero","text":"F_sℓm_rzero(s,ℓ, m ,c,ϑ,φ, k0) -> Fr,Fϑ,Fφ\n\nCatches special cases for r==0 Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_thetapi-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_thetapi","text":"F_sℓm_thetapi(s,ℓ,m,c,r,φ,k0) -> Fr,Fϑ,Fφ\n\nCatches special cases for ϑ==pi Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_thetazero-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_thetazero","text":"F_sℓm_thetazero(s,ℓ,m,c,r,φ,k0)- > Fr,Fϑ,Fφ\n\nCatches special cases for ϑ==0 Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Greensdivdiv-Tuple{Any, Any, Float64}","page":"API","title":"AntennaFieldRepresentations.Greensdivdiv","text":"Greensdivdiv(R::SArray{Tuple{3},C,1,3}, dipoledir, k₀::Float64) -> SArray{Tuple{3},C,1,3}\nGreensdivdiv(R::Array{<:Number,3}, dipoledir, k₀::Float64) -> Array{<:Number,3}\n\nReturn  dyadic operator (I+1/k² ∇∇) g₀(r,r') \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Greensrot-Tuple{Any, Any, Float64}","page":"API","title":"AntennaFieldRepresentations.Greensrot","text":"Greensrot(R::SArray{Tuple{3},C,1,3}, dipoledir, k₀::Float64) -> SArray{Tuple{3},C,1,3}   Greensrot(R::Array{<:Number,3}, dipoledir, k₀::Float64) -> Array{<:Number,3}\n\nReturn dyadic operator ∇g₀(r,r') × I\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm-Union{Tuple{C}, Tuple{Integer, Integer, Integer, Number, Real}, Tuple{Integer, Integer, Integer, Number, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm","text":"K_sℓm(s,ℓ,m,ϑ,φ) -> Kϑ,Kφ\n\nReturn farfield vector spherical wave function in spherical coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_array-Union{Tuple{C}, Tuple{Integer, Number, Real}, Tuple{Integer, Number, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm_array","text":"K_sℓm_array(Jmaxx,ϑ,φ) -> Kϑ[1:Jmaxx], Kφ[1:Jmaxx]\n\nReturn farfield for all vector spherical wave functions up to Jmaxx in spherical coordinates\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_thetapi-Tuple{Integer, Integer, Integer, Real}","page":"API","title":"AntennaFieldRepresentations.K_sℓm_thetapi","text":"K_sℓm_thetapi(s,ℓ,m,c,φ) -> Kϑ, Kφ\n\nCatches special cases for ϑ==π Hansen p. 329f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_thetazero-Union{Tuple{C}, Tuple{Integer, Integer, Integer, Real}, Tuple{Integer, Integer, Integer, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm_thetazero","text":"K_sℓm_thetazero(s,ℓ,m,c,φ) -> Kϑ, Kφ\n\nCatches special cases for ϑ==0 Hansen p. 329f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Plm_deriv_array-Union{Tuple{I}, Tuple{T}, Tuple{I, I, T}} where {T<:Number, I<:Integer}","page":"API","title":"AntennaFieldRepresentations.Plm_deriv_array","text":"Plm_deriv_array(Lmax,m,x)\n\nReturn unnormalized Associated Legendre polynomials and their derivaives up to Lmax\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._adjoint_aggregate!","text":"_adjoint_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nPerform adjoint operation (i.e., complex conjugate of transposed operation) of _adjoint_aggregate!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._adjoint_aggregate_leafnodes!","text":"_adjoint_aggregate_leafnodes!(A::MLFMMSource)\n\nPerform the adjoint operation (i.e., conjugate of transposed operation) to _aggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive, AbstractVector}","page":"API","title":"AntennaFieldRepresentations._adjoint_disaggregate!","text":"_adjoint_disaggregate!(A::MLFMMReceive, [y::AbstractVector])\n\nPerform adjoint operation (i.e., complex conjugate of transposed operation) of _disaggregate!#\n\nIf no vector y is given, the content in A.bvector is used for adjoint disaggregation.  Otherwise, A.bvector is overwritten by y before adjoint disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_disaggregate_leafnodes!","text":"_adjoint_disaggregate_leafnodes!(A::MLFMMReceive)\n\nPerform ajoint operation (i.e., complex conjugate of transposed operation) of _disaggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_forward!","text":"_adjoint_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nStore the result of the adjoint matrix vector product in sourcevector.xvector\n\nIf no vector y is given, receivestruct.bvector is used as tight vector. Otherwise, receivestruct.bvector is overwritten by the content of y before the operation is performed    \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_transfer!","text":"_adjoint_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform the adjoint operator (i.e., complex conjugate of transposed operator) of transfer!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._aggregate!","text":"_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nAggregate A according to aggregationlist.\n\nThe aggregationlist specifies for each level which nodes shall be aggregated.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_children!-Tuple{AntennaFieldRepresentations.MLFMMSource, Any}","page":"API","title":"AntennaFieldRepresentations._aggregate_children!","text":"_aggregate_children!(A::MLFMMSource, parentnode)\n\nFill pattern storage of parentnode with aggregated pattern from all its children.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._aggregate_leafnodes!","text":"_aggregate_leafnodes!(A::MLFMMSource)\n\nFill storage for leaf node patterns due to excitation vector A.xvector.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_to_minlevel!-Tuple{AntennaFieldRepresentations.MLFMMSource, Any}","page":"API","title":"AntennaFieldRepresentations._aggregate_to_minlevel!","text":"aggregatetominlevel!(A::MLFMMSource, [x::AbstractVector]; minaggregationlevel::Integer=0)\n\nAggregate A up to min_aggregationlevel. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._allocatenodepattern-Union{Tuple{S}, Tuple{R}, Tuple{Type{S}, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Vector{<:Integer}, Vector{Vector{Int64}}}} where {R<:Real, S<:Union{FarfieldPattern{Complex{R}}, PlaneWaveSpectrum{Complex{R}}}}","page":"API","title":"AntennaFieldRepresentations._allocatenodepattern","text":"_allocatenodepattern(P::Type{S}, tree::MLFMMTrees.AbstractMLFMMTree, cutoffparameters::Vector{<:Integer}, [transferlist::Vector{Vector{Int}}, minlevelel::Int]) where {R<:Real, S<:Union{PlaneWaveSpectrum{Complex{R}}, FarfieldPattern{Complex{R}}}}\n\nAllocate memory for intermediate representation of far field patterns for each node in tree. \n\nIf transferlist is provided, only node patterns which are relevant for translations are stored. If minlevel is provided, only node patterns up to minlevel are stored.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._collectPl!-Union{Tuple{T}, Tuple{I}, Tuple{AbstractVector{T}, I, T}} where {I<:Integer, T<:Number}","page":"API","title":"AntennaFieldRepresentations._collectPl!","text":"_collectPl!(Pℓstorage, Lmax,x)\n\nReturn Legendre polynomials up to Lmax with preallocated storage\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._cutoffparameter-Tuple{Any, Any, Any}","page":"API","title":"AntennaFieldRepresentations._cutoffparameter","text":"_cutoffparameter(diameter, expectedaccuracy, k0)\n\nReturn cutoff parameter (i.e., maximum spherical mode index L) to represent sources inside sphere of given diameter with expected accuracy.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._disaggregate!","text":"_disaggregate!(receivestruct::MLFMMReceive)\n\nPerform all disaggregations according to receivestruct.disaggregationlist. The receivestruct.disaggregationlist stores all nodes at each level which shall perform a disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._disaggregate_children!","text":"_disaggregate_children!(receivestruct, parentnode)\n\nDisaggregate pattern of parentnode to all its children and store the resulting patterns in receivestruct.nodespectra[child]\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._disaggregate_leafnodes!","text":"_disaggregate_leafnodes!(receivestruct::MLFMMReceive)\n\nTest leaf node patterns with all test functions of corresponding leafnode and store result in receivestruct.bvector\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._extract_θ_row!-Union{Tuple{C}, Tuple{Any, Any, Matrix{C}, Matrix{C}, Any, AbstractVector}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations._extract_θ_row!","text":"_extract_θ_row!(storage, Ematr::Array{C,2}, iθrange, wθ::<:AbstractVector) where {C<:Complex}\n\nUse interpolation weights wθ and correctly mapped range 'iθrange' to extract values for all plane waves in certain θ-cut from matrix of PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._forward!","text":"_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive,[x])\n\nStore the result of the matrix vector product in receivestruct.bvector\n\nIf no vector x is given, sourcestruct.xvector is used as excitation vector. Otherwise, sourcestruct.xvector is overwritten by the content of x before the operation is performed\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._getpoints-Tuple{AbstractSurfaceCurrentDensity}","page":"API","title":"AntennaFieldRepresentations._getpoints","text":"_getpoints(basisfunctions)\n\nReturn list of SVector{3} representing the reference (i.e., center) locations of the basisfunctions\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._getsourcefunctions-Union{Tuple{@NamedTuple{sourcefunctions::V1, points::V2}}, Tuple{V2}, Tuple{V1}} where {V1, V2}","page":"API","title":"AntennaFieldRepresentations._getsourcefunctions","text":"_getsourcefunctions(basisfunctions)\n\nReturn list of individual source functions\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_aggregationlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any}","page":"API","title":"AntennaFieldRepresentations._initialize_aggregationlist","text":"_initialize_aggregationlist(TXtree::MLFMMTrees.AbstractMLFMMTree, transferlist)\n\nReturn a list of nodes per level which shall be aggregated to be able to perform all transfers provided in transferlist.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_disaggregationlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any}","page":"API","title":"AntennaFieldRepresentations._initialize_disaggregationlist","text":"_initialize_disaggregationlist(RXtree::MLFMMTrees.AbstractMLFMMTree, transferlist)\n\nReturn a list of nodes per level which shall be disaggregated to be able to perform all  disaggregations from nodes which receive transfers provided in transferlist.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_transferlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree}","page":"API","title":"AntennaFieldRepresentations._initialize_transferlist","text":"_initialize_transferlist(TXtree::MLFMMTrees.AbstractMLFMMTree, RXtree::MLFMMTrees.AbstractMLFMMTree; num_bufferboxes::Integer=1)\n\nFor each node in RXtree, return a list of all transmit nodes in TXtree which shall perform a transfer to the receive node.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_tree-Union{Tuple{R}, Tuple{AbstractArray{StaticArraysCore.SVector{3, R}}, R}} where R<:Real","page":"API","title":"AntennaFieldRepresentations._initialize_tree","text":"_initialize_tree(points::AbstractArray{SVector{3,R}}, minhalfsize::R) where{R<:Real}\n\nAssemble 'MLFMMTree' based on point cloud and half length of leave boxes\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializebasisfunctionfarfields-Union{Tuple{I}, Tuple{S}, Tuple{R}, Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, S, Vector{I}, R, Bool}} where {R<:Real, S<:AbstractSurfaceCurrentDensity, I<:Int64}","page":"API","title":"AntennaFieldRepresentations._initializebasisfunctionfarfields","text":"_initializebasisfunctionfarfields(tree::MLFMMTrees.AbstractMLFMMTree, basisfunctions::S, cutoffparameters::Vector{I}, k0::R, verbose::Bool) where {R<:Real, S<:AbstractSurfaceCurrentDensity, I<:Int}\n\nReturn list of far fields for every basis function on leaf level.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializebasisfunctionweightingpatterns-Union{Tuple{R}, Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any, Vector{<:Integer}, R, Bool}} where R<:Real","page":"API","title":"AntennaFieldRepresentations._initializebasisfunctionweightingpatterns","text":"_initializebasisfunctionweightingpatterns(tree::MLFMMTrees.AbstractMLFMMTree, functionspace,\ncutoffparameters::Vector{<:Integer}, k0::R, verbose::Bool) where{R<:Real}\n\nReturn list of far fields for every test function on leaf level stored in reverted direction feasible for testing incident plane wave spectra. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializelevelcutoffparameters-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any, Any}","page":"API","title":"AntennaFieldRepresentations._initializelevelcutoffparameters","text":"_initializelevelcutoffparameters(tree::MLFMMTrees.AbstractMLFMMTree, expectedaccuracy, wavenumber)\n\nReturn list of cutoff parameters for each level in tree to represent the node farfields with expected accuracy.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializelevelinterpolators-Tuple{Type{<:Real}, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Integer, Integer, Vector{<:Integer}}","page":"API","title":"AntennaFieldRepresentations._initializelevelinterpolators","text":"_initializelevelinterpolators(R::Type{<:Real}, tree::MLFMMTrees.AbstractMLFMMTree, orderθ::Integer, orderϕ::Integer,cutoffparameters::Vector{<:Integer}; minlevel::Int=0)\n\nReturn list of interpolators to aggregate from each level to the respective parent level.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializetransferplan-Union{Tuple{P}, Tuple{Vector{Vector{Int64}}, AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree}} where P<:(Type{<:AntennaFieldRepresentations.AbstractTransfer})","page":"API","title":"AntennaFieldRepresentations._initializetransferplan","text":"_initializetransferplan(transferlist::Vector{Vector{Int}}, sourcestruct::MLFMMSource, RXtree::MLFMMTrees.AbstractMLFMMTree;  ) where{P<:Type{<:AbstractTransfer}}\n\nFor each planned transfer, initialize and store a transferobject which holds all rewuired information to calculate the corresponding far field transfer.\n\nKeywordarguments:\n\ntransfertype::P=PlannedTransfer{Complex{R}} : specify type of the initialized tranfer object\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._phaseshiftmatrix!-Tuple{AbstractMatrix, AbstractVector, Number}","page":"API","title":"AntennaFieldRepresentations._phaseshiftmatrix!","text":"_phaseshiftmatrix!(storagematrix, R, k₀)\n\nIn-place calculation of phaseshiftmatrix which needs to be element-wise multiplied to farfield to shift the farfield to new coordinate origin at R. Assumes that size(storagematrix) mathces the matrices in PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transfer!","text":"_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform all required transfers between the sourcestruct and the receivestruct.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate!","text":"_transpose_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nPerform transpose operation of _aggregate!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate_children!","text":"_transpose_aggregate_children!(A, parentnode)\n\nPerform transposed operation to _aggregate_children!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate_leafnodes!","text":"_transpose_aggregate_leafnodes!(A::MLFMMSource)\n\nPerform the transpose operation to _aggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive, AbstractVector}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate!","text":"_transpose_disaggregate!(A::MLFMMReceive, [y::AbstractVector])\n\nPerform transposed operation of `_disaggregate!`\n\nIf no vector y is given, the content in A.bvector is used for transposed disaggregation.  Otherwise, A.bvector is overwritten by y before transposed disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate_children!","text":"_transpose_disaggregate_children!(A, parentnode)\n\nPerform transposed operation to disaggrgate_children!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate_leafnodes!","text":"_transpose_disaggregate_leafnodes!(A::MLFMMReceive)\n\nPerform transposed operation to disaggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_forward!","text":"_transpose_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive, [y])\n\nStore the result of the transposed matrix vector product in sourcevector.xvector\n\nIf no vector y is given, receivestruct.bvector is used as tight vector. Otherwise, receivestruct.bvector is overwritten by the content of y before the operation is performed\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_transfer!","text":"_transpose_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform the transposed operator to transfer!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.collectPl-Union{Tuple{T}, Tuple{I}, Tuple{I, T}} where {I<:Integer, T<:Number}","page":"API","title":"AntennaFieldRepresentations.collectPl","text":"collectPl(Lmax,x)\n\nReturn Legendre polynomials up to Lmax\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.extract_single_planewave-Union{Tuple{C}, Tuple{Matrix{C}, Matrix{C}, Any, Vector{<:Real}, Any, Vector{<:Real}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.extract_single_planewave","text":"extract_single_planewave(Eθmatr::Array{<:Complex,2}, Eϕmatr::Array{<:Complex,2}, iθrange, wθ, iϕrange, wϕ ) -> Eθ, Eϕ\n\nUse interpolation weights wθ, wϕ and correctly mapped ranges 'iθrange', iϕrange to extract Eθ- and Eϕ- value for single plane wave from PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.find_next_smaller_θind-Tuple{Vector{<:Real}, Real}","page":"API","title":"AntennaFieldRepresentations.find_next_smaller_θind","text":"find_next_smaller_θind(θvec::Array{<:Real,1}, θnew<:Real) -> i::Integer\n\nReturn index of largest entry in ascendingly ordered θvec which is still smaller than θnew\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.find_next_smaller_ϕind-Tuple{Real, Real}","page":"API","title":"AntennaFieldRepresentations.find_next_smaller_ϕind","text":"find_next_smaller_ϕind(Δϕ<:Real, ϕnew<:Real)-> i::Integer\n\nReturn index of largest entry in ascendingly ordered ϕvec which is still smaller than ϕnew\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.g₀-Tuple{Array{<:Number, 3}, Float64}","page":"API","title":"AntennaFieldRepresentations.g₀","text":"g₀(R, k₀) -> Number\n\nScalar Greens function exp(-jk₀R)/(4πR)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.interpolate_single_planewave-Union{Tuple{T}, Tuple{orderϕ}, Tuple{orderθ}, Tuple{Lnew}, Tuple{Lold}, Tuple{Real, Real, PlaneWaveRepresentation, AntennaFieldRepresentations.LocalInterpolation{Lold, Lnew, orderθ, orderϕ, T}}} where {Lold, Lnew, orderθ, orderϕ, T}","page":"API","title":"AntennaFieldRepresentations.interpolate_single_planewave","text":"interpolate_single_planewave(θnew::Real, ϕnew::Real, pattern::PlaneWaveRepresentation, ::AbstractInterpolationStrategy)\n\nInterpolate single plane wave into direction θnew, ϕnew from given PlaneWaveRepresentation using plynomial (Legendre) interpolation of order orderθ in θ and orderϕ in ϕ. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.lagrange_barycentric_weights-Tuple{Any}","page":"API","title":"AntennaFieldRepresentations.lagrange_barycentric_weights","text":"lagrange_barycentric_weights(X::Array{<:Number,1}) -> w::Array{<:Number,1}\n\nReturn barycentric weights for calculating Lagrange interpolation weights\n\nExtended help\n\nThe barycentric weights are needed to evaluate the \"second (true) form of the barycentric formula\" for the Lagrange interpolation. See J.-P. Berrut and L. N. Trefethen: \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.lagrange_interpolation_weights-Union{Tuple{T}, Tuple{Any, T}} where T<:Number","page":"API","title":"AntennaFieldRepresentations.lagrange_interpolation_weights","text":"lagrange_interpolation_weights(X::Array{::Number,1},Y::Array{::Number,1},t::Number) -> w::Array{Flota64}\n\nReturn interpolation weights wᵢ for the calculation f(t)= ∑ᴺᵢ₌₁ wᵢ⋅ f(xᵢ) \n\nExtended help\n\nThe interpolation weights are obtained using the \"second (true) form of the barycentric formula\". See J.-P. Berrut and L. N. Trefethen: \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.legendre_deps_array-Union{Tuple{T}, Tuple{Integer, Integer, T}} where T<:Number","page":"API","title":"AntennaFieldRepresentations.legendre_deps_array","text":"legendre_deps_array(m , Lmax, ϑ)\n\nReturn the theta dependencies occuring in the spherical wave expansion\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.map_θrange!-Tuple{Any, Integer}","page":"API","title":"AntennaFieldRepresentations.map_θrange!","text":"map_θrange!(iθrange, Nθ)\n\nMap the index range iθrange to values between -Nθ+1 and  Nθ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.map_ϕrange!-Tuple{Any, Integer}","page":"API","title":"AntennaFieldRepresentations.map_ϕrange!","text":"map_ϕrange!(iϕrange, Nθ)\n\nMap the index range iϕrange to values between 1 and  Nϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.sphPlm_deriv_array-Union{Tuple{I}, Tuple{T}, Tuple{I, I, T}} where {T<:Number, I<:Integer}","page":"API","title":"AntennaFieldRepresentations.sphPlm_deriv_array","text":"sphPlm_deriv_array(Lmax,m,x)\n\nReturn normalized Associated Legendre polynomials and their derivaives up to Lmax sphPlm= 1/√(2π)  √((2ℓ+1)(ℓ-m)!/(2(ℓ+m)!)  Plm\n\nFrom T. Limpanuparb, J. Milthorpe: \"Associated Legendre Polynomials and Spherical Harmonics Computation for Chemistry Applications\", arXiv 2014\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.αinc_PW-Tuple{Integer}","page":"API","title":"AntennaFieldRepresentations.αinc_PW","text":"αinc_PW(L::Integer)\n\nReturn incident spherical mode coefficients up to mode order L of an x-polarized plane wave traveling in negative z-direction. Compare Hansen: \"Spherical Near-Field Measurements\" Appendix A1.6 \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.θsequence-Tuple{Vector{<:Real}, Any}","page":"API","title":"AntennaFieldRepresentations.θsequence","text":"θsequence(θvec::Array{<:Real, 1}, iθrange::Array{<:Integer,1})\n\nTruncate and/or periodically extend θvec to create θsequence matching the index range in iθrange.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.MLFMMTrees.getboundingbox-Union{Tuple{AbstractArray{StaticArraysCore.SVector{D, F}, 1}}, Tuple{F}, Tuple{D}} where {D, F}","page":"API","title":"AntennaFieldRepresentations.MLFMMTrees.getboundingbox","text":"getboundingbox(points::Vector{SVector{D, F}})\n\nReturns halfsize and center of bounding box of points. The halfsize is the half of the length of the edge of the bounding box.\n\n\n\n\n\n","category":"method"},{"location":"spherical/spherical_theory/#Spherical-Vector-Wave-Expansion-of-General-Time-Harmonic-Electromangentic-Fields","page":"Theory","title":"Spherical Vector-Wave Expansion of General Time Harmonic Electromangentic Fields","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Away from sources, the time harmonic electric and magnetic fields must fulfill the homogeneous curl-curl-equation ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"nabla times nabla times bmE - k_0^2 bmE =bm0 ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Arbitrary source-free solutions of Maxwell's equations can be expanded into a series of spherical vector-wave functions as (see pp. 9ff of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmE(r vartheta varphi) =\nk_0  sqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(c)\nbmF_sell m^(c)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmH(r vartheta varphi) =mathrmj\ndfrack_0sqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(c)\nbmF_3-sell m^(c)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"where Z_mathrmFsqrtmu_0 varepsilon_0approx 376730313669 mathrmOmega is the impedance of free space and bmF_sell m^(c)(rvartheta varphi) are the spherical vector wave mode functions, which are solutions to the homogeneous curl-curl equation (except in the origin of the coordinate system, where some types of vector mode functions become singular). Due to only two of the radial dependencies being linearly independent, it is sufficient to let the sum over c to be an arbitrary pair of two iindices from the set c in 1234. Usually one will choose the pair c=1 and c=4, where only the c=4-type modes are needed to describe purely radiated fields and only the c=1-type modes are needed to describe purely incident fields.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"In the numerical implementation, the coefficients alpha_s ell m are stored in a vector, where the triple index s ell m is mapped to a single consecutively running index j by the function sℓm_to_j(s,ℓ,m). The inverse map from a single index to the triple index s ell m is implemented in the function j_to_sℓm(j).","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"The vector of coefficients completely defines the fields of a corresponding radiating or incident spherical wave expansion. ","category":"page"},{"location":"spherical/spherical_theory/#Definition-of-Spherical-Vector-Mode-Functions","page":"Theory","title":"Definition of Spherical Vector-Mode Functions","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Explicit expressions for the spherical vector-mode functions are (see p. 13 of [2])","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmF_1ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracz_ell^(c)(k_0r)sqrtell(ell+1)  dfracmathrmjm overlinemathrmP_ell^m(cos vartheta) sin vartheta bme_vartheta\n-dfracz_ell^(c)(k_0r)sqrtell(ell+1)  dfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta bme_varphi\nright)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracsqrtell(ell+1)k_0r z_ell^(c)(k_0r) overlinemathrmP_ell^m(cos vartheta) bme_r\nright\nphantomdfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta\n\nphantombmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\n+ dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r dfracz_ell^(c)(k_0r)sqrtell(ell+1) right dfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta bme_vartheta\nphantom\n left\nphantombmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\n+ dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r dfracz_ell^(c)(k_0r)sqrtell(ell+1) right dfracmathrmjm overlinemathrmP_ell^m(cos vartheta) sin vartheta bme_varphi\nright) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"To ensure that the vector-mode functions bmF_sell m^(c)(rvartheta varphi) are solutions to the homogeneous curl-curl equation, they are constructed from solutions of the homogeneous scalar Helmholtz equation as (see, e.g., page 393 of [3])","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmM_ell m^(c)= nabla f_ell m^(c) times bme_r overset= bmF_1ell m^(c)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"and","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmN_ell m^(c)= dfrac1k_0 nabla times bmM_ell m^(c) overset= bmF_2ell m^(c)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"where bme_r is the unit vector in radial direction.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"General solution to the scalar Helmholtz equation ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Delta f +k_0^2 f=0 ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"can be constructed as superpositions of functions from the set","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"f_sell m^(c)(r vartheta varphi)\n=\nbegincases\ndfracmathrmj_ell(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=115em\ndfracmathrmmathrmn_ell(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=215em\ndfracmathrmmathrmh_ell^(1)(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=315em\ndfracmathrmmathrmh_ell^(2)(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=4\nendcases ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"where ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"mathrmj_ell(k_0 r) are spherical Bessel functions which represent the radial behavior standing waves (or incident waves)\nmathrmn_ell(k_0 r) are spherical Neumann functions which usually do not represent a physically meaningful solution\nmathrmh_ell^(1)(k_0 r) = mathrmj_ell(k_0 r) +mathrmj mathrmn_ell(k_0 r) are spherical Hankel functions of first kind which represent the radial behavior of waves coming from infinity being absorbed at the coordinate origin\nmathrmh_ell^(2)(k_0 r) = mathrmj_ell(k_0 r) -mathrmj mathrmn_ell(k_0 r) are spherical Hankel functions of second kind which represent the radial behavior of waves traveling from the coordinate origin toward infinity\nmathrmY_ell m(vartheta varphi) are the spherical Harmonics","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"and k_0=2pilambda is the wavenumber defined by the frequency of the electromagnetic wave.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"The spherical Harmonics are defined as (see §14.30 of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"mathrmY_ell m(vartheta varphi) \n=\nbegincases\ndfrac1sqrt2pi overlinemathrmP_ell^m(cos vartheta) mathrme^ mathrmjm varphi  textfor mleq ell\n0  textesle\nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"where the normalized associated Legendre functions overlinemathrmP_ell^m(x) are defined in ordinary Legendre polynomials mathrmP_ell(x)  as (compare §14.6 and §14.7 of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"overlinemathrmP_ell^m(x)\n=\nbegincases\nsqrtdfrac(2ell+1)(ell-m)2(ell+m)\n(-1)^m\n\n(1-x^2)^m2\n dfracmathrmd^m mathrmP_ell(x)mathrmd^m  mgeq 02em\n(-1)^m  overlinemathrmP_ell^-m(x)  m0 \nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"note: Note\nDifferent sign conventions are used by different authors when the normalized associated Legendre functions are defined. Conventions may differ by a sign-factor of (-1)^m (this factor is often called Condon-Shortley phase factor). We follow the sign convention of [1], which includes the Condon-Shortley phase factor of (-1)^m in the definition of the normalized associated Legendre functions for positive m. The main reference [2] for our implementation does not include the phase factor in the definition for the associated Legendre functions, but includes an explicit (-1)^m-term to the definition of the mode functions (which we don't do), such that in the end, our definition of the final mode functions coincides with the definition used in [2].","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"warning: Warning\nA straightforward implementation of the above definition for the normalized associated Legendre functions will fail already for moderately large mode orders ell due to the involved factorials. A more sensible definition is based or recurrence relations[4]","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"","category":"page"},{"location":"spherical/spherical_theory/#Far-Field-Expressions","page":"Theory","title":"Far-Field Expressions","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Due to the asymptotic behavior of the radial dependencies ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"lim limits_k_0r rightarrow infty mathrmh_ell^(2)(k_0r) = mathrmj^ell+1 dfracmathrme^-mathrmj k_0rk_0r ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"lim limits_k_0r rightarrow infty  dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r mathrmh_ell^(2)(k_0r) right = mathrmj^ell dfracmathrme^-mathrmj k_0rk_0r ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"for distances approaching infinity, it is convenient to define far-field expressions of the mode functions as","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmK_1ell m^(4)(vartheta varphi) =\nlim limits_k_0r rightarrow infty\ndfrack_0rmathrme^-mathrmj k_0r\nbmF_1ell m^(4)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmK_2ell m^(4)(vartheta varphi) =\nlim limits_k_0r rightarrow infty\ndfrack_0rmathrme^-mathrmj k_0r\nbmF_2ell m^(4)(rvartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Explicit expressions for the far-field mode functions are given as","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmK_1ell m^(4)(vartheta varphi) =\ndfracmathrmj^ell+1sqrtell(ell+1)\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracmathrmjm overlinemathrmP_ell^m(cos vartheta )sin vartheta bme_vartheta\n-\ndfracmathrmd overlinemathrmP_ell^m(cos vartheta )mathrmd vartheta bme_varphi  \nright)","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmK_2ell m^(4)(vartheta varphi) =\ndfracmathrmj^ellsqrtell(ell+1)\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracmathrmd overlinemathrmP_ell^m(cos vartheta )mathrmd vartheta bme_vartheta\n+\ndfracmathrmjm overlinemathrmP_ell^m(cos vartheta )sin vartheta\n bme_varphi  \nright) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"note: Note\nThis definition of the far-field mode functions lacks the arbitrary factor of sqrt4pi which is introduced in [2] .","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"Naturally, the far field bmF(vartheta varphi) = lim limits_k_0r rightarrow infty dfracrmathrme^-mathrmj k_0r bmE(rvartheta varphi) can be calculated from a given set of expansion coefficients alpha_sell m^(4) as","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"bmF(vartheta varphi) =\nsqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(4)\nbmK_sell m^(c)(vartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"","category":"page"},{"location":"spherical/spherical_theory/#refs","page":"Theory","title":"References","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"[1]: F. W. J. Olver and National Institute of Standards and Technology (U.S.), eds., \"NIST Handbook of Mathematical Functions\", Cambridge ; New York: Cambridge University Press : NIST, 2010.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"[2]: J. E. Hansen, ed., Spherical Near-Field Antenna Measurements, The Institution of Engineering and Technology, Michael Faraday House, Six Hills Way, Stevenage SG1 2AY, UK: IET, 1988.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"[3]: J. A. Stratton, \"Electromagnetic Theory\", McGraw-Hill, 1st ed. International series in pure and applied physics, OCLC: 536704, New York, 1941.","category":"page"},{"location":"spherical/spherical_theory/","page":"Theory","title":"Theory","text":"[4]: T. Limpanuparb, J. Milthorpe: \"Associated Legendre Polynomials and Spherical Harmonics Computation for Chemistry Applications\", arXiv 2014.","category":"page"},{"location":"operations/conversions/#Conversions-Between-Field-Representations","page":"Conversions","title":"Conversions Between Field Representations","text":"","category":"section"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"Field representations can be converted into one another using the convertrepresentation function.  The fields which are evaluated at any given location from the field representation before and after the conversion should be approximately the same if the location is in a region which is valid for both representations. This section is intended to clarify which oenversions are possible and to identify the common regions of validity for the converted field representations. ","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"note: Note\nIn general, a representation of an incident field can only be converted into another incident field representation and a radiating representation can only be converted into another radiating representation.Use the translate- methods to convert radiating representations into their corresponding incident representation in a translated coordinate system.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"note: Note\nThe transmission, e.g. between two antennas, should be exactly reciprocal. Therefore, in theory, the order of arguments in a transmission-command should be exchangable without affecting the result. The calculation methods differ, however. Internally, the fields of the source representation (first argument) are always converted into a representation suitable to be received by the receiver representation (second argument), possibly breaking the exact reciprocity.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"warning: Warning\nDifferent field representations may have different regions of validity. The result of convertrepresentation may only approximately evaluate to the same electric or magnetic fields as the original representation in a region of space which is valid for the old and the new representation.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"","category":"page"},{"location":"operations/conversions/#Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion","page":"Conversions","title":"Collection of Dipoles rightarrow Radiating Spherical Wave Expansion","text":"","category":"section"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"Radiated fields can be represented by a vector of dipoles dipoles::Array{<:AbstractDipole,1} (the vector may contain any number of Hertz dipoles or Fitzgerald dipoles).  In theory, the fields of the dipoles can be evaluated at any location which does not exactly coincide with one of the dipole locations. Exactly at the dipole locations, the fields have a singularity. In practice, if the fields shall be evaluated too close to a dipole location (much less than lambda1000 distance) overflows may happen.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"The field representation can be converted into a radiating spherical wave expansion by TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"In the above example, the coefficients of the new spherical wave expansion are represented by complex numbers of type ComplexF64. If single precision is sufficient, one may use TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"A more effective way to control the accuracy of the spherical expansion is to control the expansion order, i.e., the number of mode coefficients which is used for the field representation. The expansion order of the resulting mode expansion is controlled by the Lmax argument TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"Also have a look at Convert Radiated Fields of Fitzgerald Dipoles Into Other Representations in the Examples section of this documentation.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"In theory, the radiating spherical wave expansion is valid outside a sphere centered at the origin with a radius large enough to enclose all source dipoles. In practice, numerical instabilities prevent a reliable evaluation of the fields at locations bmr with k_0 bmr ll ell_mathrmmax, where ell_mathrmmax denotes the largest mode order ell contained in the radiating spherical mode expansion.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"note: Note\nWe can directly convert dipole based representations into other field representations, but not the other way around.(Equivalent) current based field representations, such as a collection of Hertz or Fitzgerald dipoles, are not unique: Different current distributions can lead to the exact same radiated fields. Since there is no unique current distribution for a given field,there is no simple conversion from a field representation to a dipole based representation.","category":"page"},{"location":"operations/conversions/","page":"Conversions","title":"Conversions","text":"","category":"page"},{"location":"operations/conversions/#Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern","page":"Conversions","title":"Collection of Dipoles rightarrow Far-Field Pattern","text":"","category":"section"},{"location":"operations/conversions/#Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion","page":"Conversions","title":"Collection of Dipoles rightarrow Incident Spherical Wave Expansion","text":"","category":"section"},{"location":"operations/conversions/#Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern","page":"Conversions","title":"Radiating Spherical Wave Expansion rightarrow Far-Field Pattern","text":"","category":"section"},{"location":"operations/conversions/#Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion","page":"Conversions","title":"Far-Field Pattern rightarrow Radiating Spherical Wave Expansion","text":"","category":"section"},{"location":"operations/conversions/#Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum","page":"Conversions","title":"Incident Spherical Wave Expansion rightarrow Plane Wave Spectrum","text":"","category":"section"},{"location":"operations/conversions/#Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion","page":"Conversions","title":"Plane Wave Spectrum rightarrow Incident Spherical Wave Expansion","text":"","category":"section"},{"location":"surfacecurrents/surface_theory/#Representation-of-Radiated-Electromangentic-Fields-via-Electromagnetic-Surface-Currents","page":"Theory","title":"Representation of Radiated Electromangentic Fields via Electromagnetic Surface Currents","text":"","category":"section"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"The electromagnetic surface equivalence principle, sometimes called Huygens principle, states that the fields bmE(bmr), bmH(bmr) radiated from sources in a volume V can be alternatively represented by equivalent electric and magnetic surface currents bmJ_mathrmeq(bmr) and bmM_mathrmeq(bmr) on a closed surface mathcalS (with outward pointing normal vector bmn) enclosing V. ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"The corresponding fields fields can be calculated at any point bmr outside of mathcalS from the equivalent surface currents via ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"bmE(bmr)=\niint limits_mathcalS\nleft\nbmmathcalG_JE\n(bmrbmr)\ncdot\nbmJ_mathrmeq(bmr)\n+\nbmmathcalG_ME\n(bmrbmr)\ncdot\nbmM_mathrmeq(bmr)\nright mathrmda ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"and","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"bmH(bmr)=\niint limits_mathcalS\nleft\nbmmathcalG_JH\n(bmrbmr)\ncdot\nbmJ_mathrmeq(bmr)\n+\nbmmathcalG_MH\n(bmrbmr)\ncdot\nbmM_mathrmeq(bmr)\nright mathrmda ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"using the dyadic Green's functions bmmathcalG_JE(bmrbmr), bmmathcalG_ME(bmrbmr), bmmathcalG_JH(bmrbmr), and bmmathcalG_MH(bmrbmr). Refer to the  theory section of dipole representations for a definition of the Green's functions.","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"In a numeric implementation, the surface mathcalS can be, e.g., approximated by triangles, which serve as a basis for so-called Rao-Wilton-Glisson basis functions.","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Theory","title":"Theory","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/SurfacePlot.png\" width=\"600\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Electric surface currents represented by Rao-Wilton-Glisson functions on spherical surface.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/#Convert-Radiated-Fields-of-Fitzgerald-Dipoles-Into-Other-Representations","page":"Examples","title":"Convert Radiated Fields of Fitzgerald Dipoles Into Other Representations","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"First, let us investigate the spherical mode expansion of fields which are radiated by a collection of Fitzgerald dipoles. ","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"AntennaFieldRepresentations is used to convert the dipole representation into a radiating spherical vector wave expansion.  TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"The order of the mode expansion (i.e., th number of considered spherical mode coefficients to represent the radiated fields) is based on the largest separation of any dipole to the coordinate origin. The default value is chosen very conservatively, leading to many close-to-zero coefficients as can be seen by visualizing the corresponding spherical mode expansion by TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sphModes.svg\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Mode spectrum for the radiated field of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"A larger expansion order (i.e., the maximum occuring mode order ℓ) usually leads to more accurate representations at the cost of additional storage and computation requirements. The expansion order can be passed as an additional argument to the convertrepresentation function. In the following example, the expansion order is limited to an expansion order of ℓ≤24. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sphModes_reduced.svg\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Reduced mode spectrum for the radiated field of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Next, we can calculate the radiated far fields and store the far-field pattern in a FarFieldPattern. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"For a higher resolution, the mode order for the far-field representation can be increased. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/ff_dipoles_highres.png\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Far-field pattern of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"When the far-field pattern is computed from a spherical wave expansion, the mode order for the far-field representation is chosen identical to the mode order of the spherical wave expansion. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/ff_sph.png\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Far-field pattern of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"surfacecurrents/surface_examples/#TODO:-generate-content","page":"Examples","title":"TODO: generate content","text":"","category":"section"},{"location":"#AntennaFieldRepresentations.jl","page":"Home","title":"AntennaFieldRepresentations.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package provides methods to convert between different electromagnetic field representations and to calculate the interaction/transmission between them.","category":"page"},{"location":"","page":"Home","title":"Home","text":"note: Note\nA time convention of mathrme^mathrmjomega t and SI units are used everywhere.","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Install AntennaFieldRepresentations by cloning the package to your ~\\.julia\\dev folder and registering the package in the package manager (enter ] at the julia REPL) and type ","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> add https://github.com/joskna/AntennaFieldRepresentations.jl ","category":"page"},{"location":"","page":"Home","title":"Home","text":"to register the package to your Julia environment. Make sure that the required related packages are available.","category":"page"},{"location":"#Featured-Field-Representations","page":"Home","title":"Featured Field Representations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The following types of electromagnetic field representations are provided by AntennaFieldRepresentations:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Dipole fields\nSpherical vector modes\nPlane wave representations\nEquivalent surface current","category":"page"},{"location":"#Operations-on-Field-Representations","page":"Home","title":"Operations on Field Representations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The main purpose of AntennaFieldRepresentations is to represent electromagnetic fields by different field expansions, manipulate the field representations, provide methods to convert different field representations into another, and to calculate the electromagnetic interactions between them. The following methods are provided by AntennaFieldRepresentations for physically meaningful combinations of field representations (see Conversions Between Field Representations, Transmission Between Field Representations, and API Reference for details):","category":"page"},{"location":"","page":"Home","title":"Home","text":"-TODO: add link to convertrepresentation","category":"page"},{"location":"","page":"Home","title":"Home","text":"-TODO: add link to convertrepresentation","category":"page"},{"location":"","page":"Home","title":"Home","text":"Additionally, the following operations are provided (see the documentation of the individual packages for details):","category":"page"},{"location":"","page":"Home","title":"Home","text":"Functions to evaluate the fields at a given location","category":"page"},{"location":"","page":"Home","title":"Home","text":"TODO: add link to field evaluations","category":"page"},{"location":"","page":"Home","title":"Home","text":"Functions to change into a rotated/translated coordinate system","category":"page"},{"location":"","page":"Home","title":"Home","text":"TODO: add link to operations","category":"page"},{"location":"","page":"Home","title":"Home","text":"Functions to (help) transfer data into another representation with identical data structure","category":"page"},{"location":"","page":"Home","title":"Home","text":"TODO: add link to typerelevant functions","category":"page"},{"location":"#Planned-Features","page":"Home","title":"Planned Features","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"⏳[1] Scalar spherical mode expansions \n⏳[1] Inhomogeneous plane wave expansions\n⏳[1] Cylindrical vector modes\n⏳[1] Spheroidal wave functions\n⏳[1] Lossless dielectrics (varepsilon_mathrmrmu_mathrmr in mathbbR)\n⏳[1] Lossy dielectrics (varepsilon_mathrmrmu_mathrmr in mathbbC)","category":"page"},{"location":"#refs","page":"Home","title":"Footnotes","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"[1]: ⏳ Planned but not yet implemented","category":"page"},{"location":"operations/fields/#Field-Evaluations","page":"Field Evaluations","title":"Field Evaluations","text":"","category":"section"},{"location":"operations/fields/#Electric-and-Magnetic-Field-at-Given-Location","page":"Field Evaluations","title":"Electric and Magnetic Field at Given Location","text":"","category":"section"},{"location":"operations/fields/#Far-Fields","page":"Field Evaluations","title":"Far Fields","text":"","category":"section"}]
}
