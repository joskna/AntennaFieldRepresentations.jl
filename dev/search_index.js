var documenterSearchIndex = {"docs":
[{"location":"fieldrepresentations/#fieldrepresentation","page":"General Field Representation Interface","title":"Representation of Antenna Fields","text":"","category":"section"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"The electromagnetic fields of an antenna can be represented in various ways. Some of the most important field representations known from literature are implemented in AntennaFieldRepresentations.jl. ","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"The core of AntennaFieldRepresentations.jl revolves around implemantations of the abstract type AntennaFieldRepresentation. Implementations of the type AntennaFieldRepresentation provide equivalent representations of the electromagnetic fields of an antenna (in a certain region of space where the representation converges). Each instance of AntennaFieldRepresentation is a discretized version of the antenna fields, i.e., a collection of coefficients from which the antenna fields can be (approximately) calculated. One of the imperatives behind AntennaFieldRepresentations.jl is that an AntennaFieldRepresentation behaves like an AbstractVector{C} with extra context. In particular, the wavenumber of the radiation frequency of the antenna field is stored in the AntennaFieldRepresentation.","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"tip: Tip\nImplementations of the type AntennaFieldrepresentation support the interface of Base.AbstractVector. In particular the methods Base.getindex and Base.setindex! are supported which allow to access the coefficient vector by indexing the struct representing the fields directly by square brackets [].","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"","category":"page"},{"location":"fieldrepresentations/#Three-Different-Propagation-Types-of-AntennaFieldRepresentation","page":"General Field Representation Interface","title":"Three Different Propagation Types of AntennaFieldRepresentation","text":"","category":"section"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"AntennaFieldRepresentations come in up to three different propagation types. An AntennaFieldRepresentation can be of type ","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"Radiated,\nAbsorbed,\nor Incident,","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"although not every implementation of AntennaFieldRepresentation will support all three variants. ","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"Internally, Radiated, Absorbed, or Incident are represented by singleton types, which all subtype the abstract type PropagationType. The PropagationType is stored as the parameter P in the type definition of AntennaFieldRepresentation{P, C} to allow for efficient dispatch of methods implementing the AntennaFieldRepresentation interface (the other parameter C denotes the element type of the coefficient vector).","category":"page"},{"location":"fieldrepresentations/#AntennaFieldRepresentation-Interface","page":"General Field Representation Interface","title":"AntennaFieldRepresentation Interface","text":"","category":"section"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"Any subtype of AntennaFieldrepresentation implements the following methods[1]:","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"Method name Optional Fallback method Short Description\nBase.size No  See interface of Base.AbstractVector\nBase.getindex! No  See interface of Base.AbstractVector\nBase.setindex No  See interface of Base.AbstractVector\nBase.similar No  See interface of Base.AbstractVector\nasvector No  Return the coefficients as a vector\n   \nefield Yes efield! Return the E-field vector at given location\nefield! No  In-place version of efield\nhfield Yes hfield! Return the H-field vector at given location\nhfield! No  In-place version of hfield\nehfield Yes ehfield! Simulataneous calculation of E-field and H-field\nehfield! Yes efield!, hfield! In-place version of ehfield\nfarfield No  Return the farfield vector at given direction\n   \ngetwavenumber No  Return the wavenumber of the radiation frequency\nsetwavenumber! No  Set the wavenumber of the radiation frequency\nrotate Yes rotate! Rotate the representation by the Euler angles χ, θ, ϕ\nrotate! No  In-place version of rotate\nspatialshift Yes spatialshift! Spatially shift representation to new location R\nspatialshift! No  In-place version of spatialshift\n   \nchangerepresentation Yes  Change the representation type. Not all resulting types are supported\ntransmit No  Calculate transmission between AUT and field sampling","category":"page"},{"location":"fieldrepresentations/","page":"General Field Representation Interface","title":"General Field Representation Interface","text":"[1]: Note for developers: If you want to implement your own subtype of AntennaFieldrepresentation, make sure to support this interface to adhere to the general functionality of this package.","category":"page"},{"location":"sampling/irregularsampling/#irregularsampling","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"","category":"section"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"The most general FieldSampling in AntennaFieldRepresentations.jl is the IrregularFieldSampling.  It allows to sample the antenna field at arbitrary positions with arbitrary probe antennas. The user must specify","category":"page"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"a list of measurement positions \na vector of probe antennas which are used in the measurement scenario\na list of probe IDs to assign the utilized probe to each measurement position\na list of Euler angles vartheta, varphi, chi to define the probe rotation at each measurement position","category":"page"},{"location":"sampling/irregularsampling/#probeantenna","page":"Irregularly Distributed Field Samplings","title":"Probe Antenna","text":"","category":"section"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"For the definition of a probe antenna, AntennaFieldRepresentations.jl provides the type ProbeAntenna. The ProbeAntenna type is a thin wrapper around any radiating AntennaFieldRepresentation. A ProbeAntenna object can be generated by ProbeAntenna(aut_field, size) where ","category":"page"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"aut_field <: AntennaFieldRepresentation{Radiating, C<: ComplexF64} may be anyAntennaFieldRepresentation of radiating type \nsize <: Real is a real number denotig the physical size of the probe antenna in terms of the radius of the smallest sphere enclosing the complete probe antenna.","category":"page"},{"location":"sampling/irregularsampling/#Constructors-of-IrregularFieldSampling","page":"Irregularly Distributed Field Samplings","title":"Constructors of IrregularFieldSampling","text":"","category":"section"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"","category":"page"},{"location":"sampling/irregularsampling/#E-Field-and-H-Field-Requests","page":"Irregularly Distributed Field Samplings","title":"E-Field and H-Field Requests","text":"","category":"section"},{"location":"sampling/irregularsampling/","page":"Irregularly Distributed Field Samplings","title":"Irregularly Distributed Field Samplings","text":"Since unfiltered sampling of the electric or magnetic field of an AntennaFieldRepresentation at given measurement locations is a common use case, a convenience constructor is provided by AntennaFieldRepresentations.jl for these cases. The methods EfieldSampling(positions::Vector{V}) and HfieldSampling(positions::Vector{V}) return IrregularFieldSamplings which correspond to sampling the field of an AntennaFieldRepresentation at given positions with Hertzian dipole probes or Fitzgerald dipole probes respectively.","category":"page"},{"location":"dipoles/dipole_theory/#Electromagnetic-Fields-of-Elementary-Dipoles","page":"Dipoles","title":"Electromagnetic Fields of Elementary Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"The radiated fields of an antenna can be approximated by the fields of elementary dipoles, i.e., the fields of very short electrical dipoles (so-called Hertzian dipoles) and very short magnetic dipoles (so-called Fitzgerald dipoles).","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"Since the equivalent current densities for these very short elementary dipoles are particularly simple, it is possible to find analytical expressions for their respective fields using Green's functions.","category":"page"},{"location":"dipoles/dipole_theory/#dipole_radiated","page":"Dipoles","title":"Radiated Fields","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"For a general source, consisting of an electric volume current distribution bmJ(bmr) and a magnetic current distribution bmM(bmr), the radiated electric and magnetic fields can be described by ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmE(bmr)=\niiint limits_V_textsrc\nleft\nbmmathcalG_JE\n(bmrbmr)\ncdot\nbmJ(bmr)\n+\nbmmathcalG_ME\n(bmrbmr)\ncdot\nbmM(bmr)\nright mathrmdv ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmH(bmr)=\niiint limits_V_textsrc\nleft\nbmmathcalG_JH\n(bmrbmr)\ncdot\nbmJ(bmr)\n+\nbmmathcalG_MH\n(bmrbmr)\ncdot\nbmM(bmr)\nright mathrmdv  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmmathcalG_JE=\n-mathrmj k_0 Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmmathcalG_ME=\n-nabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmmathcalG_JH=\nnabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmmathcalG_MH=\n-mathrmj dfrack_0Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"are the dyadic Green's functions derived from the scalar greens function","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":" g_0(bmrbmr)\n=\ndfracmathrme^-mathrmjk_0 bmr-bmr4pi bmr-bmr ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"The involved dyadic operators have the explicit expressions","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"left(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\n=\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r bme_r \n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nmathbfI","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"nabla g_0(bmrbmr) times mathbfI\n=\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times mathbfI ","category":"page"},{"location":"dipoles/dipole_theory/#Radiated-Fields-of-a-Hertzian-Dipole","page":"Dipoles","title":"Radiated Fields of a Hertzian Dipole","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"A Hertzian dipole is a model for an elementary electric dipole. Formally, it can be regardes as a special electric current distribution of the form","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmJ_textHertz(bmr)\n=\nIbmell\n\ndelta(bmr-bmr) ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where I has the unit Ampère and denotes the excitation of the dipole, bmell denotes the oriented dipole length and delta(bmr-bmr) is the Dirac-Delta distribution. In the idealized model, bmell tends to zero, while I increases such that the product Ibmell remains constant. Using the dyadic Green's functions from above, the fields of a Hertzian dipole can be calculated as","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmE_textHertz(bmr)\n=\n-mathrmj k_0 Z_mathrmF I\nleft\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r left(bme_r cdot bmellright)\n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nbmell\nright","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"and ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmH_textHertz(bmr)\n=I\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times bmell ","category":"page"},{"location":"dipoles/dipole_theory/#Radiated-Fields-of-a-Fitzgerald-Dipole","page":"Dipoles","title":"Radiated Fields of a Fitzgerald Dipole","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"A Fitzgerald dipole is a model for an elementary magnetic dipole. Formally, it can be regardes as a special magnetic current distribution of the form","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmM_textFitzgerald(bmr)\n=\nI_mathrmmbmell\n\ndelta(bmr-bmr) ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where I_m has the unit Volt and denotes the excitation of the dipole, bmell denotes the oriented dipole length and delta(bmr-bmr) is the Dirac-Delta distribution. In the idealized model, bmell tends to zero, while I_mathrmm increases such that the product I_mathrmmbmell remains constant. Using the dyadic Green's functions from above, the fields of a Fitzgerald dipole can be calculated as","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmE_textFitzgerald(bmr)\n=-I_mathrmm\nleft(-mathrmjk-dfrac1bmr-bmrright) bme_r times bmell","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"and","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmH_textFitzgerald(bmr)\n=\n-mathrmj dfrack_0Z_mathrmF I_mathrmm\nleft\nleft(\ndfrac3k^2bmr-bmr^2\n+\ndfrac3mathrmjkbmr-bmr \n-1   \nright)\ng_0(bmrbmr)\n\nbme_r left(bme_r cdot bmellright)\n-\nleft(\ndfracmathrmjkbmr-bmr\n+dfrac1k^2bmr-bmr^2\n-1\nright)\ng_0(bmrbmr)\n\nbmell\nright ","category":"page"},{"location":"dipoles/dipole_theory/#Radiated-Far-Fields-of-Elementary-Dipoles","page":"Dipoles","title":"Radiated Far Fields of Elementary Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"Often, we are interested in the radiated electric field of an elementary dipole or a collection of elementary dipoles at observation locations bmr which are far away from the coordinate origin compared to the location bmr of the dipoles, i.e., r=bmrgg bmr=r. In these cases, the term R=bmr-bmr can be approximated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"lim limits_rrightarrow infty bmr-bmr = r -bme_r cdot bmr  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where bme_r=bmrr denotes the unit vector into the direction of the far-field observation location bmr. The dyadic Green's functions for the electric field take the form  ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"lim limits_rrightarrow infty\nbmmathcalG_JE(bmrbmr)\n=\n-mathrmj k_0 Z_mathrmF  dfracmathrme^-mathrmjk_0 r4pi r \nleft(\n    mathbfI -bme_rbme_r\nright)\nmathrme^mathrmjk_0 bme_rcdot bmr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"lim limits_rrightarrow infty\nbmmathcalG_ME(bmrbmr)\n=\nmathrmj k_0  dfracmathrme^-mathrmjk_0 r4pi r \nleft(\n    bme_r times mathbfI\nright)\nmathrme^mathrmjk_0 bme_rcdot bmr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"The radiated fields asymptotically far away from the sources have no components on radial direction and depend on the radial variable r only by the term dfracmathrme^-mathrmjk_0 rr. We have","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"lim limits_rrightarrow infty \nbmE(rvartheta varphi)\n=\nbmF(varthetavarphi)\ndfracmathrme^-mathrmjk_0 rr","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where bmF(varthetavarphi) denotes the electric far-field pattern (unit: V). ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"Obviously, the far-field pattern of a Hertzian dipole can be calculated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmF_textHertz(varthetavarphi)\n=\nI dfrac-mathrmj k_0 Z_mathrmF4pi\nmathrme^mathrmjk_0 bme_r(varthetavarphi)cdot bmr \nleft(\n    mathbfI -bme_r(varthetavarphi)bme_r(varthetavarphi)\nright)cdot ell\n ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where I is the excitation of the dipole, bmell is the oriented dipole length and bmr is the dipole location. The dyadic operator left(     mathbfI -bme_r(varthetavarphi)bme_r(varthetavarphi) right)cdot removes the field component in radial direction.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"The far-field pattern of a Fitzgerald dipole can be calculated by","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"bmF_textFitzgerald(varthetavarphi)\n=\nI_mathrmm dfracmathrmj k_04pi\nmathrme^mathrmjk_0 bme_r(varthetavarphi)cdot bmr \nbme_r(varthetavarphi)times  ell\n ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"where I_mathrmm is the excitation of the dipole, bmell is the oriented dipole length and bmr is the dipole location. Due to the cross product with the radial unit vector, the far field has a zero component in radial direction.","category":"page"},{"location":"dipoles/dipole_theory/#receivedsignaldipoles","page":"Dipoles","title":"Received Signal","text":"","category":"section"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"Let hatbmJ(bmr) and hatbmM(bmr) be the normalized equivalent electric and magnetic volume currents for the fields radiated by an antenna such that bmJ(bmr) = ahatbmJ(bmr) and bmM(bmr) = ahatbmJ(bmr) are the actual equivalent volume current densities when the antenna's transmit port is excited by a signal with wave amplitude a in mathbbC  sqrtmathrmW. It can be shown that an antenna of which the radiated fields can be expressed via the (normalized) equivalent electric and magnetic current distributions hatbmJ(bmr) and hatbmM(bmr) will receive the signal ","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"b=\ndfrac12\niiint limits_V_textsrc\nleft\nbmE(bmr) cdot hatbmJ(bmr)\n-bmH(bmr) cdot hatbmM(bmr)\nright\n mathrmdv","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"when it is illuminated with an external electromagntic field bmE(bmr), bmH(bmr).","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"Consequently, a Hertzian dipole which has a (normalized) electric equivalent current distribution of hatbmJ_textHertz(bmr) = Ibmell delta(bmr-bmr) receives the signal b_textHertz=05I bmell cdot bmE(bmr) which is proportional to the parallel component of the incident electric field at the discrete location bmr.","category":"page"},{"location":"dipoles/dipole_theory/","page":"Dipoles","title":"Dipoles","text":"A Fitzgerald which has a (normalized) magnetic equivalent current distribution of hatbmM_textFitzgerald(bmr) = I_mathrmmbmell delta(bmr-bmr) receives the signal b_textFitzgerald=-05I_mathrmm bmell cdot bmH(bmr) which is proportional to the parallel component of the incident negative magnetic field at the discrete location bmr.","category":"page"},{"location":"spherical/spherical_examples/","page":"-","title":"-","text":"TODO: generate contentS","category":"page"},{"location":"operations/operationmaps/#Operation-Maps-for-Operations-on-Antenna-Field-Representations","page":"OperationMaps","title":"Operation Maps for Operations on Antenna Field Representations","text":"","category":"section"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"In AntennaFieldRepresentations.jl, an operation map is a function-like object which corresponds to a certain method. All operation maps  in AntennaFieldRepresentations.jl subtype the abstract type OperationMap{C, A}.  The idea behind these OperationMaps is to reuse allocated memory and save redundant operations for repeated method calls. The workflow involving OperationMaps starts with initializeing an instance of the OperationMap.  The generated object then can be used like a function, where all overhead for the function call is moved to the initialization of the object. ","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"todo: Todo\nExample coming soon ...","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"For many methods in AntennaFieldRepresentations.jl, a correspoding operation map is defined.  A comprehensive list of all operation maps provided by AntennaFieldRepresentations.jl and their corresponding methods is given in the table below.","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"Operation Map Corresponding method Short Description\nTransmitMap transmit Transmission operator between an AntennaFieldRepresentation and a Fieldsampling\nRotateMap rotate Rotation operator for a certain AntennaFieldRepresentation around fixed Euler angles vartheta, varphi,  and chi\nSpatialShiftMap spatialshift Translation operator for a certain AntennaFieldRepresentation into a translated coordinate system\nChangeRepresentationMap changerepresentation Conversion operator from one type of AntennaFieldrepresentation into another\nInterpolateMap interpolate Interpolation operator of a PlaneWaveExpansion into a PlaneWaveExpansion with a different SphereSamplingStrategy","category":"page"},{"location":"operations/operationmaps/#Operation-Maps-as-Linear-Operators","page":"OperationMaps","title":"Operation Maps as Linear Operators","text":"","category":"section"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"The abstract type OperationMap{C, A} <: LinearMaps.LinearMap{C} is a subtype of LinearMaps.LinearMap which means that the operations represented by an OperationMap{C, A} are strictly linear operations. The usual way to evaluate an OperationMap is to use it as a function on an AntennaFieldRepresentation. ","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"note: Note\nAn instance of an OperationMap{C, A} only accepts AntennaFieldRepresentation of the exact same type A <: AntennaFieldRepresentation as used for their creation as input arguments.  Calling an OperationMap with a different type of AntennaFieldRepresentation could lead to unexpected behavior or errors. To avoid any unintended function calls with AntennaFieldRepresentations of a different type, the input type for the OperationMap{C, A} is stored in the type parameter A.","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"todo: Todo\nExample coming soon ...","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"However, since an OperationMap{C, A} implements the interface of LinearMaps.jl, the following methods are inherently supported with any operation map M[1]","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"Method Optional Short Description\nBase.size(M) No Dimensions of the operator\nM*x Yes Out of place multiplication\nmul!(y, M, x) Yes in-place multiplication with vectors\nmul!(y, M, x, α, β) Yes in-place multiply-and-add with vectors\nmul!(Y, M, X, α, β) Yes in-place multiplication and multiply-and-add with matrices\nMatrix(M) Yes Conversion to a matrix\nM[:, i] Yes Complete slicing of columns (and rows if the adjoint action is defined)","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"Remember that any AntennaFieldRepresentation is interpreted as an AbstractVector with additional context in AntennaFieldRepresentations.jl. Thus, by using the interface of LinearMaps.jl, the user inherently implies that the vectors x which were used in the above matrix vector products corresponds to the coefficient vector belonging to the AntennaFieldRepresentation used for the definition of the OperationMap{C, A}.","category":"page"},{"location":"operations/operationmaps/#Adjoint,-Transposed,-and-Inverse-Operation-Maps","page":"OperationMaps","title":"Adjoint, Transposed, and Inverse Operation Maps","text":"","category":"section"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"In AntennaFieldRepresentations.jl, it is easy to define the adjoint, transposed, or the inverse of any operation map. Generically, taking the transpose of an operation map wraps the operation map by a TransposeMap, taking the adjoint wraps it by an AdjointMap, and taking the inverse wraps it by an InverseMap (or an IterativeInverseMap). ","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"In particular the inverse operations can be expensive to compute directly. For many operation maps, the function call inverse(M) will result in an IterativeInverseMap, where the matrix vector product with the inverse operator is approximated with the help of IterativeSolvers.jl.","category":"page"},{"location":"operations/operationmaps/","page":"OperationMaps","title":"OperationMaps","text":"[1]: Note for developers: If you want to implement your own operation map M, it is sufficient to implement the methods  Base.size(M) and LinearMaps._unsafe_mul!(y, A::MyFillMap, x::AbstractVector) for supporting the basic features.","category":"page"},{"location":"planewaves/planewave_theory/#planewavetheory","page":"Plane Wave Expansion","title":"Plane-Wave Representations of Electromagnetic Fields","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"This chapter describes how the electromagnetic fields of an antenna can be represented by collections of plane-wave components.","category":"page"},{"location":"planewaves/planewave_theory/#planewave_incident","page":"Plane Wave Expansion","title":"Plane-Wave Spectrum Representation of Incident Fields","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"In a source-free region of space around the origin incident electormagnetic fields can be represented by an integral of the so-called plane-wave spectrum bmP(vartheta varphi) over all propagation directions as","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"bmE(bmr)\n=\nint limits_0^2pi\nint limits_0^pi\nbmP(vartheta varphi)\nmathrme^-mathrmj bmk(vartheta varphi) cdot bmr\n sin vartheta\nmathrmdvartheta mathrmdvarphi","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"and","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"bmH(bmr)\n=\nint limits_0^2pi\nint limits_0^pi\ndfracbmk(vartheta varphi)Z_mathrmF lVertbmk(vartheta varphi)rVert times\nbmP(vartheta varphi)\nmathrme^-mathrmj bmk(vartheta varphi) cdot bmr\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"respectively, where the so-called plane-wave propagation vector direction denotes the direction of propagation","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"bmk(vartheta varphi)\n=\nk_0left(\nsin vartheta cos varphi bme_x \n+ \nsin vartheta sin varphi bme_y\n+\ncos vartheta bme_z \nright)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"simultaneously encodes the direction of propagation (i.e., the direction of bmk) and the wavelength lambda (from its magnitude lVert bmk rVert =k_0 via lambda= 2pi  k_0) of any plane-wave component. The plane-wave spectrum bmP(vartheta varphi) is always perpendicular to the propagation direction bmk(vartheta varphi).","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"note: Note\nThe above representation of the electric and magnetic field is purely solenoidal, i.e., divergence-free. As such, the representation is only good for representing source-free field solutions of Maxwell's equations. There exists a close relationship between the spherical vector-wave expansion of incident fields which uses only spherical vector-wave modes bmF_s ell m^(1)(r vartheta varphi) of incident type and the above representation of the fields as an integral over propagating plane waves.","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"note: Note\nSince the propagation vector bmk and the corresponding unit vector into the same direction hatbmk encode the propagation direction of the plane wave, we may use the shorthand notation bmP(hatbmk) to represent the slightly longer expression bmP(vartheta varphi) whenever convenient (sometimes we may even mix vartheta varphi with hatbmk in the same expression).  This should not lead to any ambiguities because the relation between hatbmk and the tuple vartheta varphi is one-to one, as each encodings uniquely define the same point on the unit sphere.","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"","category":"page"},{"location":"planewaves/planewave_theory/#Far-Field-Pattern-Representation-of-Radiated-Fields","page":"Plane Wave Expansion","title":"Far-Field Pattern Representation of Radiated Fields","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"The radiated field of any current distribution is completely characterized by the radiated far-field pattern ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"bmF(vartheta varphi) = lim limits_rrightarrow infty dfracrmathrme^-mathrmjk_0 r bmE(r vartheta varphi)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"because it is, in prinicple, possible to reconstruct all radiated spherical vector-wave modes from a spherical expansion of the far fields. Thus, we may represent any radiated field by its far-field pattern.","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"warning: Warning\nDo not confuse the spherical vector-wave modes bmF_s ell m^(1)(r vartheta varphi) with the far-field pattern bmF(vartheta varphi)!","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"Note, that evaluating the near-fields of a radiated field given in terms of its far-field pattern bmF(vartheta varphi) is not straightforward. Strictly speaking, it is necessary to reconstruct the spherical vector-wave expansion of the radiated field from its far-field pattern before one can evaluate the spherical expansion at the desired location bmr.","category":"page"},{"location":"planewaves/planewave_theory/#planewave_translation","page":"Plane Wave Expansion","title":"Translation of a Far-Field Pattern into a Plane Wave Spectrum in Different Coordinate System","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"Fortunately, there is a convenient way to convert the far-field pattern bmF(vartheta varphi) of a radiated field into an incident plane-wave spectrum bmP(vartheta varphi) in an observation volume around a new coordinate origin which is translated by the vector bmR against the original coordinate system.  We use primed coordinates r vartheta varphi and primed vectors bmk to distinguish the translated coordinate system from the original coordinate system. The geometrical situation is depicted in the figure below.","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/SphericalTranslation_dark.svg\" width=\"500\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/SphericalTranslation.svg\" width=\"500\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Schematic of the geometry for the translation of a far-field representation of radiated fields into a plane-wave spectrum representation of incident fields in a new coordinate system.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"We have","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"bmP(vartheta varphi) = T_L(k_0 lvert bmR rvert hatbmk cdot hatbmR) bmF(vartheta varphi)biggrvert_vartheta = vartheta varphi = varphi ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"where ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"T_L(k_0 lvert bmR rvert hatbmk cdot hatbmR)\n=\n-sum limits_ell =0^Lleft(-mathrmjright)^ell \nleft(2ell+1right)  \nmathrmh_ell^(2)(k_0 lvert bmR rvert)\nmathrmP_ell(hatbmk cdot hatbmR)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"with hatbmR the unit vector in the direction of the vector from the original coordinate origin to the new coordinate origin. Ideally, the number of sumation terms L should go to infty, but in practice, we can truncate the summation at a carefully chosen finite L.","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"The calculated plane-wave spectrum bmP(vartheta varphi) can be used in the integral expressions above to find the electric and magnetic fields in the observation region.","category":"page"},{"location":"planewaves/planewave_theory/#planewave_received","page":"Plane Wave Expansion","title":"Plane-Wave Representation of the Received Signal of an Antenna","text":"","category":"section"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"Let hatbmF(vartheta varphi) be the normalized far field radiated by an antenna such that bmF(vartheta varphi)=  ahatbmF(vartheta varphi) is the actual radiated far-field when its transmit port is excited by a signal with wave amplitude a in mathbbC  sqrtmathrmW. To determine the received signal b in mathbbC  sqrtmathrmW of this antenna in receive mode under a certain illumination of an incident field, it is convenient to represent the incident field via its plane-wave spectrum bmP(vartheta varphi). In this case, the received signal is given by (remember that hatbmk depends on vartheta varphi)","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"b=\nint limits_0^2pi\nint limits_0^pi\nbmP(hatbmk)cdot\nhatbmFleft(- hatbmk right)\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"Combining this result with the findings from the section above, we can express the S_21 parameter measured for the transmission between two antennas as","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"S_21=\nint limits_0^2pi\nint limits_0^pi\nhatbmF_1left(hatbmk right)cdot\nT_L(k_0 lvert bmR rvert hatbmk cdot hatbmR)\nhatbmF_2left(- hatbmk right)\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"where hatbmF_1left(hatbmk right) is the normalized far-field pattern of antenna 1 (the transmit antenna), hatbmF_2left( - hatbmk right) is the inverted far-field pattern of antenna 2 (the receive antenna) and T_L(k_0 lvert bmR rvert hatbmk cdot hatbmR) is the translation operator known from previous sections with bmR denoting the vector separating the centers of the two antennas. The geometric situation for the calculation of the S_21-parameter is depicted below. ","category":"page"},{"location":"planewaves/planewave_theory/","page":"Plane Wave Expansion","title":"Plane Wave Expansion","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/S21Translation_dark.svg\" width=\"500\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/S21Translation.svg\" width=\"500\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    The geometric situation for the calculation of the transmission between two antennas.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"spherical/spherical_fast/#Fast-Algorithms-in-Spherical-Measurement-Setups","page":"Spherical Wacker Algorithm","title":"Fast Algorithms in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Very efficient post-processing algorithms exist for measurements of the S_12-parameter between a radiating probe antenna and a rotating receiving antenna under test (AUT). The AUT is rotated around the coordinate origin by the angles vartheta and varphi. The probe antenna remains at a fixed position in the positive z-diretion but may be rotated around the z-axis by the angle chi to  realize different polarizations of the incident field at the AUT. The measurement setup is depicted in the figure below.","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/geom_measure_dark.svg\" width=\"200\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/geom_measure.svg\" width=\"200\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Setup for the antenna field measurement.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"spherical/spherical_fast/#Fast-Evaluation-of-S_{12}-Parameters-in-Spherical-Measurement-Setups","page":"Spherical Wacker Algorithm","title":"Fast Evaluation of S_12-Parameters in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"The  S_12-parameter can be calculated by (cf. [1, eq. (4.40)])","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"S_12(vartheta varphi chi)=sum limits_s=1^2 sum limits_ell=1^L sum limits_m=-ell^ell sum limits_mu=-ell^ell beta_sell m^mathrmautmathrme^-mathrmj m varphi mathrmd_mmu^ell(vartheta) mathrme^-mathrmj mu chialpha_sell mu^(1)mathrmpro","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Here. alpha_sell mu^(1)mathrmpro are the spherical mode coefficients of the incident probe antenna field (normalized to a unit excitation of the probe), beta_sell m^mathrmaut are the spherical receive coefficients of the AUT and mathrmd_mmu^ell(vartheta) is the so-called Wigner-d-matrix which has a finite Fourier-series expansion","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"mathrmd_mmu^ell(vartheta)= mathrmj^m-mu sum limits_m_vartheta=-ell^ell  Delta_m_varthetamu^ell Delta_m_varthetam^ell mathrme^-mathrmj m_vartheta  vartheta ","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"where the deltas","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Delta_m_varthetam^ell= mathrmd_mmu^ell(mathrmpi2)","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"correspond to the calue of the Wigner-d-matrix at vartheta=mathrmpi2.","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Substituting the series expansion into the original equation, one obtains","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"S_12(vartheta varphi chi)=\nsum limits_mu=-L^L \nmathrme^-mathrmj mu chi\nunderbrace\nsum limits_m=-L^L\nmathrme^-mathrmj m varphi\nunderbrace\nsum limits_m_vartheta=-L^L\nmathrme^-mathrmj m_vartheta  vartheta \nunderbrace\nmathrmj^m-mu\nsum limits_ell=max(mm_vartheta1)^L\nDelta_m_varthetamu^ell Delta_m_varthetam^ell\n underbrace\n sum limits_s=1^2 \n alpha_sell mu^(1)mathrmpro\nbeta_sell m^mathrmaut\n_u_mumell\n_tildev_mumm_vartheta\n_v_mum(vartheta)\n_w_mu(varthetavarphi)","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"The form of the above equation gives rise to an efficient algorithm to evaluate the S_12-parameter on a spherical measurement surface by successively calculating  alpha_sell mu^(1)mathrmpro beta_sell m^mathrmaut rightarrow u_mumell rightarrow tildev_mumm_vartheta rightarrow v_mum(vartheta) rightarrow w_mu(varthetavarphi). The occurring Fourier series are evaluated using a fast Fourier transform giving rise to the resulting data available at a regular spherical sampling grid.","category":"page"},{"location":"spherical/spherical_fast/#Radiating-Hertzian-Dipole-Probe-and-Receiving-AUT","page":"Spherical Wacker Algorithm","title":"Radiating Hertzian Dipole Probe and Receiving AUT","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"If we want to calculate the transmission between a dipole probe and the AUT, we need to know the spherical wave expansion of the probe field at the AUT location.  The incident field at the coordinate origin of a Hertzian dipole, oriented in x- direction with a given dipole moment Iell at a given location bmr= r bme_z on the z-axis, is characterized by the spherical wave coefficients ","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_1ell1^(1)=dfrac-mathrmj4 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi h_ell^(2)(kr)","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_1ell-1^(1)=dfrac-mathrmj4 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi h_ell^(2)(kr)","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_2ell1^(1)=dfrac14 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi dfrac1kr  dfracmathrmdmathrmd kr leftkrh_ell^(2)(kr)right","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_2ell-1^(1)=dfrac-14 (-1)^m+1k sqrtZ_mathrmF Iell\n sqrtdfrac2ell+1pi dfrac1kr  dfracmathrmdmathrmd kr leftkrh_ell^(2)(kr)right","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"where h_ell^(2)(kr) are the spherical Hankel functions of second kind. All incident field coefficients with mneq 1 are equal to zero. ","category":"page"},{"location":"spherical/spherical_fast/#Regularly-Sampled-Far-Field-of-AUT","page":"Spherical Wacker Algorithm","title":"Regularly Sampled Far Field of AUT","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"The far field pattern of the AUT can be calculated by determining the received signal of a plane wave illumination traveling into the desired propagation directions. To determine the correctly normalized far-field pattern (with unit V), we utilize the spherical expansion of a x-polarized plane wave traveling into negativ z-direction with the coefficients","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_1ell1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_2ell1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_1ell-1^(1)=- mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"alpha_2ell-1^(1)= mathrmj^ell sqrtdfrac2ell+1pi dfracsqrtZ_mathrmF2 ","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"All incident field coefficients with mneq 1 are equal to zero.  Using the reciprocity relation beta_sell m^mathrmaut=(-1)^m alpha_sell- m^(4)mathrmaut, we can efficiently calculate the desired far fields for regularly sampled vartheta and varphi.","category":"page"},{"location":"spherical/spherical_fast/#Fast-Reconstruction-of-Expansion-Coefficients-from-S_{12}-Parameters-in-Spherical-Measurement-Setups","page":"Spherical Wacker Algorithm","title":"Fast Reconstruction of Expansion Coefficients from S_12-Parameters in Spherical Measurement Setups","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"The  S_12-parameter can be calculated by (cf. [1, eq. (4.40)])","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"S_12(vartheta varphi chi)=\nsum limits_mu=pm 1 \nmathrme^-mathrmj mu chi\nunderbrace\nsum limits_m=-L^L\nmathrme^-mathrmj m varphi\nunderbrace \nsum limits_ell=max(mm_vartheta1)^L\nmathrmd_mum^ell(vartheta)\n underbrace\n sum limits_s=1^2 \n alpha_sell mu^(1)mathrmpro\nbeta_sell m^mathrmaut\n_u_mumell\n_v_mum(vartheta)\n_w_mu(varthetavarphi)","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Here, mathrmd_mmu^ell(vartheta) is the so-called Wigner-d-matrix, alpha_sell mu^(1)mathrmpro are the spherical mode coefficients of the incident probe antenna field (normalized to a unit excitation of the probe), and beta_sell m^mathrmaut are the spherical receive coefficients of the AUT which we aim to reconstruct from the measured data. Note, that a first-order probe is assumed here (i.e., all incident modes with muneq pm 1 are zero), reducing the number of summation terms in the mu-summation to two.  ","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"Starting at S_12, we can successively calculate S_12rightarrow w_mu(varthetavarphi) rightarrow v_mum(vartheta) using the orthogonality relations","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"int limits_0^2pi\nmathrme^ mathrmj (m-m) varphi  mathrmd varphi = 2pi  delta_mm","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"and","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"int limits_0^pi\nmathrmd_mm^ell(vartheta)\n\nmathrmd_mm^ell(vartheta)\n\nsin(vartheta) \n mathrmd vartheta = dfrac22ell+1  delta_ellell","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"from where the beta_sell m^mathrmaut can be found by solving a 2times 2 system of linear equations","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"\tbeginbmatrix\n\t\tu_+1mell05em\n\t\tu_-1mell\n\tendbmatrix\n=\nbeginbmatrix\nalpha_1ell +1^(1)mathrmpro \n\nalpha_2ell +1^(1)mathrmpro \n05em\nalpha_1ell -1^(1)mathrmpro \n\nalpha_2ell -1^(1)mathrmpro\t\nendbmatrix\n\n\tbeginbmatrix\n\tbeta_1 ell m ^mathrmaut05em\n\tbeta_2 ell m ^mathrmaut\nendbmatrix ","category":"page"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"","category":"page"},{"location":"spherical/spherical_fast/#refs","page":"Spherical Wacker Algorithm","title":"References","text":"","category":"section"},{"location":"spherical/spherical_fast/","page":"Spherical Wacker Algorithm","title":"Spherical Wacker Algorithm","text":"[1] J. E. Hansen, ed., Spherical Near-Field Antenna Measurements, The Institution of Engineering and Technology, Michael Faraday House, Six Hills Way, Stevenage SG1 2AY, UK: IET, 1988.","category":"page"},{"location":"planewaves/planewave_representations/#Representing-Antenna-Fields-with-Plane-Wave-Expansions","page":"Plane Wave Representations","title":"Representing Antenna Fields with Plane-Wave Expansions","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"A common representation of antenna fields is in terms of plane wave expansions. In AntennaFieldRepresentations.jl, plane-wave expansions are represented by a struct PlaneWaveExpansion{P, S <: SphereSamplingStrategy, C} which is a subtype of AntennaFieldRepresentation{P, C}. The type parameters have the following meaning","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"Parameter Short Description\nP <: PropagationType Can be Radiated, Absorbed, or Incident\nC <: Complex Element type of the coefficient vector\nS <: SphereSamplingStrategy, C} Struct defining the sampling of the k-space unit sphere. Can be RegularSphereSamplingStrategy or GaussLegendreθRegularϕ.","category":"page"},{"location":"planewaves/planewave_representations/#Constructors-for-a-PlaneWaveExpansion","page":"Plane Wave Representations","title":"Constructors for a PlaneWaveExpansion","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"To generate a PlaneWaveExpansion, use the following constructor:","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"PlaneWaveExpansion(P::PropagationType, samplingstrategy::S, Eθ::Matrix{C}, Eϕ::Matrix{C}, wavenumber::Number) where{S <: SphereSamplingStrategy, C}","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"The input arguments for the costructor are","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"P <: PropagationType : Can be Radiated, Absorbed, or Incident\nsamplingstrategy::SphereSamplingStrategy: Struct defining the sampling of the k-space unit sphere. Can be RegularSphereSamplingStrategy or GaussLegendreθRegularϕ.\nEθ::Matrix{C}: θ-component amplitudes of the plane waves. Dimensions must match the samplingstrategy.\nEϕ::Matrix{C}: ϕ-component amplitudes of the plane waves. Dimensions must match the samplingstrategy.\nwavenumber : Wavenumber `\\omega = 2\\pi \\, f","category":"page"},{"location":"planewaves/planewave_representations/#planewave_sampling","page":"Plane Wave Representations","title":"The SphereSamplingStrategy Type","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"In a PlaneWaveExpansion, an antenna far field pattern bmF(vartheta varphi) or a plane wave spectrum bmP(vartheta varphi) is representated by a discrete set of samples in the vartheta varphi-domain. ","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"The samples should be chosen such that","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"integration over the sphere is fast and accurate\nlocal interpolation is sufficently accurate\nthe conversion  bmF(hatbmk) rightarrow bmF(-hatbmk) has small computational cost (ideally should not rely on interpolation)\nredundancy in the representation is kept minimal","category":"page"},{"location":"planewaves/planewave_representations/#regularspheresampling","page":"Plane Wave Representations","title":"RegularSphereSamplingStrategy","text":"","category":"section"},{"location":"planewaves/planewave_representations/#gausslegendresampling","page":"Plane Wave Representations","title":"GaussLegendreθRegularϕ","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"Expansions with a GaussLegendreθRegularϕ sampling are sampled along varphi with  2L+2 equally distributed samples  in 0leq varphi  2pi and distribute the vartheta-samples on a Gauß-Legendre based grid with 0 vartheta  pi, according to ","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"vartheta_k=textarccos(-x_k)","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"where x_k are the roots of the nth Legendre polynomial. To represent any far-field pattern or plane-wave spectrum up to a spherical mode order of L, the number of vartheta- and varphi-samplesis ","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"N_vartheta=L+1","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"N_varphi=2L+2","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"Although the varphi-sampling is slightly redundant (2L+1 samples would suffice) the even number of  varphi-samples ensures that for every sampling point there is another sampling point exactly in the oppsoite direction. This has obvious benefits for the conversion  bmF(hatbmk) rightarrow bmF(-hatbmk) as well as for pattern interpolation, when the interpolation scheme requires samples at either side of the coordinate poles at varthetain 0pi. The figures below compare the regular sampling points in a RegularSphereSamplingStrategy and the Lagrange sampling points utilized by GaussLegendreθRegularϕ sampling. ","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sampling_regular.svg\" width=\"200\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    This is a regularly sampled sphere.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sampling_lagrange.svg\" width=\"200\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    This sphere is sampled according to a Gauß-Legendre sampling rule.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"The sampling choice naturally leads to an accurate integration rule over the complete Ewald sphere ","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"oiint f(hatbmk)  mathrmd^2 hatbmk \n= \nint limits_0^2pi int limits_0^pi  f(vartheta varphi)  sinvartheta mathrmdvartheta\nmathrmd varphi \napprox \nsum limits_i=1^N_varphi sum limits_k=1^N_vartheta dfrac2piN_varphi\nw_k f(vartheta_k varphi_i)","category":"page"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"where w_k are the Gauß-Legendre quadrature weights. The calculation of the Gauß-Legendre quadrature weights w_k and quadrature nodes x_k is efficiently implemented (to compute the N_vartheta-point Gauß quadrature nodes and weights to 16-digit accuracy takes mathcalO(N_vartheta) time [1]) in the Julia package FastGaussQuadrature.jl.","category":"page"},{"location":"planewaves/planewave_representations/#Methods-Special-to-PlaneWaveExpansions","page":"Plane Wave Representations","title":"Methods Special to PlaneWaveExpansions","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"In addition to the methods defined in the interface of AntennaFieldRepresentation, a PlaneWaveExpansion supports the following methods:","category":"page"},{"location":"planewaves/planewave_representations/#planewave_refs","page":"Plane Wave Representations","title":"References","text":"","category":"section"},{"location":"planewaves/planewave_representations/","page":"Plane Wave Representations","title":"Plane Wave Representations","text":"[1]: I. Bogaert, Iteration-free computation of Gauss–Legendre quadrature nodes and weights, SIAM J.ournal on Scientific Computing, Vol. 36, No. 3, pp. A1008–A1026, 2014 DOI. 10.1137/140954969","category":"page"},{"location":"dipoles/dipole_representations/#Representing-Antenna-Fields-with-Equivalent-Dipole-Distributions","page":"Dipole Representations","title":"Representing Antenna Fields with Equivalent Dipole Distributions","text":"","category":"section"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"One of the simplest ways to represent an antenna field is by a collection of electrically short (i.e., ell ll lambda) dipole antennas.  Since the radiated fields of short dipole antennas are known analytically, one can simply superimpose the effects of several spatially distributed dipole antennas to approximate the radiated fields of an antenna.","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"In AntennaFieldRepresentations.jl, collections (or arrays) of electrically short dipole arrays are stored in a struct DipoleArray{P,E,C,T} which is a subtype of AntennaFieldRepresentation{P, C}. The type parameters have the following meaning","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"Parameter Short Description\nP <: PropagationType Can be Radiated, Absorbed, or Incident\nE <: ElmagType Can be Electric or Magnetic\nC <: Complex Element type of the coefficient vector\nT <: Real Number type used in the vector defining the positions of dipoles","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"For extra convenience, the type aliases HertzArray{C, T} = DipoleArray{Radiated, Electric, C, T} and FitzgeraldArray{C, T} = DipoleArray{Radiated, Magnetic, C, T} are introduced. Therefore, the user will mostly interact with HertzArrays and FitzgeraldArrays while the DipoleArray type is hidden under the hood.","category":"page"},{"location":"dipoles/dipole_representations/#Constructors-for-a-DipoleArray","page":"Dipole Representations","title":"Constructors for a DipoleArray","text":"","category":"section"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"To generate a DipoleArray, use one of the following constructors:","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"DipoleArray{P, E}(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{P <: PropagationType, E <: ElmagType, C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"DipoleArray{P, E, C, T}(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{P <: PropagationType, E <: ElmagType, C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"HertzArray{C, T}(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"FitzgeraldArray{C, T}(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"HertzArray(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"FitzgeraldArray(positions::Vector{V1}, orientations::Vector{V2}, dipolemoments::Vector{C}, wavenumber) where{C <: Complex>, V1<: AbstractVector, V2<: AbstractVector{C}}","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"The input arguments for the costructors are","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"positions::Vector{V1} : A vector of 3D-position vectors. Julia must be able to convert the type V1 into an SVector{3}. Must have the same length as orientations and dipolemoments.\norientations::Vector{V2}: A complex valued vector of 3D-orientations. Complex values account for elliptical polarizations in general. Julia must be able to convert the type V2 into an SVector{3}. Must have the same length as positions and dipolemoments.\ndipolemoments::Vector{C}: A vector of complex values to denote the excitation of each individual dipole. Must have the same length as positions and orientations.\nwavenumber : Wavenumber omega = 2pi  f","category":"page"},{"location":"dipoles/dipole_representations/#Dipoles-with-Alternative-Propagation-Types","page":"Dipole Representations","title":"Dipoles with Alternative Propagation Types","text":"","category":"section"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"Most users will probably be familiar with radiating dipoles. They correspond to the Radiated propagation type.  The Absorbed propagation type in some sense reverses the arrow of time[1]. Instead of radiating power away from the dipoles towards infinity, the electromagnetic fields of an Absorbed propagation type bring energy from infinty towards the dipole locations. ","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"warning: Warning\nA DipoleArray of Absorbed type must not be confused with a receiving antenna!The DipoleArray is an equivalent representation of the electromagnetic fields. Use the ProbeAntenna type to indicate a receiving antenna.","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"One of the main use cases of AntennaFieldRepresentations of Absorbed type is to represent scattered fields as a superposition of Absorbed and Radiated types. The fields of DipoleArrays of Absorbed and Radiated type become singular at the spots where the individual dipoles are located. ","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"The third type of AntennaFieldRepresentation, i.e., the Incident type[2], does not have any singularities anywhere. It can be used to represent source-free solutions of Maxwell's equations and is well suited to represent incident fields. Thus, if field representations of Absorbed type are not your cup of tea, you can represent any scattered field as a superposition of Incident and Radiated types.","category":"page"},{"location":"dipoles/dipole_representations/#Dipole-Examples","page":"Dipole Representations","title":"Dipole Examples","text":"","category":"section"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"[1]: Replacing a Radiated type AntennaFieldRepresentation by an Absorbed one, the electromagnetic fields of the two representations are not exactly \"reversed\" in time, as also the sign of the magnetic field changes. To be technically correct, both types of field representations should be considered as separate solutions of Maxwell's equations with different asymptotic boundary conditions at infinity. The fields of DipoleArrays of Absorbed type are derived from the scalar Green's function mathrme^ mathrmj k r  (4 pi r) (as opposed to mathrme^- mathrmj k r  (4 pi r) for Radiated representations).","category":"page"},{"location":"dipoles/dipole_representations/","page":"Dipole Representations","title":"Dipole Representations","text":"[2]: Formally the fields of DipoleArrays of Incident type are derived from the scalar \"Green's function\" (more of a pseudo Green's function) mathrmsin(mathrmj k r)  (4 pi r). You can see that Incident fields are nothing but a superposition of Absorbed and Radiated fields.","category":"page"},{"location":"sampling/sphericalsampling/#sphericalsampling","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"section"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"page"},{"location":"sampling/sphericalsampling/#Constructors-of-SphericalFieldSampling","page":"Spherical Field Samplings","title":"Constructors of SphericalFieldSampling","text":"","category":"section"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"page"},{"location":"sampling/sphericalsampling/#sphericalsamplingstrategy","page":"Spherical Field Samplings","title":"Spherical Sampling Strategies","text":"","category":"section"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"page"},{"location":"sampling/sphericalsampling/#RegularSphereSamplingStrategy","page":"Spherical Field Samplings","title":"RegularSphereSamplingStrategy","text":"","category":"section"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"page"},{"location":"sampling/sphericalsampling/#GaussLegendreθRegularϕ","page":"Spherical Field Samplings","title":"GaussLegendreθRegularϕ","text":"","category":"section"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/sphericalsampling/","page":"Spherical Field Samplings","title":"Spherical Field Samplings","text":"","category":"page"},{"location":"operations/interactions/#Transmission-Between-Field-Representations","page":"Transmission Between Field Representations","title":"Transmission Between Field Representations","text":"","category":"section"},{"location":"operations/interactions/","page":"Transmission Between Field Representations","title":"Transmission Between Field Representations","text":"In this chapter we investigate how we can model the interaction (or transmission) between two field representations.","category":"page"},{"location":"operations/interactions/","page":"Transmission Between Field Representations","title":"Transmission Between Field Representations","text":"To be able to evaluate the interaction, at least one of the field representations must be of a radiating type, such that it can meaningfully represent an antenna in transmit mode. By inferring reciprocity, we can calculate which signal such an antenna would receive when illuminated by a given incident field. ","category":"page"},{"location":"operations/interactions/","page":"Transmission Between Field Representations","title":"Transmission Between Field Representations","text":"The second field representation type must be either representing an incident field or a radiating field (in which case an incident field at the receive antenna location can be calculated from the radiating field type). ","category":"page"},{"location":"operations/interactions/","page":"Transmission Between Field Representations","title":"Transmission Between Field Representations","text":"All possible interactions between field types are listed below.","category":"page"},{"location":"operations/interactions/#Dipole-Dipole","page":"Transmission Between Field Representations","title":"Dipole <-> Dipole","text":"","category":"section"},{"location":"operations/interactions/#Dipole-Arbitrary-Spherical-Expansion","page":"Transmission Between Field Representations","title":"Dipole <-> Arbitrary Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Dipole-Arbitrary-Plane-Wave-Representation","page":"Transmission Between Field Representations","title":"Dipole <-> Arbitrary Plane-Wave Representation","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Radiating-Spherical-Expansion","page":"Transmission Between Field Representations","title":"Radiating Spherical Expansion <-> Radiating Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Incident-Spherical-Expansion","page":"Transmission Between Field Representations","title":"Radiating Spherical Expansion <-> Incident Spherical Expansion","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Far-Field-Pattern","page":"Transmission Between Field Representations","title":"Radiating Spherical Expansion <-> Far-Field Pattern","text":"","category":"section"},{"location":"operations/interactions/#Radiating-Spherical-Expansion-Plane-Wave-Spectrum","page":"Transmission Between Field Representations","title":"Radiating Spherical Expansion <-> Plane-Wave Spectrum","text":"","category":"section"},{"location":"operations/interactions/#Far-Field-Pattern-Far-Field-Pattern","page":"Transmission Between Field Representations","title":"Far-Field Pattern <-> Far-Field Pattern","text":"","category":"section"},{"location":"operations/interactions/#Far-Field-Pattern-Plane-Wave-Spectrum","page":"Transmission Between Field Representations","title":"Far-Field Pattern <-> Plane-Wave Spectrum","text":"","category":"section"},{"location":"spherical/spherical_representations/#Representing-Antenna-Fields-with-Spherical-Mode-Expansions","page":"Spherical Mode Representations","title":"Representing Antenna Fields with Spherical Mode Expansions","text":"","category":"section"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"One of the most popular ways to represent an antenna field is by a spherical mode expansion.","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"In AntennaFieldRepresentations.jl, spherical expansions are represented by a struct SphericalWaveExpansion{P, C, S} which is a subtype of AntennaFieldRepresentation{P, C}. The type parameters have the following meaning","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"Parameter Short Description\nP <: PropagationType Can be Radiated, Absorbed, or Incident\nC <: Complex Element type of the coefficient vector\nS <: AbstractSphericalCoefficients{C}} Type of spherical expansion coefficients. Can be SphericalCoefficients{C} for general spherical coefficients or FirstOrderSphericalCoefficients{C} for first-order spherical coefficients","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"SphericalWaveExpansions are particularly efficient when combined with RegularSphericalFieldSamplings or FarFieldSamplings.","category":"page"},{"location":"spherical/spherical_representations/#Constructors-for-a-SphericalWaveExpansion","page":"Spherical Mode Representations","title":"Constructors for a SphericalWaveExpansion","text":"","category":"section"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"To generate a SphericalWaveExpansion, use one of the following constructors:","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"SphericalWaveExpansion{P, C, S}(coefficients::S, wavenumber <: Number) where{P <: PropagationType, C <: Complex, S<: AbstractSphericalCoefficients{C}}","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"SphericalWaveExpansion(::P, coefficients::AbstractVector{C}, wavenumber) where{P <: PropagationType, C}","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"The input arguments for the costructors are","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"P <: PropagationType : Can be Radiated, Absorbed, or Incident\ncoefficients: Coefficient vector. Can be either a struct of SphericalCoefficients{C}, a struct of FirstOrderSphericalCoefficients{C}, or an AbstractVector{C}\nwavenumber : Wavenumber omega = 2pi  f","category":"page"},{"location":"spherical/spherical_representations/#abstractsphericalcoeficients","page":"Spherical Mode Representations","title":"The AbstractSphericalCoefficients{C} Type","text":"","category":"section"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"As described in more detail in the theory section, a spherical mode expansion is characterized by the expansion coefficents alpha_s ell m with s in 12, ell = 1ldots L, and m = -ell ldots ell.","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"In the numerical implementation, the coefficients alpha_s ell m are stored in a vector, where the triple index s ell m is mapped to a single consecutively running index j by the function sℓm_to_j(s,ℓ,m). The inverse map from a single index to the triple index s ell m is implemented in the function j_to_sℓm(j).  This behaviour is implemented in implementations of the abstract type AbstractSphericalCoefficients{C}. Instances of an AbstractSphericalCoefficients{C} can be accessed like an AbstractVector{C} with a single index j or with a triple index (s,ℓ,m), where j = 2 * (ℓ * (ℓ + 1) + m - 1) + s as in the following example","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"values=ComplexF64.(collect(1:16))\nsph_coefficients= SphericalCoefficients(values)\nprintln(sph_coefficients[9]) # Here the coefficient vector is accessed with a single index\nprintln(sph_coefficients[1, 2, -1]) # Here the same element is accessed with a triple index\nsph_coefficients[1, 2, -1] = 111.0im # setindex!() is also defined\nprintln(sph_coefficients[9])","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"Besides the general SphericalCoefficients{C}, also the type FirstOrderSphericalExpansion{C} exists in AntennaFieldRepresentations.jl. A FirstOrderSphericalExpansion{C} indicates that all spherical expansion coefficients alpha_s ell m with m neq 1 are equal to zero. First-order spherical expansions do play a special role in the development of fast algorithms for spherical wave expansions and, thus, have their own representation in AntennaFieldRepresentations.jl. When a FirstOrderSphericalExpansion{C} is generated from an AbstractVector{C}, all elements which do not correspond to a triple index with m=1 are ignored. ","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"Use the following constructors to generate a struct of AbstractSphericalCoefficients{C}","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"SphericalCoefficients(v::AbstractVector{C}) where{C <: Number}","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"FirstOrderSphericalCoefficients(v::AbstractVector{C}) where{C <: Number}","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"FirstOrderSphericalCoefficients(sc::SphericalCoefficients{C}) where{C <: Number}","category":"page"},{"location":"spherical/spherical_representations/#Spherical-Expansion-Examples","page":"Spherical Mode Representations","title":"Spherical Expansion Examples","text":"","category":"section"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"spherical/spherical_representations/","page":"Spherical Mode Representations","title":"Spherical Mode Representations","text":"","category":"page"},{"location":"surfacecurrents/surface_representations/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"note: Note\nComing soon ...","category":"page"},{"location":"surfacecurrents/surface_representations/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"","category":"page"},{"location":"operations/coordinate_trafos/#Field-Representations-in-Transformed-Coordinate-Systems","page":"Coordinate Transformations","title":"Field Representations in Transformed Coordinate Systems","text":"","category":"section"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"","category":"page"},{"location":"operations/coordinate_trafos/#Rotated-Coordinate-System","page":"Coordinate Transformations","title":"Rotated Coordinate System","text":"","category":"section"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"","category":"page"},{"location":"operations/coordinate_trafos/#Translated-Coordinate-System","page":"Coordinate Transformations","title":"Translated Coordinate System","text":"","category":"section"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"operations/coordinate_trafos/","page":"Coordinate Transformations","title":"Coordinate Transformations","text":"","category":"page"},{"location":"dipoles/dipole_examples/#Dipole-to-Dipole-Interactions","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"The interaction between two elementary dipoles is modeled by letting one of the dipoles generate an electromagnetic field, which is therafter received by the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"Since the recieved signal of a Hertzian dipole is directly proportional to the parallel component of the incident electric field at the dipole position, the received signals of Hertzian dipoles can be used to ideally probe the electric field. The interaction between two Hertzian dipoles can be used to represent the radiated electric field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"Since the recieved signal of a Fitzgerald dipole is directly proportional to the parallel component of the negative incident magnetic field at the dipole position, the received signals of Fitzgerald  dipoles can be used to ideally probe the magnetic field. The interaction between two Fitzgerald dipoles can be used to represent the radiated magnetic field of one of the dipoles at the location of the other dipole.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"The detailed derivation can be found in the \"Theory\" section. The interaction between two dipoles is implemented in the function (TODO: insert correct function) Each elementary dipole is defined by its position bmr, its oriented length bmell and its excitation magnitude I. Hertzian and Fitzgerald dipoles may be constructed using the constructors as in the following example.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-two-Hertzian-Dipoles","page":"Dipole to Dipole Interactions","title":"Interaction between two Hertzian Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Hertzian dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"b=\ndfrac-mathrmj2 k_0 Z_mathrmF I_1 I_2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-two-Fitzgerald-Dipoles","page":"Dipole to Dipole Interactions","title":"Interaction between two Fitzgerald Dipoles","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"Let I_mathrmm1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Fitzgerald dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"b=\ndfrac-mathrmj2 dfrack_0Z_mathrmF I_mathrmm1 I_mathrmm2\nleft\nleft(\ndfrac3k^2bmr_2-bmr_1^2\n+\ndfrac3mathrmjkbmr_2-bmr_1 \n-1   \nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bme_rright) left(bme_r cdot bmell_1right)\n-\nleft(\ndfracmathrmjkbmr_2-bmr_1\n+dfrac1k^2bmr_2-bmr_1^2\n-1\nright)\ng_0(bmr_2bmr_1)\n\nleft(bmell_2 cdot bmell_1\nright)\nright ","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/#Interaction-between-Hertzian-and-Fitzgerald-Dipole","page":"Dipole to Dipole Interactions","title":"Interaction between Hertzian and Fitzgerald Dipole","text":"","category":"section"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"Let I_1, bmell_1, and bmr_1 denote the excitation, oriented (equivalent) length, and location of the transmitting Hertzian dipole and let I_mathrmm2, bmell_2, and bmr_2 be the excitation, oriented (equivalent) length, and location of the receiving Fitzgerald dipole. The received signal which represents the interaction between these two dipoles is given by","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"b= dfrac12\nI_1 I_mathrmm2\nleft(-mathrmjk-dfrac1bmr-bmrright) bmell_2 cdot left( bme_r times bmell_1right)","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"where bme_r denotes the unit vector pointing in the direction from one dipole location to the other.","category":"page"},{"location":"dipoles/dipole_examples/","page":"Dipole to Dipole Interactions","title":"Dipole to Dipole Interactions","text":"The role of the transmitting and the receiving dipole may be exchanged without changing the result of the calculation (i.e., the electric field of a Fitzgerald dipole matches the electric field of a Fitzgerald dipole).","category":"page"},{"location":"planewaves/planewave_examples/#TODO:-generate-content","page":"TODO: generate content","title":"TODO: generate content","text":"","category":"section"},{"location":"sampling/fieldsamplings/#fieldsampling","page":"General Field Sampling Interface","title":"Sampling Setups for Antenna Fields","text":"","category":"section"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"In electromagnetic field solvers a concept called field monitor or field request (or similiar) is very common: The desired electromagnetic fields are not calculated everywhere in space but only on a limited set of points defined in the field request. This saves resources and makes the computation of the electromagnetic fields feasible in the first place.","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"In AntennaFieldRepresentations.jl, a similar concept exists. A FieldSampling is a struct which defines the positions in which the electromagnetic fields of an AntennaFieldrepresentation shall be sampled. Furthermore, many Fieldsamplings allow to take the receive pattern of a realistic probe antenna into account. This way, rather complex and realistic antenna measurement setups can be modelled.","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"A FieldSampling can be used to create a TransmissionMap, a functional relationship between the coefficients of an AntennaFieldRepresentation and the output signals of the probe antennas defined by the FieldSampling[1].  The TransmissionMap serves as a linear operator (a matrix) between the coefficient vector of the AntennaFieldRepresentation and the vector of output signals of the probe antennas. Depending on the specific types of the AntennaFieldRepresentation and the FieldSampling, the algorithm implementing the matrix-vector product for the TransmissionMap will change.  Particularly efficient algorithms arise for certain combinations of AntennaFieldRepresentations and FieldSamplings. ","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"Every FieldSampling reserves a storage for the measured values of the S_21-parameter between the probe antennas and an AntennaFieldRepresentation. Internally, the storage can have various forms to best match the situation described by the FieldSampling implementation. However, all FieldSamplings implement a common interface which let the user access the storage for the measured S_21-parameters a Base.AbstractVector.","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"tip: Tip\nImplementations of the type FieldSampling support the interface of Base.AbstractVector. In particular the methods Base.getindex and Base.setindex! are supported which allow to access the measurement vector by indexing the struct representing the fields directly by square brackets [].","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"","category":"page"},{"location":"sampling/fieldsamplings/#FieldSampling-Interface","page":"General Field Sampling Interface","title":"FieldSampling Interface","text":"","category":"section"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"Any subtype of FieldSampling implements the following methods[2]:","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"Method name Optional Fallback method Short Description\nBase.size No  See interface of Base.AbstractVector\nBase.getindex! No  See interface of Base.AbstractVector\nBase.setindex No  See interface of Base.AbstractVector\nBase.similar No  See interface of Base.AbstractVector\nasvector No  Return the measurement samples as a vector","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"[1]: Hertzian dipoles (short electric dipoles) and Fitzgerald dipoles (short magnetic dipoles) can formally be used as probe antennas to directly sample electric and magnetic fields of an AntennaFieldRepresentation: Their output signals are directly proportional to the electric and magnetic field component which is parallel to their dipole orientation, respectively.","category":"page"},{"location":"sampling/fieldsamplings/","page":"General Field Sampling Interface","title":"General Field Sampling Interface","text":"[2]: Note for developers: If you want to implement your own subtype of FieldSampling, make sure to support this interface to adhere to the general functionality of this package. ","category":"page"},{"location":"api/#API-Reference","page":"API","title":"API Reference","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"warning: Warning\nThis chapter refers to an old state of the package and needs rewriting!! ","category":"page"},{"location":"api/","page":"API","title":"API","text":"","category":"page"},{"location":"api/#Public-Types","page":"API","title":"Public Types","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations]\nPrivate = false\nOrder= [:type]","category":"page"},{"location":"api/#AntennaFieldRepresentations.AbsorbedSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.AbsorbedSphericalExpansion","text":"AbsorbedSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of absorbed type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractDipole","page":"API","title":"AntennaFieldRepresentations.AbstractDipole","text":"Abstract type container type for HertzDipole and FitzgeraldDipole\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.AbstractSphericalExpansion","text":"SphericalExpansions can be Radiating, Incident, or Absorbed\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.AbstractSurfaceCurrentDensity","page":"API","title":"AntennaFieldRepresentations.AbstractSurfaceCurrentDensity","text":"Abstract type container type for Surface current densities\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.FarfieldPattern","page":"API","title":"AntennaFieldRepresentations.FarfieldPattern","text":"Radiated far-field pattern sampled in angular domain. Sampling points lie on equiangular grid in ϕ and Gauß-Legendre grid in θ. Number and location of sampling points is defined by L. length(θ)=L+1 length(ϕ)=2L+2.\n\nFields:\n\nk₀::Float64 : Wavenumber L::Int64 : Order of the representation Eθ::Array{<:Complex,2} : matrix storing the complex values for the θ-components Eϕ::Array{<:Complex,2} : matrix storing the complex values for the ϕ-components\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.FitzgeraldDipole","page":"API","title":"AntennaFieldRepresentations.FitzgeraldDipole","text":"FitzgeraldDipole{T<:Number} <: AbstractDipole\n\nStore information for a magnetic dipole\n\nFields\n\npos::SArray{Tuple{3},T,1,3} : position (can be real or complex)\ndir::SArray{Tuple{3},T,1,3} : direction (must be complex to enable circular polarization)\nmag::ComplexF64 : magnitude (for scalar excitation)\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.HertzDipole","page":"API","title":"AntennaFieldRepresentations.HertzDipole","text":"HertzDipole{T<:Number} <: AbstractDipole\n\nStore information for an electric dipole\n\nFields\n\npos::SArray{Tuple{3},T,1,3} : position (can be real or complex)\ndir::SArray{Tuple{3},T,1,3} : direction (must be complex to enable circular polarization)\nmag::ComplexF64 : magnitude (for scalar excitation)\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.IncidentSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.IncidentSphericalExpansion","text":"IncidentSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of incident type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.MLFMMInteractionMatrix","page":"API","title":"AntennaFieldRepresentations.MLFMMInteractionMatrix","text":"MLFMMInteractionMatrix{C} <: LinearMaps.LinearMap{C}\n\nRepresent interactions between array of dipole sources and array of dipole probes as abstract matrix\n\nFields\n\nsourcestruct::AntennaFieldRepresentations.MLFMMSource\nreceivestruct::AntennaFieldRepresentations.MLFMMReceive\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.PlaneWave","page":"API","title":"AntennaFieldRepresentations.PlaneWave","text":"Object for a single plane wave\n\nFields:\n\nkvec::Array{<:Number,1} : k-vector determining the propagation direction. If complex valued: Evanescent components pol::Array{<:Number,1} : polarizatiion vector. If complex valued: elliptic polarization mag::Complex : Complex valued excitation amplitude\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.PlaneWaveSpectrum","page":"API","title":"AntennaFieldRepresentations.PlaneWaveSpectrum","text":"Incident plane-wave spectrum sampled in angular domain. Sampling points lie on equiangular grid in ϕ and Gauß-Legendre grid in θ. Number and location of sampling points is defined by L. length(θ)=L+1 length(ϕ)=2L+2.\n\nFields:\n\nk₀::Float64 : Wavenumber L::Int64 : Order of the representation Eθ::Array{Complex{Float64},2} : matrix storing the complex values for the θ-components Eϕ::Array{Complex{Float64},2} : matrix storing the complex values for the ϕ-components \n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.RadiatingSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.RadiatingSphericalExpansion","text":"RadiatingSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of radiating type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#Public-Functions","page":"API","title":"Public Functions","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations]\nPrivate = false\nOrder= [:function]","category":"page"},{"location":"api/#AntennaFieldRepresentations.Wacker-Union{Tuple{C}, Tuple{T}, Tuple{Array{C, 3}, Vector{T}}} where {T<:Complex, C<:Complex}","page":"API","title":"AntennaFieldRepresentations.Wacker","text":"Wacker(S12, αin, [θvec, weightvec])\n\nReturn (receiving) spherical mode coefficients from measured S12 data with regular grid points on sphere. S12 is expected to have dimensions (L+1) × (2L+1) × 2 if no θvec or Jθ, JΦ, Jχ is given\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Wackerforward-Union{Tuple{C}, Tuple{Any, Vector{C}, Integer, Integer}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.Wackerforward","text":"Wackerforward(α_inc,  β_aut, Jθ, Jϕ[, Jχ])\n\nReturn regularly sampled S12 measurement data on sphere.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Wackerforward_ad-Union{Tuple{C}, Tuple{K}, Tuple{Vector{C}, Array{K, 3}, Integer, Integer, Integer}} where {K<:Complex, C<:Complex}","page":"API","title":"AntennaFieldRepresentations.Wackerforward_ad","text":"Wackerforward_ad(α_inc, S21, Jθ, Jϕ, Jχ)\n\nReturn adjoint operator to Wackerforward(α_inc,  β_aut, Jθ, Jϕ, Jχ).\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.cdist-Tuple{Vector{<:Real}}","page":"API","title":"AntennaFieldRepresentations.cdist","text":"cdist(R::Array{<:Number,1}) -> Number\n\nReturn √(R⋅R) without complex conjugation of R in the dot product. Corresponds to the norm operator for real valued vectors\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.convertrepresentation","page":"API","title":"AntennaFieldRepresentations.convertrepresentation","text":"convertrepresentation(newType<:Type{FieldRepresentation}, fieldobject<: FieldRepresentation, args)\n\nConvert field representation into other type with different datastructure.\n\nField evaluations of the respective old and new field representations should be approximately equal in a common region of convergence.\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.converttype","page":"API","title":"AntennaFieldRepresentations.converttype","text":"converttype(newType<:Type{FieldRepresentation}, fieldobject<: FieldRepresentation)\n\nConvert field representation into other type with same datastructure. Field avaluations of the respective old and new field representations will differ.\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.efield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.efield","text":"efield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Ex;Ey;Ez]\nefield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Ex;Ey;Ez]\n\nReturn the E-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.ehfield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.ehfield","text":"ehfield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Ex;Ey;Ez], [Hx;Hy;Hz]\nehfield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Ex;Ey;Ez], [Hx;Hy;Hz]\n\nReturn the E-field and H-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.elementtype","page":"API","title":"AntennaFieldRepresentations.elementtype","text":"elementtype(fieldobject<:FieldRepresentation)\n\nReturn base type of elements representing the fields in fieldobject. Default is ComplexF64\n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.hfield-Tuple{Any, AbstractVector{<:Number}, Number}","page":"API","title":"AntennaFieldRepresentations.hfield","text":"hfield(fieldobject<:FieldRepresentation, R, k₀::Number) -> [Hx;Hy;Hz]\nhfield(Vector{<:FieldRepresentation}, R, k₀::Number) -> [Hx;Hy;Hz]\n\nReturn the H-field vector (in cartesian coordinates) of the field representation at location R.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.j_to_sℓm-Tuple{Integer}","page":"API","title":"AntennaFieldRepresentations.j_to_sℓm","text":"j_to_sℓm(j)\n\nConvert single index j to multi-index s ℓ m\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.reciprocaltype-Tuple{Type{<:AntennaFieldRepresentation}}","page":"API","title":"AntennaFieldRepresentations.reciprocaltype","text":"reciprocaltype(type::Type{<:AntennaFieldRepresentation}) -> Type{<:AntennaFieldRepresentation}\n\nReturn type of the field representation which is reciprocal to the input type.    \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.resample-Tuple{FarfieldPattern, AntennaFieldRepresentations.AbstractInterpolationStrategy}","page":"API","title":"AntennaFieldRepresentations.resample","text":"resample(pattern::PlaneWaveRepresentation, L::Integer, [orderθ::Integer=12, orderϕ::Integer=12]) -> newpattern::PlaneWaveRepresentation\n\nReturn pattern sampled according to order L using Lagrange interpolation of orders orderθ, orderϕ     \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.revertdirection-Tuple{P} where P<:PlaneWaveRepresentation","page":"API","title":"AntennaFieldRepresentations.revertdirection","text":"revertdirection(pattern::PlaneWaveRepresentation) -> pattern_revert::PlaneWaveRepresentation\n\nReturn PlaneWaveRepresentation with reverted propagation directions. F(k) -> F(-k)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.rot_mat_zyz-Tuple{Number, Number, Number}","page":"API","title":"AntennaFieldRepresentations.rot_mat_zyz","text":"rot_mat_zyz(χ::Number, θ::Number, ϕ::Number)-> R::Matrix{eltype(χ, θ, ϕ)}\n\nReturn rotation matrix for cartesian vector components for a rotation around Euler angles χ, θ, ϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.rotate-Tuple{Any}","page":"API","title":"AntennaFieldRepresentations.rotate","text":"rotate(fieldobject<:FieldRepresentation, χ::Number, θ::Number, ϕ::Number) -> rotatedfieldobject<:Fieldrepresentation\nrotate(fieldobject<:FieldRepresentation; [χ=0.0],  [θ=0.0], [ϕ=0.0]) -> rotatedfieldobject<:Fieldrepresentation\n\nRotate a field representation around the Euler angles χ, θ, ϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.samplingrule-Tuple{Integer}","page":"API","title":"AntennaFieldRepresentations.samplingrule","text":"samplingrule(L::Integer) -> ( w::Array{Float64,1}, θ::Array{Float64,1}, ϕ::Array{Float64,1} )\n\nReturn sampling points for θ, ϕ, and θ-integration weights w for a far field or plane wave spectrum of order L.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.shiftrepresentation","page":"API","title":"AntennaFieldRepresentations.shiftrepresentation","text":"shiftrepresentation(fieldobject<:FieldRepresentation, R, k₀::Number) -> newobject<:Fieldrepresentation\n\nTranslate field representation into field representation of same type in translated coordinate system with new origin at R. \n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.sqrtdot-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations.sqrtdot","text":"sqrtdot(u::Array{<:Number,1}, v::Array{<:Number,1}) -> Number\n\nReturn √(u⋅v) without complex conjugation of u\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.sℓm_to_j-Tuple{Any, Any, Any}","page":"API","title":"AntennaFieldRepresentations.sℓm_to_j","text":"sℓm_to_j(s,ℓ,m)\n\nConvert multi-index s ℓ m to single index j\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.translate","page":"API","title":"AntennaFieldRepresentations.translate","text":"translate(fieldobject<:FieldRepresentation, R, k₀::Number) -> newobject<:Fieldrepresentation\n\nTranslate radiating field representation into incident field representation in translated coordinate system with new origin at R. \n\n\n\n\n\n","category":"function"},{"location":"api/#AntennaFieldRepresentations.transmission-Union{Tuple{T}, Tuple{Any, T, Number}} where T<:AntennaFieldRepresentation","page":"API","title":"AntennaFieldRepresentations.transmission","text":"transmission(sender<:FieldRepresentation, receiver<:FieldRepresentation, k₀::Number) -> val::Complex\n\nReturn interaction between two field representations ( or source representations)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.udot-Tuple{Vector{<:Real}, Vector{<:Real}}","page":"API","title":"AntennaFieldRepresentations.udot","text":"dotu(u::Array{<:Number,1}, v::Array{<:Number,1}) -> Number\n\nReturn u⋅v without complex conjugation of u\n\n\n\n\n\n","category":"method"},{"location":"api/#Private-Functions-and-Types","page":"API","title":"Private Functions and Types","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Modules = [AntennaFieldRepresentations, AntennaFieldRepresentations.MLFMMTrees]\nPublic = false","category":"page"},{"location":"api/#AntennaFieldRepresentations.EquiangularFarFieldPattern","page":"API","title":"AntennaFieldRepresentations.EquiangularFarFieldPattern","text":"Far-field pattern sampled in angular domain. Sampling points lie on equiangular grid in ϕ and θ.\n\nFields:\n\nk₀::Float64 Jθ::Integer : defines sampling density in θ: Δθ= 2π/Jθ Jϕ::Integer : defines sampling density in ϕ: Δϕ= 2π/Jϕ Eθ::Array{Complex{Float64},2} : matrix storing the complex values for the corresponding co polar plane wave Eϕ::Array{Complex{Float64},2} : matrix storing the complex values for the corresponding cross polar plane wave\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.UnorthodoxSphericalExpansion","page":"API","title":"AntennaFieldRepresentations.UnorthodoxSphericalExpansion","text":"UnorthodoxSphericalExpansion{C<:Complex} <: AbstractSphericalExpansion\n\nStore spherical vector wave expansion coefficients for an expansion of absorbed type\n\nFields\n\ncoefficients::Array{C,1} : array storing the expansion coefficients\n\n\n\n\n\n","category":"type"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_cartesian-NTuple{6, Any}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_cartesian","text":"F_sℓm_cartesian(s,ℓ,m,c,R,k0) -> [Fx;Fy;Fz]\n\nReturn normalized vector spherical wave function at R in cartesian coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_cartesian_array-Union{Tuple{N}, Tuple{Integer, Type{<:AbstractSphericalExpansion}, AbstractArray{N}, Number}} where N<:Number","page":"API","title":"AntennaFieldRepresentations.F_sℓm_cartesian_array","text":"F_sℓm_cartesian_array(s,ℓ,m,c,R,k0) -> [Fx;Fy;Fz]\n\nReturn normalized vector spherical wave function at R in cartesian coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical","text":"F_sℓm_spherical(s,ℓ, m,r,ϑ,φ) -> [Fr;Fϑ;Fφ]\n\nReturn normalized vector spherical wave function at r,ϑ,φ in spherical coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical_array-Tuple{Integer, Type{<:AbstractSphericalExpansion}, Real, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical_array","text":"F_sℓm_spherical_array(Jmaxxc,r,ϑ,φ, k0) -> Fr[1:Jmaxx], Fϑ[1:Jmaxx], Fφ[1:Jmaxx]\n\nReturn all spherical vector wave functions upt to Jmaxx at r, ϑ, φ in spherical coordinates\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_spherical_rzero-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Number, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_spherical_rzero","text":"F_sℓm_rzero(s,ℓ, m ,c,ϑ,φ, k0) -> Fr,Fϑ,Fφ\n\nCatches special cases for r==0 Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_thetapi-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_thetapi","text":"F_sℓm_thetapi(s,ℓ,m,c,r,φ,k0) -> Fr,Fϑ,Fφ\n\nCatches special cases for ϑ==pi Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.F_sℓm_thetazero-Tuple{Integer, Integer, Integer, Type{<:AbstractSphericalExpansion}, Real, Real, Real}","page":"API","title":"AntennaFieldRepresentations.F_sℓm_thetazero","text":"F_sℓm_thetazero(s,ℓ,m,c,r,φ,k0)- > Fr,Fϑ,Fφ\n\nCatches special cases for ϑ==0 Hansen p. 3245f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Greensdivdiv-Tuple{Any, Any, Float64}","page":"API","title":"AntennaFieldRepresentations.Greensdivdiv","text":"Greensdivdiv(R::SArray{Tuple{3},C,1,3}, dipoledir, k₀::Float64) -> SArray{Tuple{3},C,1,3}\nGreensdivdiv(R::Array{<:Number,3}, dipoledir, k₀::Float64) -> Array{<:Number,3}\n\nReturn  dyadic operator (I+1/k² ∇∇) g₀(r,r') \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Greensrot-Tuple{Any, Any, Float64}","page":"API","title":"AntennaFieldRepresentations.Greensrot","text":"Greensrot(R::SArray{Tuple{3},C,1,3}, dipoledir, k₀::Float64) -> SArray{Tuple{3},C,1,3}   Greensrot(R::Array{<:Number,3}, dipoledir, k₀::Float64) -> Array{<:Number,3}\n\nReturn dyadic operator ∇g₀(r,r') × I\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm-Union{Tuple{C}, Tuple{Integer, Integer, Integer, Number, Real}, Tuple{Integer, Integer, Integer, Number, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm","text":"K_sℓm(s,ℓ,m,ϑ,φ) -> Kϑ,Kφ\n\nReturn farfield vector spherical wave function in spherical coordinates \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_array-Union{Tuple{C}, Tuple{Integer, Number, Real}, Tuple{Integer, Number, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm_array","text":"K_sℓm_array(Jmaxx,ϑ,φ) -> Kϑ[1:Jmaxx], Kφ[1:Jmaxx]\n\nReturn farfield for all vector spherical wave functions up to Jmaxx in spherical coordinates\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_thetapi-Tuple{Integer, Integer, Integer, Real}","page":"API","title":"AntennaFieldRepresentations.K_sℓm_thetapi","text":"K_sℓm_thetapi(s,ℓ,m,c,φ) -> Kϑ, Kφ\n\nCatches special cases for ϑ==π Hansen p. 329f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.K_sℓm_thetazero-Union{Tuple{C}, Tuple{Integer, Integer, Integer, Real}, Tuple{Integer, Integer, Integer, Real, Type{C}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.K_sℓm_thetazero","text":"K_sℓm_thetazero(s,ℓ,m,c,φ) -> Kϑ, Kφ\n\nCatches special cases for ϑ==0 Hansen p. 329f.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.Plm_deriv_array-Union{Tuple{I}, Tuple{T}, Tuple{I, I, T}} where {T<:Number, I<:Integer}","page":"API","title":"AntennaFieldRepresentations.Plm_deriv_array","text":"Plm_deriv_array(Lmax,m,x)\n\nReturn unnormalized Associated Legendre polynomials and their derivaives up to Lmax\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._adjoint_aggregate!","text":"_adjoint_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nPerform adjoint operation (i.e., complex conjugate of transposed operation) of _adjoint_aggregate!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._adjoint_aggregate_leafnodes!","text":"_adjoint_aggregate_leafnodes!(A::MLFMMSource)\n\nPerform the adjoint operation (i.e., conjugate of transposed operation) to _aggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive, AbstractVector}","page":"API","title":"AntennaFieldRepresentations._adjoint_disaggregate!","text":"_adjoint_disaggregate!(A::MLFMMReceive, [y::AbstractVector])\n\nPerform adjoint operation (i.e., complex conjugate of transposed operation) of _disaggregate!#\n\nIf no vector y is given, the content in A.bvector is used for adjoint disaggregation.  Otherwise, A.bvector is overwritten by y before adjoint disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_disaggregate_leafnodes!","text":"_adjoint_disaggregate_leafnodes!(A::MLFMMReceive)\n\nPerform ajoint operation (i.e., complex conjugate of transposed operation) of _disaggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_forward!","text":"_adjoint_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nStore the result of the adjoint matrix vector product in sourcevector.xvector\n\nIf no vector y is given, receivestruct.bvector is used as tight vector. Otherwise, receivestruct.bvector is overwritten by the content of y before the operation is performed    \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._adjoint_transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._adjoint_transfer!","text":"_adjoint_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform the adjoint operator (i.e., complex conjugate of transposed operator) of transfer!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._aggregate!","text":"_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nAggregate A according to aggregationlist.\n\nThe aggregationlist specifies for each level which nodes shall be aggregated.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_children!-Tuple{AntennaFieldRepresentations.MLFMMSource, Any}","page":"API","title":"AntennaFieldRepresentations._aggregate_children!","text":"_aggregate_children!(A::MLFMMSource, parentnode)\n\nFill pattern storage of parentnode with aggregated pattern from all its children.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._aggregate_leafnodes!","text":"_aggregate_leafnodes!(A::MLFMMSource)\n\nFill storage for leaf node patterns due to excitation vector A.xvector.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._aggregate_to_minlevel!-Tuple{AntennaFieldRepresentations.MLFMMSource, Any}","page":"API","title":"AntennaFieldRepresentations._aggregate_to_minlevel!","text":"aggregatetominlevel!(A::MLFMMSource, [x::AbstractVector]; minaggregationlevel::Integer=0)\n\nAggregate A up to min_aggregationlevel. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._allocatenodepattern-Union{Tuple{S}, Tuple{R}, Tuple{Type{S}, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Vector{<:Integer}, Vector{Vector{Int64}}}} where {R<:Real, S<:Union{FarfieldPattern{Complex{R}}, PlaneWaveSpectrum{Complex{R}}}}","page":"API","title":"AntennaFieldRepresentations._allocatenodepattern","text":"_allocatenodepattern(P::Type{S}, tree::MLFMMTrees.AbstractMLFMMTree, cutoffparameters::Vector{<:Integer}, [transferlist::Vector{Vector{Int}}, minlevelel::Int]) where {R<:Real, S<:Union{PlaneWaveSpectrum{Complex{R}}, FarfieldPattern{Complex{R}}}}\n\nAllocate memory for intermediate representation of far field patterns for each node in tree. \n\nIf transferlist is provided, only node patterns which are relevant for translations are stored. If minlevel is provided, only node patterns up to minlevel are stored.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._collectPl!-Union{Tuple{T}, Tuple{I}, Tuple{AbstractVector{T}, I, T}} where {I<:Integer, T<:Number}","page":"API","title":"AntennaFieldRepresentations._collectPl!","text":"_collectPl!(Pℓstorage, Lmax,x)\n\nReturn Legendre polynomials up to Lmax with preallocated storage\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._cutoffparameter-Tuple{Any, Any, Any}","page":"API","title":"AntennaFieldRepresentations._cutoffparameter","text":"_cutoffparameter(diameter, expectedaccuracy, k0)\n\nReturn cutoff parameter (i.e., maximum spherical mode index L) to represent sources inside sphere of given diameter with expected accuracy.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._disaggregate!","text":"_disaggregate!(receivestruct::MLFMMReceive)\n\nPerform all disaggregations according to receivestruct.disaggregationlist. The receivestruct.disaggregationlist stores all nodes at each level which shall perform a disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._disaggregate_children!","text":"_disaggregate_children!(receivestruct, parentnode)\n\nDisaggregate pattern of parentnode to all its children and store the resulting patterns in receivestruct.nodespectra[child]\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._disaggregate_leafnodes!","text":"_disaggregate_leafnodes!(receivestruct::MLFMMReceive)\n\nTest leaf node patterns with all test functions of corresponding leafnode and store result in receivestruct.bvector\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._extract_θ_row!-Union{Tuple{C}, Tuple{Any, Any, Matrix{C}, Matrix{C}, Any, AbstractVector}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations._extract_θ_row!","text":"_extract_θ_row!(storage, Ematr::Array{C,2}, iθrange, wθ::<:AbstractVector) where {C<:Complex}\n\nUse interpolation weights wθ and correctly mapped range 'iθrange' to extract values for all plane waves in certain θ-cut from matrix of PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._forward!","text":"_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive,[x])\n\nStore the result of the matrix vector product in receivestruct.bvector\n\nIf no vector x is given, sourcestruct.xvector is used as excitation vector. Otherwise, sourcestruct.xvector is overwritten by the content of x before the operation is performed\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._getpoints-Tuple{AbstractSurfaceCurrentDensity}","page":"API","title":"AntennaFieldRepresentations._getpoints","text":"_getpoints(basisfunctions)\n\nReturn list of SVector{3} representing the reference (i.e., center) locations of the basisfunctions\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._getsourcefunctions-Union{Tuple{@NamedTuple{sourcefunctions::V1, points::V2}}, Tuple{V2}, Tuple{V1}} where {V1, V2}","page":"API","title":"AntennaFieldRepresentations._getsourcefunctions","text":"_getsourcefunctions(basisfunctions)\n\nReturn list of individual source functions\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_aggregationlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any}","page":"API","title":"AntennaFieldRepresentations._initialize_aggregationlist","text":"_initialize_aggregationlist(TXtree::MLFMMTrees.AbstractMLFMMTree, transferlist)\n\nReturn a list of nodes per level which shall be aggregated to be able to perform all transfers provided in transferlist.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_disaggregationlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any}","page":"API","title":"AntennaFieldRepresentations._initialize_disaggregationlist","text":"_initialize_disaggregationlist(RXtree::MLFMMTrees.AbstractMLFMMTree, transferlist)\n\nReturn a list of nodes per level which shall be disaggregated to be able to perform all  disaggregations from nodes which receive transfers provided in transferlist.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_transferlist-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree}","page":"API","title":"AntennaFieldRepresentations._initialize_transferlist","text":"_initialize_transferlist(TXtree::MLFMMTrees.AbstractMLFMMTree, RXtree::MLFMMTrees.AbstractMLFMMTree; num_bufferboxes::Integer=1)\n\nFor each node in RXtree, return a list of all transmit nodes in TXtree which shall perform a transfer to the receive node.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initialize_tree-Union{Tuple{R}, Tuple{AbstractArray{StaticArraysCore.SVector{3, R}}, R}} where R<:Real","page":"API","title":"AntennaFieldRepresentations._initialize_tree","text":"_initialize_tree(points::AbstractArray{SVector{3,R}}, minhalfsize::R) where{R<:Real}\n\nAssemble 'MLFMMTree' based on point cloud and half length of leave boxes\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializebasisfunctionfarfields-Union{Tuple{I}, Tuple{S}, Tuple{R}, Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, S, Vector{I}, R, Bool}} where {R<:Real, S<:AbstractSurfaceCurrentDensity, I<:Int64}","page":"API","title":"AntennaFieldRepresentations._initializebasisfunctionfarfields","text":"_initializebasisfunctionfarfields(tree::MLFMMTrees.AbstractMLFMMTree, basisfunctions::S, cutoffparameters::Vector{I}, k0::R, verbose::Bool) where {R<:Real, S<:AbstractSurfaceCurrentDensity, I<:Int}\n\nReturn list of far fields for every basis function on leaf level.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializebasisfunctionweightingpatterns-Union{Tuple{R}, Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any, Vector{<:Integer}, R, Bool}} where R<:Real","page":"API","title":"AntennaFieldRepresentations._initializebasisfunctionweightingpatterns","text":"_initializebasisfunctionweightingpatterns(tree::MLFMMTrees.AbstractMLFMMTree, functionspace,\ncutoffparameters::Vector{<:Integer}, k0::R, verbose::Bool) where{R<:Real}\n\nReturn list of far fields for every test function on leaf level stored in reverted direction feasible for testing incident plane wave spectra. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializelevelcutoffparameters-Tuple{AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Any, Any}","page":"API","title":"AntennaFieldRepresentations._initializelevelcutoffparameters","text":"_initializelevelcutoffparameters(tree::MLFMMTrees.AbstractMLFMMTree, expectedaccuracy, wavenumber)\n\nReturn list of cutoff parameters for each level in tree to represent the node farfields with expected accuracy.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializelevelinterpolators-Tuple{Type{<:Real}, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree, Integer, Integer, Vector{<:Integer}}","page":"API","title":"AntennaFieldRepresentations._initializelevelinterpolators","text":"_initializelevelinterpolators(R::Type{<:Real}, tree::MLFMMTrees.AbstractMLFMMTree, orderθ::Integer, orderϕ::Integer,cutoffparameters::Vector{<:Integer}; minlevel::Int=0)\n\nReturn list of interpolators to aggregate from each level to the respective parent level.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._initializetransferplan-Union{Tuple{P}, Tuple{Vector{Vector{Int64}}, AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMTrees.AbstractMLFMMTree}} where P<:(Type{<:AntennaFieldRepresentations.AbstractTransfer})","page":"API","title":"AntennaFieldRepresentations._initializetransferplan","text":"_initializetransferplan(transferlist::Vector{Vector{Int}}, sourcestruct::MLFMMSource, RXtree::MLFMMTrees.AbstractMLFMMTree;  ) where{P<:Type{<:AbstractTransfer}}\n\nFor each planned transfer, initialize and store a transferobject which holds all rewuired information to calculate the corresponding far field transfer.\n\nKeywordarguments:\n\ntransfertype::P=PlannedTransfer{Complex{R}} : specify type of the initialized tranfer object\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._phaseshiftmatrix!-Tuple{AbstractMatrix, AbstractVector, Number}","page":"API","title":"AntennaFieldRepresentations._phaseshiftmatrix!","text":"_phaseshiftmatrix!(storagematrix, R, k₀)\n\nIn-place calculation of phaseshiftmatrix which needs to be element-wise multiplied to farfield to shift the farfield to new coordinate origin at R. Assumes that size(storagematrix) mathces the matrices in PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transfer!","text":"_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform all required transfers between the sourcestruct and the receivestruct.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate!-Tuple{AntennaFieldRepresentations.MLFMMSource, Vector{Vector{Int64}}}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate!","text":"_transpose_aggregate!(A::MLFMMSource, aggregationlist::Vector{Vector{Int}})\n\nPerform transpose operation of _aggregate!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate_children!","text":"_transpose_aggregate_children!(A, parentnode)\n\nPerform transposed operation to _aggregate_children!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_aggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMSource}","page":"API","title":"AntennaFieldRepresentations._transpose_aggregate_leafnodes!","text":"_transpose_aggregate_leafnodes!(A::MLFMMSource)\n\nPerform the transpose operation to _aggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate!-Tuple{AntennaFieldRepresentations.MLFMMReceive, AbstractVector}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate!","text":"_transpose_disaggregate!(A::MLFMMReceive, [y::AbstractVector])\n\nPerform transposed operation of `_disaggregate!`\n\nIf no vector y is given, the content in A.bvector is used for transposed disaggregation.  Otherwise, A.bvector is overwritten by y before transposed disaggregation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate_children!-Tuple{Any, Any}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate_children!","text":"_transpose_disaggregate_children!(A, parentnode)\n\nPerform transposed operation to disaggrgate_children!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_disaggregate_leafnodes!-Tuple{AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_disaggregate_leafnodes!","text":"_transpose_disaggregate_leafnodes!(A::MLFMMReceive)\n\nPerform transposed operation to disaggregate_leafnodes!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_forward!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_forward!","text":"_transpose_forward!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive, [y])\n\nStore the result of the transposed matrix vector product in sourcevector.xvector\n\nIf no vector y is given, receivestruct.bvector is used as tight vector. Otherwise, receivestruct.bvector is overwritten by the content of y before the operation is performed\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations._transpose_transfer!-Tuple{AntennaFieldRepresentations.MLFMMSource, AntennaFieldRepresentations.MLFMMReceive}","page":"API","title":"AntennaFieldRepresentations._transpose_transfer!","text":"_transpose_transfer!(sourcestruct::MLFMMSource, receivestruct::MLFMMReceive)\n\nPerform the transposed operator to transfer!\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.collectPl-Union{Tuple{T}, Tuple{I}, Tuple{I, T}} where {I<:Integer, T<:Number}","page":"API","title":"AntennaFieldRepresentations.collectPl","text":"collectPl(Lmax,x)\n\nReturn Legendre polynomials up to Lmax\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.extract_single_planewave-Union{Tuple{C}, Tuple{Matrix{C}, Matrix{C}, Any, Vector{<:Real}, Any, Vector{<:Real}}} where C<:Complex","page":"API","title":"AntennaFieldRepresentations.extract_single_planewave","text":"extract_single_planewave(Eθmatr::Array{<:Complex,2}, Eϕmatr::Array{<:Complex,2}, iθrange, wθ, iϕrange, wϕ ) -> Eθ, Eϕ\n\nUse interpolation weights wθ, wϕ and correctly mapped ranges 'iθrange', iϕrange to extract Eθ- and Eϕ- value for single plane wave from PlaneWaveRepresentation.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.find_next_smaller_θind-Tuple{Vector{<:Real}, Real}","page":"API","title":"AntennaFieldRepresentations.find_next_smaller_θind","text":"find_next_smaller_θind(θvec::Array{<:Real,1}, θnew<:Real) -> i::Integer\n\nReturn index of largest entry in ascendingly ordered θvec which is still smaller than θnew\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.find_next_smaller_ϕind-Tuple{Real, Real}","page":"API","title":"AntennaFieldRepresentations.find_next_smaller_ϕind","text":"find_next_smaller_ϕind(Δϕ<:Real, ϕnew<:Real)-> i::Integer\n\nReturn index of largest entry in ascendingly ordered ϕvec which is still smaller than ϕnew\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.g₀-Tuple{Array{<:Number, 3}, Float64}","page":"API","title":"AntennaFieldRepresentations.g₀","text":"g₀(R, k₀) -> Number\n\nScalar Greens function exp(-jk₀R)/(4πR)\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.interpolate_single_planewave-Union{Tuple{T}, Tuple{orderϕ}, Tuple{orderθ}, Tuple{Lnew}, Tuple{Lold}, Tuple{Real, Real, PlaneWaveRepresentation, AntennaFieldRepresentations.LocalInterpolation{Lold, Lnew, orderθ, orderϕ, T}}} where {Lold, Lnew, orderθ, orderϕ, T}","page":"API","title":"AntennaFieldRepresentations.interpolate_single_planewave","text":"interpolate_single_planewave(θnew::Real, ϕnew::Real, pattern::PlaneWaveRepresentation, ::AbstractInterpolationStrategy)\n\nInterpolate single plane wave into direction θnew, ϕnew from given PlaneWaveRepresentation using plynomial (Legendre) interpolation of order orderθ in θ and orderϕ in ϕ. \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.lagrange_barycentric_weights-Tuple{Any}","page":"API","title":"AntennaFieldRepresentations.lagrange_barycentric_weights","text":"lagrange_barycentric_weights(X::Array{<:Number,1}) -> w::Array{<:Number,1}\n\nReturn barycentric weights for calculating Lagrange interpolation weights\n\nExtended help\n\nThe barycentric weights are needed to evaluate the \"second (true) form of the barycentric formula\" for the Lagrange interpolation. See J.-P. Berrut and L. N. Trefethen: \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.lagrange_interpolation_weights-Union{Tuple{T}, Tuple{Any, T}} where T<:Number","page":"API","title":"AntennaFieldRepresentations.lagrange_interpolation_weights","text":"lagrange_interpolation_weights(X::Array{::Number,1},Y::Array{::Number,1},t::Number) -> w::Array{Flota64}\n\nReturn interpolation weights wᵢ for the calculation f(t)= ∑ᴺᵢ₌₁ wᵢ⋅ f(xᵢ) \n\nExtended help\n\nThe interpolation weights are obtained using the \"second (true) form of the barycentric formula\". See J.-P. Berrut and L. N. Trefethen: \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.legendre_deps_array-Union{Tuple{T}, Tuple{Integer, Integer, T}} where T<:Number","page":"API","title":"AntennaFieldRepresentations.legendre_deps_array","text":"legendre_deps_array(m , Lmax, ϑ)\n\nReturn the theta dependencies occuring in the spherical wave expansion\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.map_θrange!-Tuple{Any, Integer}","page":"API","title":"AntennaFieldRepresentations.map_θrange!","text":"map_θrange!(iθrange, Nθ)\n\nMap the index range iθrange to values between -Nθ+1 and  Nθ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.map_ϕrange!-Tuple{Any, Integer}","page":"API","title":"AntennaFieldRepresentations.map_ϕrange!","text":"map_ϕrange!(iϕrange, Nθ)\n\nMap the index range iϕrange to values between 1 and  Nϕ.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.sphPlm_deriv_array-Union{Tuple{I}, Tuple{T}, Tuple{I, I, T}} where {T<:Number, I<:Integer}","page":"API","title":"AntennaFieldRepresentations.sphPlm_deriv_array","text":"sphPlm_deriv_array(Lmax,m,x)\n\nReturn normalized Associated Legendre polynomials and their derivaives up to Lmax sphPlm= 1/√(2π)  √((2ℓ+1)(ℓ-m)!/(2(ℓ+m)!)  Plm\n\nFrom T. Limpanuparb, J. Milthorpe: \"Associated Legendre Polynomials and Spherical Harmonics Computation for Chemistry Applications\", arXiv 2014\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.αinc_PW-Tuple{Integer}","page":"API","title":"AntennaFieldRepresentations.αinc_PW","text":"αinc_PW(L::Integer)\n\nReturn incident spherical mode coefficients up to mode order L of an x-polarized plane wave traveling in negative z-direction. Compare Hansen: \"Spherical Near-Field Measurements\" Appendix A1.6 \n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.θsequence-Tuple{Vector{<:Real}, Any}","page":"API","title":"AntennaFieldRepresentations.θsequence","text":"θsequence(θvec::Array{<:Real, 1}, iθrange::Array{<:Integer,1})\n\nTruncate and/or periodically extend θvec to create θsequence matching the index range in iθrange.\n\n\n\n\n\n","category":"method"},{"location":"api/#AntennaFieldRepresentations.MLFMMTrees.getboundingbox-Union{Tuple{AbstractArray{StaticArraysCore.SVector{D, F}, 1}}, Tuple{F}, Tuple{D}} where {D, F}","page":"API","title":"AntennaFieldRepresentations.MLFMMTrees.getboundingbox","text":"getboundingbox(points::Vector{SVector{D, F}})\n\nReturns halfsize and center of bounding box of points. The halfsize is the half of the length of the edge of the bounding box.\n\n\n\n\n\n","category":"method"},{"location":"spherical/spherical_theory/#sphericalexpansion","page":"Spherical Vector Wave Expansion","title":"Spherical Vector-Wave Expansion of General Time Harmonic Electromangentic Fields","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Away from sources, the time harmonic electric and magnetic fields must fulfill the homogeneous curl-curl-equation ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"nabla times nabla times bmE - k_0^2 bmE =bm0 ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Arbitrary source-free solutions of Maxwell's equations can be expanded into a series of spherical vector-wave functions as (see pp. 9ff of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmE(r vartheta varphi) =\nk_0  sqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(c)\nbmF_sell m^(c)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmH(r vartheta varphi) =mathrmj\ndfrack_0sqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(c)\nbmF_3-sell m^(c)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where Z_mathrmFsqrtmu_0 varepsilon_0approx 376730313669 mathrmOmega is the impedance of free space and bmF_sell m^(c)(rvartheta varphi) are the spherical vector wave mode functions, which are solutions to the homogeneous curl-curl equation (except in the origin of the coordinate system, where some types of vector mode functions become singular). Due to only two of the radial dependencies being linearly independent, it is sufficient to let the sum over c to be an arbitrary pair of two iindices from the set c in 1234. Usually one will choose the pair c=1 and c=4, where only the c=4-type modes are needed to describe purely radiated fields and only the c=1-type modes are needed to describe purely incident fields.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The vector of coefficients completely defines the fields of a corresponding radiating or incident spherical wave expansion. ","category":"page"},{"location":"spherical/spherical_theory/#spherical_definition","page":"Spherical Vector Wave Expansion","title":"Definition of Spherical Vector-Mode Functions","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Explicit expressions for the spherical vector-mode functions are (see p. 13 of [2])","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmF_1ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracz_ell^(c)(k_0r)sqrtell(ell+1)  dfracmathrmjm overlinemathrmP_ell^m(cos vartheta) sin vartheta bme_vartheta\n-dfracz_ell^(c)(k_0r)sqrtell(ell+1)  dfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta bme_varphi\nright)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracsqrtell(ell+1)k_0r z_ell^(c)(k_0r) overlinemathrmP_ell^m(cos vartheta) bme_r\nright\nphantomdfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta\n\nphantombmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\n+ dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r dfracz_ell^(c)(k_0r)sqrtell(ell+1) right dfracmathrmdoverlinemathrmP_ell^m(cos vartheta) mathrmd vartheta bme_vartheta\nphantom\n left\nphantombmF_2ell m^(c)(rvartheta varphi)\n=\ndfracmathrme^ mathrmjmvarphisqrt2pi\n+ dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r dfracz_ell^(c)(k_0r)sqrtell(ell+1) right dfracmathrmjm overlinemathrmP_ell^m(cos vartheta) sin vartheta bme_varphi\nright) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"To ensure that the vector-mode functions bmF_sell m^(c)(rvartheta varphi) are solutions to the homogeneous curl-curl equation, they are constructed from solutions of the homogeneous scalar Helmholtz equation as (see, e.g., page 393 of [3])","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmM_ell m^(c)= nabla f_ell m^(c) times bme_r overset= bmF_1ell m^(c)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"and","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmN_ell m^(c)= dfrac1k_0 nabla times bmM_ell m^(c) overset= bmF_2ell m^(c)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where bme_r is the unit vector in radial direction.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"General solution to the scalar Helmholtz equation ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Delta f +k_0^2 f=0 ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"can be constructed as superpositions of functions from the set","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"f_sell m^(c)(r vartheta varphi)\n=\nbegincases\ndfracmathrmj_ell(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=115em\ndfracmathrmmathrmn_ell(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=215em\ndfracmathrmmathrmh_ell^(1)(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=315em\ndfracmathrmmathrmh_ell^(2)(k_0 r)sqrtell(ell+1)\n mathrmY_ell m(vartheta varphi)  c=4\nendcases ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"mathrmj_ell(k_0 r) are spherical Bessel functions which represent the radial behavior standing waves (or incident waves)\nmathrmn_ell(k_0 r) are spherical Neumann functions which usually do not represent a physically meaningful solution\nmathrmh_ell^(1)(k_0 r) = mathrmj_ell(k_0 r) +mathrmj mathrmn_ell(k_0 r) are spherical Hankel functions of first kind which represent the radial behavior of waves coming from infinity being absorbed at the coordinate origin\nmathrmh_ell^(2)(k_0 r) = mathrmj_ell(k_0 r) -mathrmj mathrmn_ell(k_0 r) are spherical Hankel functions of second kind which represent the radial behavior of waves traveling from the coordinate origin toward infinity\nmathrmY_ell m(vartheta varphi) are the spherical Harmonics","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"and k_0=2pilambda is the wavenumber defined by the frequency of the electromagnetic wave.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The spherical Harmonics are defined as (see §14.30 of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"mathrmY_ell m(vartheta varphi) \n=\nbegincases\ndfrac1sqrt2pi overlinemathrmP_ell^m(cos vartheta) mathrme^ mathrmjm varphi  textfor mleq ell\n0  textesle\nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where the normalized associated Legendre functions overlinemathrmP_ell^m(x) are defined in ordinary Legendre polynomials mathrmP_ell(x)  as (compare §14.6 and §14.7 of [1])","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"overlinemathrmP_ell^m(x)\n=\nbegincases\nsqrtdfrac(2ell+1)(ell-m)2(ell+m)\n(-1)^m\n\n(1-x^2)^m2\n dfracmathrmd^m mathrmP_ell(x)mathrmd^m  mgeq 02em\n(-1)^m  overlinemathrmP_ell^-m(x)  m0 \nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"note: Note\nDifferent sign conventions are used by different authors when the normalized associated Legendre functions are defined. Conventions may differ by a sign-factor of (-1)^m (this factor is often called Condon-Shortley phase factor). We follow the sign convention of [1], which includes the Condon-Shortley phase factor of (-1)^m in the definition of the normalized associated Legendre functions for positive m. The main reference [2] for our implementation does not include the phase factor in the definition for the associated Legendre functions, but includes an explicit (-1)^m-term to the definition of the mode functions (which we don't do), such that in the end, our definition of the final mode functions coincides with the definition used in [2].","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"warning: Warning\nA straightforward implementation of the above definition for the normalized associated Legendre functions will fail already for moderately large mode orders ell due to the involved factorials. A more sensible definition is based on recurrence relations[4]","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/#spherical_orthogonality","page":"Spherical Vector Wave Expansion","title":"Orthogonality Relations of Spherical Vector-Mode Functions","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The tangential components of the spherical vector-mode functions are orthogonal on concentric spherical surfaces (centered at the coordinate origin). Concretely, they fulfill the orthogonality properties","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"int limits_0^2pi\nint limits_0^pi\n  bmF_sell m^(c)(rvartheta varphi) biggrvert_mathrmtan\ncdot\nbmF_sigma lambda mu^(gamma)(rvartheta varphi) biggrvert_mathrmtan\n \nsin vartheta\nmathrmdvartheta\nmathrmdvarphi\n= \ndelta_ssigma \ndelta_ell lambda \ndelta_m -mu\nR_sell^(c)(k_0r)\nR_sigmalambda^(gamma)(k_0r)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"delta_ell lambda\n=\nbegincases\n1  textif  ell= lambda \n0  textif  ellneq lambda\nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"is the Kronecker-Delta and","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"R_sell^(c)(k_0r)\n= begincases\nz_ell^(c)(k_0r)  textif  s=1 1em\ndfrac1k_0r dfracmathrmdmathrmd k_0r leftz_ell^(c)(k_0r)right  textif  s=2\nendcases","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"is a short-hand notation for the radial dependency of the corresponding spherical vector-mode function bmF_sell m^(c)(rvartheta varphi).","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The orthogonality relations are very useful to find the coefficients alpha_sell m^(c) in the spherical vector-wave expansion of a certain field which is known on a spherical surface.","category":"page"},{"location":"spherical/spherical_theory/#spherical_farfield","page":"Spherical Vector Wave Expansion","title":"Far-Field Expressions","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Due to the asymptotic behavior of the radial dependencies ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"lim limits_k_0r rightarrow infty mathrmh_ell^(2)(k_0r) = mathrmj^ell+1 dfracmathrme^-mathrmj k_0rk_0r ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"lim limits_k_0r rightarrow infty  dfrac1k_0r dfracmathrmdmathrmd k_0r leftk_0 r mathrmh_ell^(2)(k_0r) right = mathrmj^ell dfracmathrme^-mathrmj k_0rk_0r ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"for distances approaching infinity, it is convenient to define far-field expressions of the mode functions as","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmK_1ell m^(4)(vartheta varphi) =\nlim limits_k_0r rightarrow infty\ndfrack_0rmathrme^-mathrmj k_0r\nbmF_1ell m^(4)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmK_2ell m^(4)(vartheta varphi) =\nlim limits_k_0r rightarrow infty\ndfrack_0rmathrme^-mathrmj k_0r\nbmF_2ell m^(4)(rvartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Explicit expressions for the far-field mode functions are given as","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmK_1ell m^(4)(vartheta varphi) =\ndfracmathrmj^ell+1sqrtell(ell+1)\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracmathrmjm overlinemathrmP_ell^m(cos vartheta )sin vartheta bme_vartheta\n-\ndfracmathrmd overlinemathrmP_ell^m(cos vartheta )mathrmd vartheta bme_varphi  \nright)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmK_2ell m^(4)(vartheta varphi) =\ndfracmathrmj^ellsqrtell(ell+1)\ndfracmathrme^ mathrmjmvarphisqrt2pi\nleft(\ndfracmathrmd overlinemathrmP_ell^m(cos vartheta )mathrmd vartheta bme_vartheta\n+\ndfracmathrmjm overlinemathrmP_ell^m(cos vartheta )sin vartheta\n bme_varphi  \nright) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"note: Note\nThis definition of the far-field mode functions lacks the arbitrary factor of sqrt4pi which is introduced in [2] .","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Naturally, the far field bmF(vartheta varphi) = lim limits_k_0r rightarrow infty dfracrmathrme^-mathrmj k_0r bmE(rvartheta varphi) can be calculated from a given set of expansion coefficients alpha_sell m^(4) as","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmF(vartheta varphi) =\nsqrtZ_mathrmF\nsum limits_c\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(4)\nbmK_sell m^(c)(vartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/#Spherical-Expansion-Coefficients-from-a-Current-Density","page":"Spherical Vector Wave Expansion","title":"Spherical Expansion Coefficients from a Current Density","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The radiating spherical vector-wave expansion for the fields radiated by arbitrary electric and magnetic volume current densities bmJ(bmr) and bmM(bmr) can be calculated by ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"alpha_sell m^(4)=k_0 (-1)^m+1 \niiint \nleft\nsqrtZ_mathrmF bmF_sell-m^(1) cdot  bmJ(bmr)\n-\ndfracmathrmjsqrtZ_mathrmF(bmr) bmF_3-sell-m^(1)(bmr) cdot  bmM(bmr)\nright \nmathrmdv  ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The spherical vector-wave functions bmF_sell m^(1)(bmr) of incident type which are involved in the above calculation have vanishingly small magnitudes for locations bmr with distance to the coordinate origin r  ell k_0. Thus, for current densities which are completely enclosed by a minimum sphere of radius r_mathrmminsphere, one may neglect all coefficients alpha_sell m^(4) with ell  k_0 r_mathrmminsphere (plus a small buffer depending on the desired accuracy), as long as one is not interested in evaluating the expanded electromagnetic fields extremely close to the original currents. ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"note: Note\nThe physical size of the current distribution dictates the maximum degree ell of the spherical wave expansion to accurately characterize the radiated fields.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/#spherical_coefficients_orthogonality","page":"Spherical Vector Wave Expansion","title":"Spherical Expansion Coefficients by Using Orthogonality","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Often, we are interested in finding the spherical vector-wave expansion of a purely incident or a purely radiated field. To be precise, one wants to find the expansion coefficients alpha_sell m^(c) (with c=1 for a purely incident field and c=4 for a purely radiated field) to fulfill the equality","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmE(r vartheta varphi) =\nk_0  sqrtZ_mathrmF\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(c)\nbmF_sell m^(c)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"for a given field bmE(r vartheta varphi).","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"As indicated previously, one may leverage on the orthogonality properties of the spherical vector-wave functions to find the desired expansion coefficients alpha_sell m^(c). We have","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"alpha_sell m^(c)\n   =\n   dfrac(-1)^mk_0sqrtZ_mathrmFR_sell^(c)(k_0r)\n     R_sell^(gamma)(k_0r)\nint limits_0^2pi\nint limits_0^pi\n  bmE(rvartheta varphi) biggrvert_mathrmtan\ncdot\nbmF_s ell -m^(gamma)(rvartheta varphi) biggrvert_mathrmtan\n \nsin vartheta\nmathrmdvartheta\nmathrmdvarphi ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The above formula for finding the spherical coefficients alpha_sell m^(c) is valid at any radial distance r from the origin. In particular, the formula can also be used to find the coefficients alpha_sell m^(c) from the radiated fields at far-field distance.","category":"page"},{"location":"spherical/spherical_theory/#spherical_incident_expansion","page":"Spherical Vector Wave Expansion","title":"Number of Relevant Modes of an Incident Electromagnetic Field","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"In a source-free region around the coordinate origin, incident fields can be completely described in terms of vector spherical wave functions bmF_sell m^(1)(bmr) of incident type by (accordingly for the H-field)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmE(r vartheta varphi) =\nk_0  sqrtZ_mathrmF\nsum limits_s=1^2\nsum limits_ell=1^infty\nsum limits_m=-ell^ell\nalpha_sell m^(1)\nbmF_sell m^(1)(rvartheta varphi)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The spherical vector-wave functions bmF_sell m^(1)(bmr) of incident type which are involved in the above calculation have vanishingly small magnitudes for locations bmr with distance to the coordinate origin r  ell k_0. Thus, as long as one is interested only in the fields inside a spherical region around the origin with radius r_mathrmobservation, it is sufficient to consider only modes with ell  L = k_0 r_mathrmobservation (plus a small buffer depending on the desired accuracy).  We have","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmE(r vartheta varphi)bigglvert_r ellk_0 approx\nk_0  sqrtZ_mathrmF\nsum limits_s=1^2\nsum limits_ell=1^L\nsum limits_m=-ell^ell\nalpha_sell m^(1)\nbmF_sell m^(1)(rvartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"note: Note\nThe physical size of the observation region around the coordinate origin dictates the maximum degree ell of the spherical wave expansion to accurately characterize the incident fields.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/#spherical_translation","page":"Spherical Vector Wave Expansion","title":"Translation of Radiated Modes into Incident Modes in Different Coordinate System","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The radiated electromagnetic fields generated by currents around the coordinate origin may be represented by a superposition of spherical vector-wave functions bmF_sell m^(4)(r vartheta varphi) of radiated type. However, in a translated coordinate system (denoted by the primed coordinates r vartheta varphi), the sources are far away from the new coordinate origin and the electromagnetic fields around the new origin may be represented in terms of spherical vector-wave functions bmF_sell m^(1)(r vartheta varphi) of incident type with respect to the new coordinate origin. The geometrical situation is depicted in the figure below.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/SphericalTranslation_dark.svg\" width=\"500\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/SphericalTranslation.svg\" width=\"500\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Schematic of the geometry for the translation of radiated modes into incident modes in a different coordinate system.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"The expansion coefficients alpha_sigma lambda mu^(1) of the incident field in the new coordinate system can be calculated from the expansion coefficients alpha_sell m^(4) of the radiated field in the original coordinate system by","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"   alpha_sigma lambda mu^(1)\n   = \n   sum limits_sell m\n   mathcalT_sell m^sigma lambda mu(bmR)\n    alpha_sell m^(4)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where the translation coefficient mathcalT_sell m^sigma lambda mu(bmR) is given by","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"mathcalT_sell m^sigma lambda mu(bmR)\n=\n-\n  sum limits_ell=0^infty\n  (-1)^sigma + lambda +mu\n  int limits_0^2pi\nint limits_0^pi\n  (-mathrmj)^ell\n  left(\n  2ell+1\n  right)\n    mathrmh_ell^(2)left(k_0lvertbmRrvertright)\n  mathrmP_ellleft(hatbmkleft(vartheta varphiright) cdothatbmRright)  \n  bmK_sell m^(4)left(vartheta varphiright)\n  cdot\n  bmK_sigma lambda- mu^(4)left(vartheta varphiright) \n   sin vartheta \n  mathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where hatbmkleft(vartheta varphiright) denotes the radial unit vector defined by the angles vartheta varphi and hatbmR denotes the unit vector in the direction of the vector from the original coordinate origin to the new coordinate origin.","category":"page"},{"location":"spherical/spherical_theory/#Received-Signal","page":"Spherical Vector Wave Expansion","title":"Received Signal","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Let hatalpha_sell m^(c) be the normalized expansion coefficients for the fields radiated by an antenna such that alpha_sell m^(c)=  ahatalpha_sell m^(c) are the actual expansion coefficients when the antenna's transmit port is excited by a signal with wave amplitude a in mathbbC  sqrtmathrmW. To determine the received signal b in mathbbC  sqrtmathrmW of this antenna in receive mode under a certain illumination of an incident field, it is convenient to represent the incident field via its spherical vector wave expansion","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"bmE(r vartheta varphi)=\nk_0  sqrtZ_mathrmF\nsum limits_s=1^2\nsum limits_ell=1^L\nsum limits_m=-ell^ell\nalpha_sell m^(1)\nbmF_sell m^(1)(rvartheta varphi) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"In this case, the received signal is given by","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"b=\nsum limits_s=1^2\nsum limits_ell=1^L\nsum limits_m=-ell^ell\nalpha_sell m^(1)\nhatbeta_sell m ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where the antenna receive coefficients hatbeta_sell m are found from the corresponding normalized antenna's transmit coefficients hatalpha_sell m^(c) via","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"hatbeta_sell m\n=\ndfrac(-1)^m2\nhatalpha_sell-m^(c) ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"Combining this result with the findings from the section above, we can express the S_21 parameter measured for the transmission between two antennas as","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"S_21\n=\nsum limits_sigma=1^2\nsum limits_lambda=1^L\nsum limits_mu=-lambda^lambda\nhatbeta_sigma lambda mu^textantenna2\n\nleft(\nsum limits_s=1^2\nsum limits_ell=1^L\nsum limits_m=-ell^ell\n   mathcalT_sell m^sigma lambda mu(bmR)\n    hatalpha_sell m^(4)textantenna1\nright)","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"where hatalpha_sell m^(4)textantenna1 are the normalized transmit coefficients of antenna 1 (the transmit antenna), hatbeta_sigma lambda mu^textantenna2 are the receive coefficients of antenna 2 (the receive antenna) and mathcalT_sell m^sigma lambda mu(bmR) is the translation operator known from previous sections with bmR denoting the vector separating the centers of the two antennas. The geometric situation for the calculation of the S_21-parameter is depicted below. ","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"<figure>\n<picture>\n  <source media=\"(prefers-color-scheme: dark)\" srcset=\"../assets/S21Translation_dark.svg\" width=\"500\">\n  <source media=\"(prefers-color-scheme: light)\" srcset=\"../assets/S21Translation.svg\" width=\"500\" >\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    The geometric situation for the calculation of the transmission between two antennas.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"","category":"page"},{"location":"spherical/spherical_theory/#References","page":"Spherical Vector Wave Expansion","title":"References","text":"","category":"section"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"[1]: F. W. J. Olver and National Institute of Standards and Technology (U.S.), eds., \"NIST Handbook of Mathematical Functions\", Cambridge ; New York: Cambridge University Press : NIST, 2010.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"[2]: J. E. Hansen, ed., Spherical Near-Field Antenna Measurements, The Institution of Engineering and Technology, Michael Faraday House, Six Hills Way, Stevenage SG1 2AY, UK: IET, 1988.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"[3]: J. A. Stratton, \"Electromagnetic Theory\", McGraw-Hill, 1st ed. International series in pure and applied physics, OCLC: 536704, New York, 1941.","category":"page"},{"location":"spherical/spherical_theory/","page":"Spherical Vector Wave Expansion","title":"Spherical Vector Wave Expansion","text":"[4]: T. Limpanuparb, J. Milthorpe: \"Associated Legendre Polynomials and Spherical Harmonics Computation for Chemistry Applications\", arXiv 2014.","category":"page"},{"location":"operations/conversions/#Conversions-Between-Field-Representations","page":"Conversion into Other Field Representations","title":"Conversions Between Field Representations","text":"","category":"section"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"warning: Warning\nThis chapter refers to an old state of the package and needs rewriting!! ","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"Field representations can be converted into one another using the convertrepresentation function.  The fields which are evaluated at any given location from the field representation before and after the conversion should be approximately the same if the location is in a region which is valid for both representations. This section is intended to clarify which oenversions are possible and to identify the common regions of validity for the converted field representations. ","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"note: Note\nIn general, a representation of an incident field can only be converted into another incident field representation and a radiating representation can only be converted into another radiating representation.Use the translate- methods to convert radiating representations into their corresponding incident representation in a translated coordinate system.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"note: Note\nThe transmission, e.g. between two antennas, should be exactly reciprocal. Therefore, in theory, the order of arguments in a transmission-command should be exchangable without affecting the result. The calculation methods differ, however. Internally, the fields of the source representation (first argument) are always converted into a representation suitable to be received by the receiver representation (second argument), possibly breaking the exact reciprocity.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"warning: Warning\nDifferent field representations may have different regions of validity. The result of convertrepresentation may only approximately evaluate to the same electric or magnetic fields as the original representation in a region of space which is valid for the old and the new representation.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"","category":"page"},{"location":"operations/conversions/#Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion","page":"Conversion into Other Field Representations","title":"Collection of Dipoles rightarrow Radiating Spherical Wave Expansion","text":"","category":"section"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"Radiated fields can be represented by a vector of dipoles dipoles::Array{<:AbstractDipole,1} (the vector may contain any number of Hertz dipoles or Fitzgerald dipoles).  In theory, the fields of the dipoles can be evaluated at any location which does not exactly coincide with one of the dipole locations. Exactly at the dipole locations, the fields have a singularity. In practice, if the fields shall be evaluated too close to a dipole location (much less than lambda1000 distance) overflows may happen.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"The field representation can be converted into a radiating spherical wave expansion by TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"In the above example, the coefficients of the new spherical wave expansion are represented by complex numbers of type ComplexF64. If single precision is sufficient, one may use TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"A more effective way to control the accuracy of the spherical expansion is to control the expansion order, i.e., the number of mode coefficients which is used for the field representation. The expansion order of the resulting mode expansion is controlled by the Lmax argument TODO: add example","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"Also have a look at Convert Radiated Fields of Fitzgerald Dipoles Into Other Representations in the Examples section of this documentation.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"In theory, the radiating spherical wave expansion is valid outside a sphere centered at the origin with a radius large enough to enclose all source dipoles. In practice, numerical instabilities prevent a reliable evaluation of the fields at locations bmr with k_0 bmr ll ell_mathrmmax, where ell_mathrmmax denotes the largest mode order ell contained in the radiating spherical mode expansion.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"note: Note\nWe can directly convert dipole based representations into other field representations, but not the other way around.(Equivalent) current based field representations, such as a collection of Hertz or Fitzgerald dipoles, are not unique: Different current distributions can lead to the exact same radiated fields. Since there is no unique current distribution for a given field,there is no simple conversion from a field representation to a dipole based representation.","category":"page"},{"location":"operations/conversions/","page":"Conversion into Other Field Representations","title":"Conversion into Other Field Representations","text":"","category":"page"},{"location":"mlfmm/mlfmm_theory/#Fast-Computation-of-Field-Interactions-with-the-Multilevel-Fast-Multipole-Method","page":"Multilevel Fast Multipole Method","title":"Fast Computation of Field Interactions with the Multilevel Fast Multipole Method","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"In usual measurement scenarios, the probe antennas are much smaller than the antenna under test. The geometry of an exemplary measurement scenario is depicted below.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/mlfmm_scenario.png\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Geometrical situation in a typical antenna measurement scenario.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The Multilevel Fast Multipole Method can be used to accelerate the calculation of the transmission between a large antenna under test and many probe antennas at different measurement positions.  The algorithm for the computation of the antenna interactions is based on the plane-wave representation of the S_21 parameter between two antennas","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"S_21=\nint limits_0^2pi\nint limits_0^pi\nhatbmF_1left(hatbmk right)cdot\nT_L(k_0 lvert bmR rvert hatbmk cdot hatbmR)\nhatbmF_2left(- hatbmk right)\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"where hatbmF_1left(hatbmk right) is the normalized far-field pattern of the transmitting antenna 1, hatbmF_2left(- hatbmk right) is the inverted far-field pattern of the receiving antenna 2, and","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"T_L(k_0 lvert bmR rvert hatbmk cdot hatbmR)\n=\n-sum limits_ell =0^Lleft(-mathrmjright)^ell \nleft(2ell+1right)  \nmathrmh_ell^(2)(k_0 lvert bmR rvert)\nmathrmP_ell(hatbmk cdot hatbmR)","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"is the plane-wave translation operator.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The algorithm for the fast computation of many S_21-parameters in the described configuration has three stages.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"In the aggregation stage, by using interpolation and phase shifts, the far-field pattern of the antenna under test is computed by combining the far-field patterns of many smaller subsets of the antenna.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The far-field pattern of the antenna under test is thereafter translated into a plane wave spectrum which can represent the incident fields for many probe positions simultaneously in a well-defined observation region.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Finally in the disaggregation step, the sampling rate of the k-space representation of the far-field patterns of the antenna under test and the probe antennas is reduced in an anterpolation step before the integrals are evaluated at the low sampling density efficiently. Without the anterpolation step, all integrals would have to be evaluated with a huge sampling rate in the k-space.","category":"page"},{"location":"mlfmm/mlfmm_theory/#Aggregation-of-Far-Field-Patterns","page":"Multilevel Fast Multipole Method","title":"Aggregation of Far-Field Patterns","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"One of the key points for the performance of the algorithm is the fact that the far-field pattern of a large antenna can be composed from the individual far-field patterns of disjunct subsets of its equivalent current representations. The geometric situation of this so-called aggregation step is depicted in the figure below.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/aggregate.png\" width=\"500\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Schematic representation of the aggregation step. The far-field pattern of the complete antenna under test (denoted by the large orange sphere) is composed of far-field patterns of subsets of the current densety (denoted by the smaller red spheres).\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The subsets of the currents  each have a signifcantly smaller geometrical size than the current distribution for the complete antenna under test. Therefore, fewer plane-wave samples are sufficient to represent their individual far-field patterns. As a consequence, the computation of the (less densely sampled) far-field patterns from the subset currents is more efficient than the calculation of the (more densely sampled) far field pattern of the complete antenna under test.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The less densely sampled far-field patterns of the subset currents is interpolated to match the sampling density which is necessary to represent the complete far-field pattern of the antenna under test as indicated in the figure below.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/interpolate.png\" width=\"500\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Schematic representation of the interpolation step.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The plane-wave samples of the densely sampled far-field patterns are then phase-shifted as hatbmF(hatbmk) rightarrow hatbmF(hatbmk)  mathrme^ mathrmj bmkcdot bmR such that they are defined with respect to the same expansion center. ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/phaseshift.png\" width=\"500\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Schematic representation of the phase-shifting step.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Finally, all interpolated and phase-shifted far-field patterns of the subset currents can be added together to form the far-field pattern of the complete antenna under test.","category":"page"},{"location":"mlfmm/mlfmm_theory/#Interpolation-of-Far-Field-Patterns","page":"Multilevel Fast Multipole Method","title":"Interpolation of Far-Field Patterns","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Depending on the sampling strategy of the far-field patterns, the plane-wave samples of the densely sampled far-field pattern can be found from the plane-wave samples of the less densely sampled far-field pattern by subsequent 1D-interpolations along the vartheta- and varphi-component, respectively.  Suitable techniques for 1D-interpolation are the trigonometric interpolation[1] and piecewise polynomial interpolation[2] [3].","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Trigonometric interpolation is particularly useful for equidistantly sampled periodic data, where the Fast Fourier Transform can accelerate the interpolation process. In this case, trigonometric interpolation is an exact interpolation technique (in exact arithmetic) with a computational complexity of mathcalO(n log n) to interpolate n points in a 1D periodic data set.  ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"If computational complexity is crucial, piecewise polynomial interpolation comes into play. A (low-order) polynomial is fitted into a small subset of sampling points around the point we wish to interpolate. The piecewise polynomial interpolation is not exact, opposed to the trigonometric interpolation, but the error can be controlled by the order of the polynomial fit and/or the distance between the sampling points. The computational complexity of the piecewise polynomial interpolation is mathcalO(Kn) to interpolate n points in a 1D data set, where K is the fixed order of the polynomial fit. Notice that the order of the polynomial does not depend on the overall length of the data set. Furthermore, the sampling is not required to be neither equidistantly spaced nor periodic (although the Runge phenomenon may obstruct accurate interpolation near the end points of the sampling for most sampling strategies [3]). ","category":"page"},{"location":"mlfmm/mlfmm_theory/#Translation-of-the-Antenna-Under-Test-Far-Field-Pattern-into-a-Plane-Wave-Spectrum-in-Observation-Region","page":"Multilevel Fast Multipole Method","title":"Translation of the Antenna Under Test Far-Field Pattern into a Plane Wave Spectrum in Observation Region","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"After the far-field pattern of the antenna under test has been determined, we can calculate an incident plane wave spectrum for the observation region by applying the translation operator. Ideally, the observation region is large and includes many probe antenna positions at once. In this case, the obtained incident plane wave spectrum is valid for calculating the received signals of all the probes within the observation region.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The valid region for the incident plane-wave representation is ultimately dictated by the contained number of spherical modes. With mire spherical modes in the field representation, the fields of the incident plane-wave spectrum can be correctly evaluated in a larger observation region. The drawback is that this will also neccesitate an increase  of the effective number of spherical modes contained in the antenna far-field pattern before the translation. Due to numerical instabilities of the higher-order spherical modes near the origin, we must also be further away from the antenna to evaluate the fields accurately in this case. ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"As a rule of thumb, the center points of the antenna under test region and the observation region must be separated by at least 2 ell_mathrmmax  k_0 when ell_mathrmmax is the maximum effective mode order for the ell-index of the spherical mode content in either of the field representations. For an accurate evaluation of the desired S_21-integral","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"S_21=\nint limits_0^2pi\nint limits_0^pi\nhatbmF_1left(hatbmk right)cdot\nT_L(k_0 lvert bmR rvert hatbmk cdot hatbmR)\nhatbmF_2left(- hatbmk right)\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"the summation in the translation operator must be carried out for all terms up to L=2 ell_mathrmmax and the far-field patterns hatbmF_1left(hatbmk right) and  hatbmF_2left(- hatbmk right) should be sampled such that spherical mode orders up to ell=2 ell_mathrmmax can be resolved.","category":"page"},{"location":"mlfmm/mlfmm_theory/#Disaggregation-of-Plane-Wave-Spectra","page":"Multilevel Fast Multipole Method","title":"Disaggregation of Plane-Wave Spectra","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Consider the situation after the translation step as depicted in the figure below.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/anterpolate.png\" width=\"500\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Situation after the translation step.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"The antenna under test field is represented by an incident plane-wave spectrum hatbmP_mathrmincleft(hatbmk right) = hatbmF_1left(hatbmk right)T_L(k_0 lvert bmR rvert hatbmk cdot hatbmR) in the observation region around the expansion center bmr_0 (denoted by the large green sphere). The probe antenna's far-field pattern is known with an expansion center at bmr_m. Furthermore, since the probe antenna is small, its far-field pattern has a low-order spherical mode content (thus the representation by a small blue sphere). To evaluate the interaction integral, we need to shift the probe pattern to the incident plane-wave expansion center bmr_0 and ensure that its k-space representation has the same sampling as the incident plane-wave spectrum hatbmP_mathrmincleft(hatbmk right).","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"We have","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"S_21=\nint limits_0^2pi\nint limits_0^pi\nhatbmP_mathrmincleft(hatbmk right) \ncdot\nmathrme^mathrmjbmk cdot (bmr_0-bmr_m)\nmathrminterpolateleft\nhatbmF_2left(- hatbmk right)\nright\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"where we bring the probe far-field pattern to the correct sampling density by the interpolation mathrminterpolatelefthatbmF_2left(- hatbmk right)right before we phase-shift each far-field component by mathrme^mathrmjbmk cdot (bmr_0-bmr_m) to correspond to the correct expansion center at bmr_0.","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"Let textanterpolatecdot be the adjoint operation to the textinterpolatecdot operation. Then we have","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"S_21=\nint limits_0^2pi\nint limits_0^pi\nmathrmanterpolateleft\nhatbmP_mathrmincleft(hatbmk right)\n\nmathrme^mathrmjbmk cdot (bmr_0-bmr_m)\nright \ncdot\nhatbmF_2left(- hatbmk right)\n sin vartheta\nmathrmdvartheta mathrmdvarphi ","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"i.e., the anterpolation operation applied to the (phase-shifted) incident plane-wave spectrum. If the interpolation algorithm can be represented by a matrix multiplication, the anterpolation algorithm is simply a multiplication by the Hermitian adjoint of the interpolation matrix. The result of the anterpolation operation is a plane-wave spectrum centered at the probe position bmr_m matching the low sampling density of the original probe far-field pattern. In fact, the anterpolation step can be regarded as downsampling of the incident plane-wave spectrum with an inherent spherical-mode low-pass filter to avoid aliasing. Due to the neccesary spherical mode-filter, we cannot simply down-sample the incident plane-wave spectrum to match the probe sampling, but we must carefully implement the adjoint operator to our interpolation algorithm.","category":"page"},{"location":"mlfmm/mlfmm_theory/#mlfmm_refs","page":"Multilevel Fast Multipole Method","title":"References","text":"","category":"section"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"[1]: Wikipedia: Trigonometric interpolation","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"[2]: Wikipedia: Polynomial interpolation","category":"page"},{"location":"mlfmm/mlfmm_theory/","page":"Multilevel Fast Multipole Method","title":"Multilevel Fast Multipole Method","text":"[3]: J.-P. Berrut, L. N. Trefethen \"Barycentric Lagrange Interpolation\", SIAM Review, Vol. 46, No. 3, pp. 501-517, 2004 DOI. 10.1137/S0036144502417715","category":"page"},{"location":"surfacecurrents/surface_theory/#Representation-of-Radiated-Electromangentic-Fields-via-Electromagnetic-Surface-Currents","page":"Equivalent Surface Currents","title":"Representation of Radiated Electromangentic Fields via Electromagnetic Surface Currents","text":"","category":"section"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"The electromagnetic surface equivalence principle, sometimes called Huygens principle, states that the fields bmE(bmr), bmH(bmr) radiated from sources in a volume V can be alternatively represented by equivalent electric and magnetic surface currents bmJ_mathrmeq(bmr) and bmM_mathrmeq(bmr) on a closed surface mathcalS (with outward pointing normal vector bmn) enclosing V ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"The corresponding fields fields can be calculated at any point bmr outside of mathcalS from the equivalent surface currents via ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmE(bmr)=\niint limits_mathcalS\nleft\nbmmathcalG_JE\n(bmrbmr)\ncdot\nbmJ_mathrmeq(bmr)\n+\nbmmathcalG_ME\n(bmrbmr)\ncdot\nbmM_mathrmeq(bmr)\nright mathrmda ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"and","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmH(bmr)=\niint limits_mathcalS\nleft\nbmmathcalG_JH\n(bmrbmr)\ncdot\nbmJ_mathrmeq(bmr)\n+\nbmmathcalG_MH\n(bmrbmr)\ncdot\nbmM_mathrmeq(bmr)\nright mathrmda ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"using the dyadic Green's functions ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmmathcalG_JE=\n-mathrmj k_0 Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmmathcalG_ME=\n-nabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmmathcalG_JH=\nnabla g_0(bmrbmr) times mathbfI","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"and","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"bmmathcalG_MH=\n-mathrmj dfrack_0Z_mathrmF\nleft\nleft(mathbfI +dfrac1k^2 nabla nablaright) g_0(bmrbmr)\nright","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"which are derived from the scalar greens function","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":" g_0(bmrbmr)\n=\ndfracmathrme^-mathrmjk_0 bmr-bmr4pi bmr-bmr ","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"In a numeric implementation, the surface mathcalS can be, e.g., approximated by triangles, which serve as a basis for so-called Rao-Wilton-Glisson basis functions.","category":"page"},{"location":"surfacecurrents/surface_theory/","page":"Equivalent Surface Currents","title":"Equivalent Surface Currents","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/SurfacePlot.png\" width=\"600\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Electric surface currents represented by Rao-Wilton-Glisson functions on spherical surface.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"sampling/farfieldsampling/#farfieldsampling","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"sampling/farfieldsampling/#Constructors-of-FarFieldSampling","page":"Far Field Samplings","title":"Constructors of FarFieldSampling","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"sampling/farfieldsampling/#farfieldsamplingstrategy","page":"Far Field Samplings","title":"Far Field Sampling Strategies","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"sampling/farfieldsampling/#RegularSphereSamplingStrategy","page":"Far Field Samplings","title":"RegularSphereSamplingStrategy","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"sampling/farfieldsampling/#GaussLegendreθRegularϕ","page":"Far Field Samplings","title":"GaussLegendreθRegularϕ","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"sampling/farfieldsampling/#Constructors-of-IrregularFarFieldSampling","page":"Far Field Samplings","title":"Constructors of IrregularFarFieldSampling","text":"","category":"section"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"note: Note\nComing soon ...","category":"page"},{"location":"sampling/farfieldsampling/","page":"Far Field Samplings","title":"Far Field Samplings","text":"","category":"page"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"warning: Warning\nThis chapter refers to an old state of the package and needs rewriting!! ","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"","category":"page"},{"location":"examples/#Convert-Radiated-Fields-of-Fitzgerald-Dipoles-Into-Other-Representations","page":"Examples","title":"Convert Radiated Fields of Fitzgerald Dipoles Into Other Representations","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"First, let us investigate the spherical mode expansion of fields which are radiated by a collection of Fitzgerald dipoles. ","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"AntennaFieldRepresentations is used to convert the dipole representation into a radiating spherical vector wave expansion.  TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"The order of the mode expansion (i.e., th number of considered spherical mode coefficients to represent the radiated fields) is based on the largest separation of any dipole to the coordinate origin. The default value is chosen very conservatively, leading to many close-to-zero coefficients as can be seen by visualizing the corresponding spherical mode expansion by TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sphModes.svg\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Mode spectrum for the radiated field of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"A larger expansion order (i.e., the maximum occuring mode order ℓ) usually leads to more accurate representations at the cost of additional storage and computation requirements. The expansion order can be passed as an additional argument to the convertrepresentation function. In the following example, the expansion order is limited to an expansion order of ℓ≤24. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/sphModes_reduced.svg\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Reduced mode spectrum for the radiated field of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Next, we can calculate the radiated far fields and store the far-field pattern in a FarFieldPattern. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"For a higher resolution, the mode order for the far-field representation can be increased. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/ff_dipoles_highres.png\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Far-field pattern of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"When the far-field pattern is computed from a spherical wave expansion, the mode order for the far-field representation is chosen identical to the mode order of the spherical wave expansion. TODO: add example","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"<figure>\n<picture>\n  <source  srcset=\"../assets/ff_sph.png\" width=\"800\">\n  <img alt=\"\" src=\"\" width=\"200\">\n</picture>\n\n  <figcaption>\n    Far-field pattern of the collection of Fitzgerald dipoles.\n  </figcaption>\n</figure>\n<br/>","category":"page"},{"location":"surfacecurrents/surface_examples/#TODO:-generate-content","page":"TODO: generate content","title":"TODO: generate content","text":"","category":"section"},{"location":"operations/transmission/#transmission","page":"Transmission","title":"Transmission between an AntennaFieldRepresentation and a FieldSampling","text":"","category":"section"},{"location":"operations/transmission/","page":"Transmission","title":"Transmission","text":"The transmit method can be used to evaluate the probe outputs of a FieldSampling for a given AntennaFieldRepresentation without constructing a TransmissionMap first. However, this is only recommended if the operation is not called multiple times to avoid redundant allocations. ","category":"page"},{"location":"operations/transmission/#transmissionmap","page":"Transmission","title":"TransmissionMaps","text":"","category":"section"},{"location":"operations/transmission/","page":"Transmission","title":"Transmission","text":"todo: Todo\nComing soon ...","category":"page"},{"location":"operations/transmission/","page":"Transmission","title":"Transmission","text":"","category":"page"},{"location":"#AntennaFieldRepresentations.jl","page":"Home","title":"AntennaFieldRepresentations.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package contains various representations of the electromagnetic fields radiated by antennas. AntennaFieldRepresentations.jl aims to implement the linear operator between any of the featured antenna representation and a predefined field sampling. By providing the possibility to switch between various antenna field representations, AntennaFieldRepresentations.jl enables the user to choose the most suitable (most efficient) representation for the problem at hand. The purpose of this package is primarily academic and educational.  The package is under heavy development at the moment and represents by no means a finished state. Use with care!","category":"page"},{"location":"","page":"Home","title":"Home","text":"note: Note\nThe package AntennaFieldRepresentations.jl deals with representations of the electromagnetic fields of an antenna at a single frequency.A time convention of mathrme^mathrmjomega t is implicitly assumed for the relevant variables and SI units are implied everywhere.","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package is not registered in the Julia General Registry, yet, but a future version of this package might. For the time being, you can install the package by switching into the package manager (type ] in the REPL) and run","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> add https://github.com/joskna/AntennaFieldRepresentations.jl ","category":"page"},{"location":"#Featured-Antenna-Representations","page":"Home","title":"Featured Antenna Representations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The following types of antenna representations are provided by AntennaFieldRepresentations:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Collections of short electric and magnetic dipoles\nSpherical Vector-Wave Expansions\nPlane-WaveExpansions\nEquivalent Surface-Currents","category":"page"},{"location":"#Featured-Field-Samplings","page":"Home","title":"Featured Field Samplings","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The following types of field samplings can be used with any antenna representation:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Electric and/or magnetic field components at arbitrary (near-field) locations\nRegular spherical sampling with\nfirst order probes\narbitrary order probes\nIrregularly sampled near-fields using probe antennas with arbitrary receiving patterns","category":"page"},{"location":"#Featured-Operations-on-Antenna-Representations","page":"Home","title":"Featured Operations on Antenna Representations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The main purpose of AntennaFieldRepresentations.jl is to calculate the interaction between a given antenna under test (AUT) and a predefined field sampling, i.e., to calculate the received signal of probe antennas at predefined positions when the AUT is radiating.","category":"page"},{"location":"","page":"Home","title":"Home","text":"However, the functionality of AntennaFieldRepresentations.jl is not limited to this.  With AntennaFieldRepresentations.jl the user can (besides other useful things)","category":"page"},{"location":"","page":"Home","title":"Home","text":"calculate the near- and far-fields of the AUT at arbitrary positions\nconvert an antenna field representation into a representation of different type\nconvert an antenna field representation into a representation of the same type in a different coordinate system (the new coordinate system may be rotated or translated from the original coordinate system)\nevaluate the transposed, Hermitian, and inverses of most featured linear operators\ncalculate the expansion coefficients of an antenna representation given a field sampling and the received signals (i.e, solve a source reconstruction problem)\naccelerate the evaluation of the interaction operator beween suitable antenna representations and field samplings by means of the multilevel fast multipole method","category":"page"},{"location":"operations/fields/#Field-Evaluations","page":"Field Evaluations","title":"Field Evaluations","text":"","category":"section"},{"location":"operations/fields/#Electric-and-Magnetic-Field-at-Given-Location","page":"Field Evaluations","title":"Electric and Magnetic Field at Given Location","text":"","category":"section"},{"location":"operations/fields/#Far-Fields","page":"Field Evaluations","title":"Far Fields","text":"","category":"section"}]
}
