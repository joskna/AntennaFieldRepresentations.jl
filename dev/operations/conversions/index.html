<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Conversions · AntennaFieldRepresentations.jl</title><meta name="title" content="Conversions · AntennaFieldRepresentations.jl"/><meta property="og:title" content="Conversions · AntennaFieldRepresentations.jl"/><meta property="twitter:title" content="Conversions · AntennaFieldRepresentations.jl"/><meta name="description" content="Documentation for AntennaFieldRepresentations.jl."/><meta property="og:description" content="Documentation for AntennaFieldRepresentations.jl."/><meta property="twitter:description" content="Documentation for AntennaFieldRepresentations.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="AntennaFieldRepresentations.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="AntennaFieldRepresentations.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AntennaFieldRepresentations.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../fieldrepresentations/">Antenna Field Representations</a></li><li><span class="tocitem">Operations</span><ul><li><a class="tocitem" href="../fields/">Field Evaluations</a></li><li><a class="tocitem" href="../coordinate_trafos/">Coordinate Transformations</a></li><li class="is-active"><a class="tocitem" href>Conversions</a><ul class="internal"><li><a class="tocitem" href="#Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion"><span>Collection of Dipoles <span>$\rightarrow$</span> Radiating Spherical Wave Expansion</span></a></li><li><a class="tocitem" href="#Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern"><span>Collection of Dipoles <span>$\rightarrow$</span> Far-Field Pattern</span></a></li><li><a class="tocitem" href="#Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion"><span>Collection of Dipoles <span>$\rightarrow$</span> Incident Spherical Wave Expansion</span></a></li><li><a class="tocitem" href="#Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern"><span>Radiating Spherical Wave Expansion <span>$\rightarrow$</span> Far-Field Pattern</span></a></li><li><a class="tocitem" href="#Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion"><span>Far-Field Pattern <span>$\rightarrow$</span> Radiating Spherical Wave Expansion</span></a></li><li><a class="tocitem" href="#Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum"><span>Incident Spherical Wave Expansion <span>$\rightarrow$</span> Plane Wave Spectrum</span></a></li><li><a class="tocitem" href="#Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion"><span>Plane Wave Spectrum <span>$\rightarrow$</span> Incident Spherical Wave Expansion</span></a></li></ul></li><li><a class="tocitem" href="../interactions/">Transmissions</a></li></ul></li><li><a class="tocitem" href="../../examples/">Examples</a></li><li><span class="tocitem">Electromagnetic Theory</span><ul><li><a class="tocitem" href="../../dipoles/dipole_theory/">Dipoles</a></li><li><a class="tocitem" href="../../spherical/spherical_theory/">Spherical Vector Wave Expansion</a></li><li><a class="tocitem" href="../../planewaves/planewave_theory/">Plane Wave Expansion</a></li><li><a class="tocitem" href="../../surfacecurrents/surface_theory/">Equivalent Surface Currents</a></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">Fast Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../spherical/spherical_fast/">Spherical Wacker Algorithm</a></li><li><a class="tocitem" href="../../mlfmm/mlfmm_theory/">Multilevel Fast Multipole Method</a></li></ul></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Operations</a></li><li class="is-active"><a href>Conversions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Conversions</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Conversions-Between-Field-Representations"><a class="docs-heading-anchor" href="#Conversions-Between-Field-Representations">Conversions Between Field Representations</a><a id="Conversions-Between-Field-Representations-1"></a><a class="docs-heading-anchor-permalink" href="#Conversions-Between-Field-Representations" title="Permalink"></a></h1><p>Field representations can be converted into one another using the <code>convertrepresentation</code> function.  The fields which are evaluated at any given location from the field representation before and after the conversion should be approximately the same if the location is in a region which is valid for both representations. This section is intended to clarify which oenversions are possible and to identify the common regions of validity for the converted field representations. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In general, a representation of an <em>incident</em> field can only be converted into another <em>incident</em> field representation and a <em>radiating</em> representation can only be converted into another <em>radiating</em> representation.</p><p>Use the <code>translate</code>- methods to convert <em>radiating</em> representations into their corresponding <em>incident</em> representation in a translated coordinate system.</p></div></div><hr/><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The transmission, e.g. between two antennas, should be exactly reciprocal. Therefore, in theory, the order of arguments in a <code>transmission</code>-command should be exchangable without affecting the result. The calculation methods differ, however. Internally, the fields of the source representation (first argument) are always converted into a representation suitable to be received by the receiver representation (second argument), possibly breaking the exact reciprocity.</p></div></div><hr/><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Different field representations may have different regions of validity. The result of <code>convertrepresentation</code> may only approximately evaluate to the same electric or magnetic fields as the original representation in a region of space which is valid for the old <em>and</em> the new representation.</p></div></div><hr/><h2 id="Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion"><a class="docs-heading-anchor" href="#Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion">Collection of Dipoles <span>$\rightarrow$</span> Radiating Spherical Wave Expansion</a><a id="Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion-1"></a><a class="docs-heading-anchor-permalink" href="#Collection-of-Dipoles-\\rightarrow-Radiating-Spherical-Wave-Expansion" title="Permalink"></a></h2><p>Radiated fields can be represented by a vector of dipoles <code>dipoles::Array{&lt;:AbstractDipole,1}</code> (the vector may contain any number of Hertz dipoles or Fitzgerald dipoles).  In theory, the fields of the dipoles can be evaluated at any location which does not exactly coincide with one of the dipole locations. Exactly at the dipole locations, the fields have a singularity. In practice, if the fields shall be evaluated too close to a dipole location (much less than <span>$\lambda/1000$</span> distance) overflows may happen.</p><p>The field representation can be converted into a radiating spherical wave expansion by TODO: add example</p><p>In the above example, the coefficients of the new spherical wave expansion are represented by complex numbers of type <code>ComplexF64</code>. If single precision is sufficient, one may use TODO: add example</p><p>A more effective way to control the accuracy of the spherical expansion is to control the expansion order, i.e., the number of mode coefficients which is used for the field representation. The expansion order of the resulting mode expansion is controlled by the Lmax argument TODO: add example</p><p>Also have a look at <a href="../../examples/#Convert-Radiated-Fields-of-Fitzgerald-Dipoles-Into-Other-Representations">Convert Radiated Fields of Fitzgerald Dipoles Into Other Representations</a> in the <a href="../../examples/#Examples">Examples</a> section of this documentation.</p><p>In theory, the radiating spherical wave expansion is valid outside a sphere centered at the origin with a radius large enough to enclose all source dipoles. In practice, numerical instabilities prevent a reliable evaluation of the fields at locations <span>$\bm{r}$</span> with <span>$||k_0 \bm{r}|| \ll \ell_{\mathrm{max}}$</span>, where <span>$\ell_{\mathrm{max}}$</span> denotes the largest mode order <span>$\ell$</span> contained in the radiating spherical mode expansion.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>We can directly convert dipole based representations into other field representations, but not the other way around.</p><p>(Equivalent) current based field representations, such as a collection of Hertz or Fitzgerald dipoles, are not unique: Different current distributions can lead to the exact same radiated fields. Since there is no unique current distribution for a given field,there is no simple conversion from a field representation to a dipole based representation.</p></div></div><hr/><h2 id="Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern"><a class="docs-heading-anchor" href="#Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern">Collection of Dipoles <span>$\rightarrow$</span> Far-Field Pattern</a><a id="Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern-1"></a><a class="docs-heading-anchor-permalink" href="#Collection-of-Dipoles-\\rightarrow-Far-Field-Pattern" title="Permalink"></a></h2><h2 id="Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion"><a class="docs-heading-anchor" href="#Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion">Collection of Dipoles <span>$\rightarrow$</span> Incident Spherical Wave Expansion</a><a id="Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion-1"></a><a class="docs-heading-anchor-permalink" href="#Collection-of-Dipoles-\\rightarrow-Incident-Spherical-Wave-Expansion" title="Permalink"></a></h2><h2 id="Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern"><a class="docs-heading-anchor" href="#Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern">Radiating Spherical Wave Expansion <span>$\rightarrow$</span> Far-Field Pattern</a><a id="Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern-1"></a><a class="docs-heading-anchor-permalink" href="#Radiating-Spherical-Wave-Expansion-\\rightarrow-Far-Field-Pattern" title="Permalink"></a></h2><h2 id="Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion"><a class="docs-heading-anchor" href="#Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion">Far-Field Pattern <span>$\rightarrow$</span> Radiating Spherical Wave Expansion</a><a id="Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion-1"></a><a class="docs-heading-anchor-permalink" href="#Far-Field-Pattern-\\rightarrow-Radiating-Spherical-Wave-Expansion" title="Permalink"></a></h2><h2 id="Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum"><a class="docs-heading-anchor" href="#Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum">Incident Spherical Wave Expansion <span>$\rightarrow$</span> Plane Wave Spectrum</a><a id="Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#Incident-Spherical-Wave-Expansion-\\rightarrow-Plane-Wave-Spectrum" title="Permalink"></a></h2><h2 id="Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion"><a class="docs-heading-anchor" href="#Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion">Plane Wave Spectrum <span>$\rightarrow$</span> Incident Spherical Wave Expansion</a><a id="Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion-1"></a><a class="docs-heading-anchor-permalink" href="#Plane-Wave-Spectrum-\\rightarrow-Incident-Spherical-Wave-Expansion" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../coordinate_trafos/">« Coordinate Transformations</a><a class="docs-footer-nextpage" href="../interactions/">Transmissions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Sunday 11 August 2024 20:38">Sunday 11 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
